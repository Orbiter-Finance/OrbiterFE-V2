(window.webpackJsonp=window.webpackJsonp||[]).push([["manifest"],{"0514":function(t,e,a){},"0c0a":function(t,e,a){},"0da88":function(t,e,a){"use strict";a("5b4e")},"116b":function(t,e,a){"use strict";var s=a("bc3a"),r=a.n(s),i=a("4365");const n=Object(i.d)()?"/api/v1/l2_data/":"https://l2api.orbiter.finance/api/v1/l2_data";e.a=r.a.create({baseURL:n})},"171f":function(t,e,a){"use strict";a("b39a")},1812:function(t,e,a){"use strict";var s={props:{href:{type:String},width:{type:Number,default:12},height:{type:Number,default:12}},computed:{style(){const t=this.width,e=this.height;return{width:t+"px",height:e+"px","background-size":`${t}px ${e}px`}}}},r=(a("68e6"),a("2877")),i=Object(r.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",style:this.style,attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"7b51a8df",null);e.a=i.exports},"1c8a":function(t,e,a){},"1f91":function(t,e,a){"use strict";a("836c")},2007:function(t,e,a){t.exports=a.p+"static/img/dailogo.70e90db5.png"},"20a8":function(t,e,a){"use strict";a("490a")},25:function(t,e){},26:function(t,e){},2655:function(t,e,a){"use strict";a("0514")},27:function(t,e){},28:function(t,e){},29:function(t,e){},2911:function(t,e,a){},30:function(t,e){},31:function(t,e){},"31d6":function(t,e){t.exports="data:image/png;base64,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"},32:function(t,e){},33:function(t,e){},3536:function(t,e){t.exports="data:image/png;base64,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"},3568:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("6612"),r=a.n(s),i=(a("13d5"),a("313e")),n=(a("d9e2"),a("116b"));var o=a("ceb7"),l=a("f23e"),c=a("d147"),d=a("d186"),u=a("d48f");const h=t=>t-t%864e5;function p(t,e){const a=new Date("string"==typeof e?e.replace(/-/g,"/"):e).getTime(),s=new Date("string"==typeof t?t.replace(/-/g,"/"):t).getTime(),r=[];for(let t=a;t>=s;)r.push({start:h(new Date(t).getTime())-5184e5,end:h(new Date(t).getTime())}),t-=6048e5;return r}const m=["Arbitrum","Aztec","Boba","Gluon","Hermez","Immutable X","Loopring","Metis","OMG","Optimism","StarkNet","ZkSpace","ZkSwapV2","ZkSync","dYdX","ScrollL1","ScrollL2"],f={},g=["Ethereum Mainnet Transactions"],y=["rgba(17, 112, 255, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],v=t=>1e3*t,w=t=>t-t%864e5;var _={components:{Selector:o.a,TimeDiff:l.a,ChainsLogo:c.a},data:()=>({checkerData:[{value:3,label:"3m"},{value:6,label:"6m"},{value:12,label:"1y"},{value:"Max",label:"Max"}],defaultSort:{prop:"txs",order:"descending"},baseChartData:{},currentChartTime:6,allSeries:g,color:y,checkData:["Ethereum Mainnet Transactions"]}),computed:{isMobile:()=>d.f.value,filteredChartData(){const t=this.baseChartData;if(!t||!t.tx_data)return[];let e=[];if([3,6].includes(this.currentChartTime))e=Array.from({length:30*this.currentChartTime},(t,e)=>e+1);else if([12].includes(this.currentChartTime))e=Array.from({length:30*this.currentChartTime+4},(t,e)=>e+1);else{e=t.tx_data?Object.keys(t.tx_data):[];let a=e.length%7;0!=a&&e.splice(-a)}return e.map(e=>t.tx_data[e])},latestData(){const t=this.baseChartData;if(t&&t.tx_data)return t.tx_data[1]},latestDataRank(){return this.latestData?Object.keys(this.latestData.rollups).map(t=>({name:t,transactions:this.latestData.rollups[t]})).sort((t,e)=>e.transactions-t.transactions).slice(0,10).map((t,e)=>({...t,no:e+1})):[]},isLightMode(){return"light"===this.$store.state.themeMode}},watch:{filteredChartData(){this._chart&&this._chart.setOption(this._getChartOptions())},isLightMode(){this._chart&&this._chart.setOption(this._getChartOptions())}},async mounted(){this._initChart(),this.$loader.show(),this.baseChartData=await async function(){let t=void 0;try{if(t=await n.a.get("/mainpage_rollup_tx_by_day"),"success"!==t.data.status)throw Error()}catch(t){console.error("Failed to get l2data",t)}return t?t.data.data:void 0}(),this.$loader.hide(),window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{numeral:r.a,dateFormat:u.a,_onResize(){this._chart&&this._chart.resize()},_initChart(){this.$nextTick(()=>{const t=document.getElementById("l2-data-chart"),e=i.init(t);this._chart=e})},onCheckerClick(t){if(this.checkData.includes(t)?this.checkData=this.checkData.filter(e=>e!==t):this.checkData=this.checkData.concat([t]),this._chart){this._chart.clear();const t=this._getChartOptions();this._chart.setOption(t)}},_getChartOptions(){const{times:t,data:e,data_l1:a}=this._getData(),s={width:"100%",title:{show:!1},grid:{top:10,left:"0",right:"30",bottom:"26",containLabel:!0},legend:{right:0,lineStyle:{color:"rgba(245, 245, 245, 1)",width:1}},xAxis:{type:"category",boundaryGap:!1,data:t,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},splitLine:{lineStyle:{color:this.isLightMode?" rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}},axisLabel:{padding:[0,5,0,5],formatter:t=>Object(u.a)(parseInt(t),"yyyy-MM-dd")}},yAxis:[{type:"value",axisTick:{show:!1},splitNumber:3,axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},splitLine:{lineStyle:{color:this.isLightMode?"rgb(246, 246, 246)":"rgb(63, 65, 91)"}},axisPointer:{show:!1}}],tooltip:{trigger:"axis",pading:0,backgroundColor:"transparent",formatter:this._onFormatter,position:function(t,e,a,s,r){const i={top:40};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=-30,i}},series:[{type:"line",smooth:!0,lineStyle:{width:4,color:"#DF2E2D"},showSymbol:!1,areaStyle:{opacity:.8,color:new i.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(232, 94, 36, 0.24)"},{offset:1,color:"rgba(232, 94, 36, 0)"}])},emphasis:{focus:"series"},data:e}]};return this.isMobile&&(s.grid={top:10,left:"0",right:"0",bottom:"20",containLabel:!0}),this.checkData.includes("Ethereum Mainnet Transactions")&&(s.series[1]={type:"line",smooth:!0,lineStyle:{width:4,color:"rgb(17, 112, 255)"},showSymbol:!1,areaStyle:{opacity:.8,color:new i.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(17, 112, 255, 0.24)"},{offset:1,color:"rgba(17, 112, 255, 0)"}])},emphasis:{focus:"series"},data:a}),s},_getData(){const t=this.currentChartTime;if([3,6].includes(t))return{times:this.filteredChartData.map(t=>v(t.timestamp)).reverse(),data:this.filteredChartData.map(t=>t.all).reverse(),data_l1:this.filteredChartData.map(t=>t.all_l1).reverse()};if([12,"Max"].includes(t)){const e=p(12===t?w((new Date).getTime())-31104e6:v(this.filteredChartData[this.filteredChartData.length-1].timestamp),v(this.filteredChartData[0].timestamp)),a=e.map(t=>this.filteredChartData.filter(e=>v(e.timestamp)>=t.start&&v(e.timestamp)<=t.end).reduce((t,e)=>t+e.all,0)).reverse(),s=e.map(t=>this.filteredChartData.filter(e=>v(e.timestamp)>=t.start&&v(e.timestamp)<=t.end).reduce((t,e)=>t+e.all_l1,0)).reverse();return{times:e.map(t=>t.end).reverse(),data:a,data_l1:s}}},_onFormatter([t,e]){let a={};if(f[t.axisValue])a=f[t.axisValue];else{const e=this._getRollupsByTime(t.axisValue);a=Object.keys(e).map(t=>({name:t,value:e[t]})).sort((t,e)=>e.value-t.value),f[t.axisValue]=a}if(!a.length)return;const s=new Date(parseInt(t.axisValue)).getTime();let i=s-5184e5;const n=p(12===this.currentChartTime?w((new Date).getTime())-31104e6:v(this.filteredChartData[this.filteredChartData.length-1].timestamp),v(this.filteredChartData[0].timestamp));i<=n[n.length-1].start&&(i=n[n.length-1].start);const o=[3,6].includes(this.currentChartTime)?Object(u.a)(parseInt(t.axisValue),"yyyy-MM-dd"):`From ${Object(u.a)(i,"yyyy-MM-dd")} to ${Object(u.a)(s,"yyyy-MM-dd")}`,l=this.currentChartTime;if([12,"Max"].includes(l)){let t=this.filteredChartData.filter(t=>v(t.timestamp)>=i&&v(t.timestamp)<=s).map(t=>t.rollups),e={},r=[];t.map(t=>{for(const a in t)e[a]?e[a].value=t[a]?e[a].value+t[a]:e[a].value:e[a]={name:a,value:t[a]?t[a]:0}});for(const t in e)r.push(e[t]);r.sort((t,e)=>e.value-t.value),a=r}const c=a.slice(0,10),d=a.slice(10).reduce((t,e)=>({name:"Others",value:t.value?t.value+e.value:e.value}),{});return`<div class="chart-popover-content">\n                <div class="chart-popover-title">${o}</div>\n                    ${this.checkData.includes("Ethereum Mainnet Transactions")?`<div class="chart-popover-total-transactions">\n                    Ethereum Transactions: <span style='color: rgb(17, 112, 255)'>${r()(e.data).format("0,0")}</span>\n                  </div>`:""}\n                    <div class="chart-popover-total-transactions">\n                    Layer2 Total Transactions: <span>${r()(t.data).format("0,0")}</span>\n                    </div>\n                    <div class="chart-popover-rollups">\n                    ${c.concat([d]).map(e=>`<div class="chart-popover-rollup">\n                            <div class="name">${e.name}</div>\n                            <div class="transactions">\n                                ${r()(e.value).format("0,0")}\n                            </div>\n                            <div class="percentage">\n                                ${r()(e.value/t.data).format("0.00%")}\n                            </div>\n                          </div> `).join("")}\n                </div>\n              </div>`},_getRollupsByTime(t){if([3,6].includes(this.currentChartTime))return this.filteredChartData.find(({timestamp:e})=>1e3*e===parseInt(t)).rollups;const e=new Date(parseInt(t)).getTime(),a=e-6048e5;return this.filteredChartData.filter(t=>v(t.timestamp)>a&&v(t.timestamp)<e).reduce((t,e)=>(m.forEach(a=>{const s=e.rollups[a];t[a]=t[a]?t[a]+s:s}),t),{})}}},b=(a("459d"),a("a620"),a("2877")),C=Object(b.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"chart-wrapper"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"head"},[e("div",{staticClass:"title"},[t._v("Layer2 Transactions Chart")]),e("div",{staticClass:"checke-wrap"},[e("selector",{attrs:{data:t.checkerData,value:t.currentChartTime},on:{change:e=>t.currentChartTime=e.value}})],1)]),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0),e("div",{attrs:{id:"l2-data-chart"}})]),e("div",{staticClass:"rollups"},[e("div",{staticClass:"head"},[e("div",{staticClass:"title"},[t._v(" Rollups by Daily Transactions "),t.isMobile?t._e():[t._v(" ,"+t._s(t.latestData?t.dateFormat(t.latestData.timestamp_read,"yyyy-MM-dd"):"-")+" ")]],2),!t.isMobile&&t.baseChartData&&t.baseChartData.update_time?e("time-diff",{attrs:{timestamp:t.baseChartData.update_time}}):t._e(),e("div",{staticClass:"more",on:{click:function(e){return t.$router.push({path:"/dataDetail",query:{nav:"Rollups"}})}}},[t._v(" More "),e("img",{attrs:{src:a("ca50"),width:"8",height:"12"}})])],1),e("div",{staticClass:"contents"},[e("div",{staticClass:"content1"},t._l(t.latestDataRank.slice(0,5),(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.no)+" ")]),e("chains-logo",{attrs:{name:a.name}}),e("div",{staticClass:"name"},[t._v(" "+t._s(a.name)+" ")]),e("div",{staticClass:"num"},[t._v(" "+t._s(t.numeral(a.transactions).format("0,0"))+" ")])],1)})),0),e("div",{staticClass:"content2"},t._l(t.latestDataRank.slice(5,10),(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.no)+" ")]),e("chains-logo",{attrs:{name:a.name}}),e("div",{staticClass:"name"},[t._v(" "+t._s(a.name)+" ")]),e("div",{staticClass:"num"},[t._v(" "+t._s(t.numeral(a.transactions).format("0,0"))+" ")])],1)})),0)])])])}),[],!1,null,"9951bde4",null).exports,A=a("f690"),T=a("ede9"),x=a("1812"),k=a("9e9d"),P=a("fa91");var D=a("d920"),S={data:()=>({currentRollup:void 0,baseDappDailyData:{},tableData:[],rollups:[]}),computed:{isMobile:()=>d.f.value,name(){const t=this.rollups.find(t=>t.value===this.currentRollup);return t?t.label:""}},watch:{currentRollup(){this._getDappDailyData()}},components:{Chart:C,Rollups:A.a,TimeDiff:l.a,DappLogo:P.a,IconLink:T.a,TwitterLink:k.a,ScanLink:x.a},async mounted(){this.rollups=await Object(D.b)("mainpage"),this.currentRollup=this.rollups[0].value},methods:{numeral:r.a,dateFormat:u.a,async _getDappDailyData(){const t=await async function(t){let e=void 0;try{if(e=await n.a.get("/mainpage_dapp_daily_data/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapp daily data",t)}return e?e.data.data:void 0}(this.currentRollup);this.baseDappDailyData=t;const e=t&&t.table_data;this.tableData=e}}},E=(a("a7d6"),Object(b.a)(S,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"l2data"},[e("Chart"),e("div",{staticClass:"dapp-daily-data"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{customRollups:t.rollups,value:t.currentRollup},on:{"rollup-change":e=>t.currentRollup=e}}),e("div",{staticClass:"more",on:{click:function(e){return t.$router.push({path:"/dataDetail",query:{nav:"Dapps"}})}}},[t._v(" More "),e("img",{attrs:{src:a("ca50"),width:"8",height:"12"}})])],1),e("div",{staticClass:"title"},[t._v(" "+t._s(t.name)+" Dapp Daily Data "+t._s(!t.isMobile&&t.baseDappDailyData&&t.baseDappDailyData.update_time?","+t.dateFormat(1e3*(t.baseDappDailyData.update_time-86400),"yyyy-MM-dd"):t.isMobile?"":"-")+" "),!t.isMobile&&t.baseDappDailyData&&t.baseDappDailyData.update_time?e("time-diff",{attrs:{timestamp:t.baseDappDailyData.update_time}}):t._e()],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"empty-text":"No Items"}},[e("el-table-column",{attrs:{fixed:"",label:"Dapp Name",width:t.isMobile?250:350},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[[0!==a.row.rank?e("div",{staticClass:"rank"},[t._v(" "+t._s(a.row.rank)+" ")]):e("div",{staticClass:"new"},[e("span",[t._v(" NEW ")])])],e("dapp-logo",{attrs:{name:a.row.dapp_name,rollup:t.currentRollup}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name}},[t._v(" "+t._s(a.row.dapp_name)+" ")]),t.isMobile?t._e():[0===a.row.rank?[e("scan-link",{attrs:{href:a.row.dapp_url,width:13,height:13}})]:[e("icon-link",{attrs:{href:a.row.dapp_url}}),a.row.dapp_twitter?e("twitter-link",{attrs:{href:a.row.dapp_twitter}}):t._e()]]],2)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"120",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_active_users",label:"24h Active Users",width:"170",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_active_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_new_users",label:"24h New Users",width:"150",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_new_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_interactions",label:"24h Interactions",width:"160",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_interactions"]).format("0,0"))+" ")])]}}])})],1)],1)])],1)}),[],!1,null,null,null));e.default=E.exports},"3b1b":function(t,e,a){},"3e28":function(t,e,a){t.exports=a.p+"static/img/mcologo.94f91593.png"},"3e39":function(t,e,a){"use strict";a("800a")},4188:function(t,e,a){},"459d":function(t,e,a){"use strict";a("b144")},"490a":function(t,e,a){},"4fe9":function(t,e,a){t.exports=a.p+"static/img/apex.b7bc7e6b.png"},"520b":function(t,e,a){t.exports=a.p+"static/img/metislogo.621c51aa.png"},"54f8":function(t,e,a){t.exports=a.p+"static/img/bnblogo.41e6c89e.png"},"5b4e":function(t,e,a){},"5d38":function(t,e,a){"use strict";a("7666")},"5e7d":function(t,e,a){},"65ce":function(t,e,a){t.exports=a.p+"static/img/usdtlogo.88b6a5d2.png"},"67f1":function(t,e,a){},"68ce":function(t,e,a){"use strict";a("739e")},"68e6":function(t,e,a){"use strict";a("ee70")},"6bc0":function(t,e){t.exports="data:image/png;base64,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"},"6fa4":function(t,e,a){"use strict";a("ac04")},"739e":function(t,e,a){},7666:function(t,e,a){},"773f":function(t,e,a){},"7d25":function(t,e,a){"use strict";a("7f02")},"7ecd":function(t,e,a){},"7f02":function(t,e,a){},"800a":function(t,e,a){},8194:function(t,e,a){"use strict";a("b90e")},"836c":function(t,e,a){},"87a2":function(t,e,a){t.exports=a.p+"static/img/ethlogo.7fc46514.svg"},"971b":function(t,e,a){"use strict";a("a3c2")},"9aaa":function(t,e,a){},"9e9d":function(t,e,a){"use strict";var s={props:{href:{type:String}}},r=(a("af4e"),a("2877")),i=Object(r.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"0b61c59b",null);e.a=i.exports},a3c2:function(t,e,a){},a436:function(t,e,a){},a620:function(t,e,a){"use strict";a("2911")},a7d6:function(t,e,a){"use strict";a("1c8a")},a8a9:function(t,e,a){"use strict";a("67f1")},ab49:function(t,e,a){"use strict";a("a436")},ac04:function(t,e,a){},ad47:function(t,e,a){t.exports=a.p+"static/img/zkslogo.736498fb.png"},af4e:function(t,e,a){"use strict";a("9aaa")},aff3:function(t,e,a){"use strict";a("0c0a")},b144:function(t,e,a){},b39a:function(t,e,a){},b3bc:function(t,e,a){"use strict";a("bd9f")},b591:function(t,e){t.exports="data:image/png;base64,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"},b651:function(t,e,a){"use strict";a("5e7d")},b7ab:function(t,e,a){"use strict";a("7ecd")},b90e:function(t,e,a){},bd9f:function(t,e,a){},c5fe:function(t,e,a){"use strict";a.r(e);var s=a("6612"),r=a.n(s),i=a("f23e"),n=a("ceb7"),o=(a("13d5"),{props:{data:{type:Array,require:!0}},computed:{total(){return this.data.reduce((t,e)=>t+e,0)}}}),l=(a("7d25"),a("2877")),c=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"percent"},t._l(t.data,(function(a,s){return e("div",{key:s,style:{width:a/t.total*100+"%",flex:`0 0 ${a/t.total*100}}%`}})})),0)}),[],!1,null,"fee5f004",null).exports,d=a("d147"),u=(a("20a8"),Object(l.a)({},(function(){return(0,this._self._c)("span",{staticClass:"help"})}),[],!1,null,"f1089a60",null).exports),h=a("d920"),p=a("d186"),m=a("d48f"),f=(a("14d9"),a("313e")),g=(a("d9e2"),a("116b"));var y=a("fa91"),v=a("9e9d"),w=a("ede9");const _=["All Users","Active Users","New Users"],b=["rgba(51, 51, 51, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],C={"All Users":"rgba(51, 51, 51, 0.8)","Active Users":"rgba(239, 47, 45, 1)","New Users":"rgba(17, 112, 255, 1)",Transactions:"rgba(17, 112, 255, 1)","L2 Total Fee":"rgba(239, 47, 45, 1)","L1 Total Fee":"rgba(17, 112, 255, 1)",Deposit:"rgba(239, 47, 45, 1)",Withdraw:"rgba(17, 112, 255, 1)"},A=[{label:"1m",value:1},{label:"3m",value:3},{label:"6m",value:6},{label:"1y",value:12},{value:"Max",label:"Max"}],T=t=>1e3*t;var x={name:"RollupDetail",data:()=>({isShow:!1,rollupData:{},detailData:{},times:A,currentTime:A[0].value,allSeries:_,color:b,checkData:["New Users","Active Users"]}),watch:{chartData(){this.detailData.info&&(this._chartUser&&this._chartUser.setOption(this._getUsetChartOptions()),this._chartTransaction&&this._chartTransaction.setOption(this._getTransactionChartOptions()),this._chartFees&&this._chartFees.setOption(this._getFeesChartOptions()),this._chartDeposit&&this._chartDeposit.setOption(this._getDepositChartOptions()),this._chartWithdraw&&this._chartWithdraw.setOption(this._getWithdrawChartOptions()))}},computed:{isMobile:()=>p.f.value,chartData(){if(!this.detailData||!this.detailData.info)return;const t=this.detailData,e=this.currentTime,a=(new Date).getTime()/1e3;if("Max"===e){for(const e in t)["info","update_time"].includes(e)||t[e].sort((t,e)=>t.timestamp-e.timestamp);return this.chartDateFormatter(t)}const s=2592e3*e,r={};for(const e in t)["info","update_time"].includes(e)?r[e]=t[e]:(t[e].forEach(t=>{t.timestamp>a-s&&(r[e]||(r[e]=[]),r[e].push(t))}),r[e].sort((t,e)=>t.timestamp-e.timestamp));return this.chartDateFormatter(r)},isLightMode(){return"light"===this.$store.state.themeMode}},mounted(){window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{async show(t,e){this.rollupData=t,this.$loader.show();let a=await this._getData(t.rollup_name);this.$loader.hide(),this.isShow=e,a.info&&(this._initUserChart(),this._initTransactionChart(),this._initFeesChart(),this._initDepositChart(),this._initWithdrawChart())},onCheckerClick(t){if((1!==this.checkData.length||!this.checkData.includes(t))&&(this.checkData.includes(t)?this.checkData=this.checkData.filter(e=>e!==t):this.checkData=this.checkData.concat([t]),this._chartUser)){this._chartUser.clear();const t=this._getUsetChartOptions();this._chartUser.setOption(t)}},chartDateFormatter(t){let e={};for(const a in t)["info","update_time"].includes(a)?e[a]=t[a]:(e[a]={},t[a].map(t=>{for(const s in t)e[a][s]||(e[a][s]=[]),e[a][s].push("timestamp"==s?T(t[s]):t[s])}));return e},async _getData(t){const e=await async function(t){let e=void 0;try{if(e=await g.a.get("/rollup_details/"+t.replace(" ","").toLowerCase()),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapp detail",t)}return e?e.data.data:void 0}(t),a=e;if(this.detailData=e,e.info){return this.chartDateFormatter(a)}return{}},_onResize(){this._chartUser&&this._chartUser.resize(),this._chartTransaction&&this._chartTransaction.resize(),this._chartFees&&this._chartFees.resize(),this._chartDeposit&&this._chartDeposit.resize(),this._chartWithdraw&&this._chartWithdraw.resize()},_initUserChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_user_chart"),e=f.init(t);this._chartUser=e;const a=this._getUsetChartOptions();this._chartUser.setOption(a)})},_initTransactionChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_tx_chart"),e=f.init(t);this._chartTransaction=e;const a=this._getTransactionChartOptions();this._chartTransaction.setOption(a)})},_initFeesChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_fees_chart"),e=f.init(t);this._chartFees=e;const a=this._getFeesChartOptions();this._chartFees.setOption(a)})},_initDepositChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_deposit_chart"),e=f.init(t);this._chartDeposit=e;const a=this._getDepositChartOptions();this._chartDeposit.setOption(a)})},_initWithdrawChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_withdraw_chart"),e=f.init(t);this._chartWithdraw=e;const a=this._getWithdrawChartOptions();this._chartWithdraw.setOption(a)})},_getUsetChartOptions(){const t=this.chartData.chart_data_user;if(t){const e={height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(m.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},series:[]};return this.checkData.includes("New Users")&&e.series.push({name:"New Users",type:"line",smooth:!0,lineStyle:{width:4,color:C["New Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:C["New Users"]}},data:t.new_users}),this.checkData.includes("Active Users")&&e.series.push({name:"Active Users",type:"line",smooth:!0,lineStyle:{width:4,color:C["Active Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:C["Active Users"]}},data:t.active_users}),this.checkData.includes("All Users")&&e.series.push({name:"All Users",type:"line",smooth:!0,lineStyle:{width:4,color:C["All Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:C["All Users"]}},data:t.all_users}),e}return{}},_getTransactionChartOptions(){const t=this.chartData.chart_data_transaction;if(t){return{height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:4))==0,formatter:t=>Object(m.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},series:[{name:"Transactions",type:"line",smooth:!0,lineStyle:{width:2,color:C.Transactions},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:C.Transactions}},data:t.tx_count}]}}return{}},_getFeesChartOptions(){const t=this.chartData.chart_data_fee;if(t){return{height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"9%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:4))==0,formatter:t=>Object(m.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisLabel:{formatter:"{value} ETH"},axisTick:{show:!1},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},series:[{name:"L2 Total Fee",type:"line",smooth:!0,lineStyle:{width:2,color:C["L2 Total Fee"]},showSymbol:!1,emphasis:{focus:"series"},data:t.l2_total_fee},{name:"L1 Total Fee",type:"line",smooth:!0,lineStyle:{width:2,color:C["L1 Total Fee"]},showSymbol:!1,emphasis:{focus:"series"},data:t.l1_total_fee}]}}return{}},_getDepositChartOptions(){const t=this.chartData.chart_data_deposit;if(t){return{color:C.Deposit,tooltip:{trigger:"axis",padding:0,axisPointer:{type:"line",lineStyle:{type:"solid",width:1}},backgroundColor:"transparent",formatter:this._onFormatterCategory,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t.timestamp,axisTick:{alignWithLabel:!0},axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(m.a)(parseInt(t),"yyyy-MM-dd")}}],yAxis:[{type:"value",splitLine:!1,axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}}],series:[{name:"Deposit",type:"bar",barWidth:"60%",emphasis:{focus:"series",itemStyle:{borderColor:C.Deposit}},data:t.total_tx}]}}return{}},_getWithdrawChartOptions(){const t=this.chartData.chart_data_withdraw;if(t){return{color:C.Withdraw,tooltip:{trigger:"axis",padding:0,axisPointer:{type:"line",lineStyle:{type:"solid",width:1}},backgroundColor:"transparent",formatter:this._onFormatterCategory,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t.timestamp,axisTick:{alignWithLabel:!0},axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(m.a)(parseInt(t),"yyyy-MM-dd")}}],yAxis:[{type:"value",splitLine:!1,axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}}],series:[{name:"Withdraw",type:"bar",barWidth:"60%",emphasis:{focus:"series",itemStyle:{borderColor:C.Withdraw}},data:t.total_tx}]}}return{}},_onFormatterCategory(t){const e=t[0].axisValue,a=this._getDepositOrWithdrawDataByTime(e,t[0].seriesName),s=Object(m.a)(parseInt(e),"yyyy-MM-dd");let i="";const n=Object.keys(a.coin_fees).sort((t,e)=>a.coin_fees[e]-a.coin_fees[t]);let o={};for(let t=0;t<n.length;t++)o[n[t]]=a.coin_fees[n[t]];for(const t in o)i+=`<div class="chart-popover-rollup">\n                            <div class="name">${t} Gas</div>\n                            <div class="transactions">\n                                ${r()(a.coin_fees[t]/a.total_fees).format("0.00%")}\n                            </div>\n                            <div class="percentage" style="margin-left: 5px">\n                                (${r()(a.coin_tx[t]).format("0,0")} Tx)\n                            </div>\n                          </div> `;return`<div class="chart-popover-content">\n                ${"Deposit"==t[0].seriesName?`<div class="chart-popover-title">${s}</div>`:`<div class="chart-popover-title" style="color: ${C.Withdraw}">${s}</div>`}\n                <div class="chart-popover-total-transactions">\n                    Transactions: <span>${r()(t[0].data).format("0,0")}</span>\n                    </div>\n                    <div class="chart-popover-total-transactions">\n                    Total Fees: <span>${r()(a.total_fees).format("0,0.0000")} ETH</span>\n                    </div>\n                    <div class="chart-popover-rollups">\n                        ${i}\n                    </div>\n                </div>`},_onFormatter(t){const e=t[0].axisValue,a=["All Users","Active Users","New Users"].includes(t[0].seriesName)?this._getDataByTime(e).all_users:"",s=Object(m.a)(parseInt(e),"yyyy-MM-dd"),i=["L1 Total Fee","L2 Total Fee"].includes(t[0].seriesName)?t:t.reverse();return i.sort((t,e)=>e.data-t.data),`<div class="dapp-detail-chart-popover-content">\n                <div class="dapp-detail-chart-popover-title">${s}</div>\n                <div class="dapp-detail-chart-popover-data">\n                   ${i.map(t=>["L1 Total Fee","L2 Total Fee"].includes(t.seriesName)?`\n                            <div class="dapp-detail-chart-popover-data-item">\n                            <div class="dot" style="background:${C[t.seriesName]}"></div>\n                            ${"L2 Total Fee"==t.seriesName?`<div class="name" style="color: ${C[t.seriesName]}">${this.chartData.info.rollup_name} Received on L2</div>`:`<div class="name" style="color: ${C[t.seriesName]}">${this.chartData.info.rollup_name} Spent on L1</div>`}                           \n                            <div class="value" style="color: ${C[t.seriesName]}">${r()(t.value).format("0,0.00")} ETH</div>\n                            </div>\n                            `:`\n                        <div class="dapp-detail-chart-popover-data-item">\n                        <div class="dot" style="background:${C[t.seriesName]}"></div>\n                        ${"Transactions"==t.seriesName?`<div class="name" style="color: ${C[t.seriesName]}">${t.seriesName}</div>`:`<div class="name">${t.seriesName}</div>`}\n                        ${"Transactions"==t.seriesName?`<div class="value" style="color: ${C[t.seriesName]}">${r()(t.value).format("0,0")}</div>`:`<div class="value">${r()(t.value).format("0,0")}\n                        ${["All Users","Transactions"].includes(t.seriesName)?"":`<span>(${(t.value/a*100).toFixed(2)}%)</span>`}\n                            </div>\n                        </div>`}\n                        `).join("")}\n                </div>\n              </div>`},_getDataByTime(t){return this.detailData.chart_data_user.find(e=>1e3*e.timestamp===parseInt(t))},_getDepositOrWithdrawDataByTime(t,e="Deposit"){return("Deposit"==e?this.detailData.chart_data_deposit:this.detailData.chart_data_withdraw).find(e=>1e3*e.timestamp===parseInt(t))}},components:{DappLogo:y.a,TwitterLink:v.a,IconLink:w.a,Selector:n.a,TimeDiff:i.a}},k=(a("971b"),Object(l.a)(x,(function(){var t=this,e=t._self._c;return t.isShow?e("el-dialog",{attrs:{"custom-class":"rollup-detail-dialog",visible:t.isShow,"append-to-body":"","margin-top":t.isMobile?"5%":"15vh","show-close":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.isShow=e}}},[e("div",{staticClass:"rollup-detail-dialog-title",attrs:{slot:"title"},slot:"title"},[e("dapp-logo",{staticClass:"logo",attrs:{chains:!0,name:t.rollupData.rollup_name}}),e("div",{staticClass:"name"},[t._v(t._s(t.rollupData.rollup_name))]),e("span",{staticClass:"close",on:{click:function(e){t.isShow=!1}}})],1),e("div",{staticClass:"rollup-detail-dialog-content"},[t.detailData.info?e("div",{staticClass:"info"},[e("div",{staticClass:"links"},[e("icon-link",{attrs:{href:t.detailData.info.rollup_url}}),e("twitter-link",{attrs:{href:t.detailData.info.rollup_twitter}})],1),t.detailData.info&&t.detailData.info.rollup_category?e("div",{staticClass:"category"},[t._v(" "+t._s(t.detailData.info.rollup_category)+" ")]):t._e()]):t._e(),e("div",{staticClass:"selectors"},[t.detailData.info?e("div",{staticClass:"rollup_gas"},[e("span",{staticClass:"text"},[t._v("Average Transaction Fee")]),e("span",{staticClass:"text"},[t._v(t._s(t.detailData.info.rollup_name))]),e("span",{staticClass:"fee"},[t._v("$"+t._s(0==t.detailData.info.rollup_avg_fee?0:Number(t.detailData.info.rollup_avg_fee).toFixed(2))+" ")]),e("span",{staticClass:"text"},[t._v(" Ethereum ")]),e("span",{staticClass:"fee"},[t._v("$"+t._s(0==t.detailData.info.l1_avg_fee?0:Number(t.detailData.info.l1_avg_fee).toFixed(2))+" ")])]):e("div",{staticClass:"data_soon"},[e("span",[t._v("No detailed data at the moment,coming soon.")])]),e("div",{staticClass:"time_box"},[!t.isMobile&&t.detailData&&t.detailData.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.detailData.update_time}}):t._e(),t.detailData.info?e("selector",{staticClass:"selector",attrs:{data:t.times,value:t.currentTime},on:{change:e=>t.currentTime=e.value}}):t._e()],1)]),t.detailData.info?e("div",{staticClass:"rollup_charts"},[e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(" User Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Active Users & Corresponding percentage of total users. "),e("br"),t._v(" New Users & Corresponding percentage of total users. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{ref:"rollup_user_chart",attrs:{id:"rollup_user_chart"}}),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0)]),e("div",{staticClass:"row_content"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" Transaction Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Statistics on the transaction data of the current network. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_tx_chart"}})])]),e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" L2 Revenue and L1 Gas Fee Consumption "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" StarkNet Received on L2: Total gas received of every successful transaction on StarkNet StarkNet Spent on L1: Total gas used by StarkNet's L1 contracts to settle L2 proof on Ethereum ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_fees_chart"}})])])],1)],1),e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.rollupData.rollup_name)+" Bridge Deposit Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Transaction data using the official bridge and shows the amount of gas consumed by deposits in different currencies. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_deposit_chart"}})]),e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.rollupData.rollup_name)+" Bridge Withdraw Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Transaction data using the official bridge and shows the amount of gas consumed by withdraws in different currencies. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_withdraw_chart"}})])]):t._e()])]):t._e()}),[],!1,null,null,null).exports),P=a("cb81");const D=[{label:"1d",value:"1d"},{label:"3d",value:"3d"},{label:"7d",value:"7d"},{label:"14d",value:"14d"},{label:"30d",value:"30d"}],S=t=>""===t;var E={data:()=>({rollups:{},defaultSort:{prop:"total_tx",order:"descending"},selectors:D,currentSort:void 0,currentFilter:D[0].value,tableData:[]}),computed:{isMobile:()=>p.f.value,indexTableData(){return this.tableData.map((t,e)=>({index:e+1,...t}))}},watch:{currentFilter(){this.currentSort&&this.onSortChange(this.currentSort)}},components:{TimeDiff:i.a,Selector:n.a,Percent:c,ChainsLogo:d.a,Help:u,RollupDetail:k,SvgIconThemed:P.a},async mounted(){this.$loader.show();const t=await Object(h.a)();this.$loader.hide(),this.rollups=t,this.tableData=this._getDefaultTableData()},methods:{numeral:r.a,dateFormat:m.a,isEmpty:S,onSortChange({prop:t,order:e}){this.currentSort={prop:t,order:e};const a=this.rollups,s=a&&a.table_data?Object.keys(a.table_data).map(t=>({rollup_name:t,...a.table_data[t]})):[];if(null===!e)return void(this.tableData=this._getDefaultTableData());const r="ascending"===e;if(["total_tx","total_accounts"].includes(t))this.tableData=s.sort((e,a)=>{const s=S(e[t])?0:e[t],i=S(a[t])?0:a[t];return r?s-i:i-s});else if(["active_accounts","new_accounts","txs"].includes(t))this.tableData=s.sort((e,a)=>{const s=Number(e[t][this.currentFilter]),i=Number(a[t][this.currentFilter]);return r?s-i:i-s});else switch(t){case"launch_time":this.tableData=s.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),s=new Date(e.launch_time).getTime();return r?a-s:s-a});break;case"TVL.all":this.tableData=s.sort((t,e)=>{const a=Number(t.TVL.all),s=Number(e.TVL.all);return r?a-s:s-a});break;default:this.tableData=this._getDefaultTableData()}},_getDefaultTableData(){const t=this.rollups;return(t&&t.table_data?Object.keys(t.table_data).map(e=>({rollup_name:e,...t.table_data[e]})):[]).sort((t,e)=>{const a=S(t.total_tx)?0:t.total_tx;return(S(e.total_tx)?0:e.total_tx)-a})},formatUSD:t=>t<1e6?`$ ${r()(t).divide(1e6).format("0.00")} M`:r()(t).format("$ 0.00 a").toUpperCase(),onRowClick(t){this.$refs.rolluoDetail.show(t,!0)}}},I=(a("aff3"),Object(l.a)(E,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"rollups-wrapper"},[e("div",{staticClass:"head"},[!t.isMobile&&t.rollups&&t.rollups.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.rollups.update_time}}):t._e(),e("selector",{attrs:{data:t.selectors,value:t.currentFilter},on:{change:e=>t.currentFilter=e.value}})],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.indexTableData,"empty-text":"No Items","default-sort":t.defaultSort},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",label:"NO. Name",width:"140"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.row.index)+" ")]),e("chains-logo",{attrs:{name:a.row.rollup_name}}),e("div",{staticClass:"name_box",on:{click:function(e){return t.onRowClick(a.row)}}},[e("div",{staticClass:"name",attrs:{title:a.row.rollup_name}},[t._v(" "+t._s(a.row.rollup_name)+" ")]),a.row.details?e("div",{staticClass:"icon"},[e("svg-icon-themed",{attrs:{icon:"searchChartIcon",size:"lg"}})],1):t._e()])],1)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"110",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"total_tx",label:"Total Transactions",width:"145",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.isEmpty(a.row.total_tx)?"-":t.numeral(a.row.total_tx).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"total_accounts",label:"Total Accounts",width:"125",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.isEmpty(a.row.total_accounts)?"-":t.numeral(a.row.total_accounts).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{width:"175",prop:"TVL.all",label:"TVL",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"TVL"},[e("div",{staticClass:"all"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.all))+" ")]),e("el-popover",{attrs:{"popper-class":"TVL-popover",placement:t.isMobile?"top":"right",width:"300",trigger:"hover"}},[e("div",{staticClass:"TVL-detail"},[e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("Stable Coins")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.Stable))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral(a.row.TVL.Stable/a.row.TVL.all).format("0.00%"))+" ")])]),e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("ETH/BTC")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.BTC+a.row.TVL.ETH))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral((a.row.TVL.BTC+a.row.TVL.ETH)/a.row.TVL.all).format("0.00%"))+" ")])]),e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("Others")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.Others))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral(a.row.TVL.Others/a.row.TVL.all).format("0.00%"))+" ")])])]),e("percent",{staticClass:"reference",attrs:{slot:"reference",data:[a.row.TVL.BTC+a.row.TVL.ETH,a.row.TVL.Others,a.row.TVL.Stable]},slot:"reference"})],1)],1)]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"TVL-header"},[t._v("TVL")]),e("el-popover",{attrs:{"popper-class":"TVL-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"TVL-desc"},[t._v(" Total Value Locked in Rollups & Types of cryptocurrencies. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"TVL-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"txs",label:"Transactions",width:"115",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.txs[t.currentFilter])?"-":t.numeral(a.row.txs[t.currentFilter]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{label:"Active Accounts",prop:"active_accounts",width:"135",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.active_accounts[t.currentFilter])?"-":t.numeral(a.row.active_accounts[t.currentFilter]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_accounts",label:"New Accounts",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.new_accounts[t.currentFilter])?"-":t.numeral(a.row.new_accounts[t.currentFilter]).format("0,0"))+" ")])]}}])})],1)],1),e("rollup-detail",{ref:"rolluoDetail"})],1)}),[],!1,null,null,null).exports),L=a("f690"),M={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22}},computed:{src(){if(this.isError)return a("b591");if(!this.name)return"#";return`https://l2api.orbiter.finance/img/rollups/${this.name.replace(/\s+/g,"").toLowerCase()}.png`}},watch:{name(){this.isError=!1}},methods:{onError(){this.isError=!0}}},U=Object(l.a)(M,(function(){return(0,this._self._c)("img",{attrs:{width:this.width,height:this.width,src:this.src},on:{error:this.onError}})}),[],!1,null,null,null).exports;async function N(t,e){let a=void 0;try{if(a=await g.a.get(`/dapp/details/${t}/${e.replace(" ","").toLowerCase()}`),"success"!==a.data.status)throw Error()}catch(t){console.error("Failed to get dapp detail",t)}return a?a.data.data:void 0}const V=["All Users","Active Users","New Users"],O=["rgba(51, 51, 51, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],B={"All Users":"rgba(51, 51, 51, 0.8)","Active Users":"rgba(239, 47, 45, 1)","New Users":"rgba(17, 112, 255, 1)"},R=[{label:"1m",value:1},{label:"3m",value:3},{label:"6m",value:6},{label:"1y",value:12},{value:"Max",label:"Max"}];var F={data:()=>({dialogVisible:!1,times:R,currentTime:R[0].value,dappData:{},detailData:{},rollups:[],rollup:"",allSeries:V,color:O,checkData:["New Users","Active Users"]}),computed:{isMobile:()=>p.f.value,chartData(){if(!this.detailData||!this.detailData.chart_data)return;const t=this.detailData.chart_data,e=this.currentTime,a=(new Date).getTime()/1e3;if("Max"===e)return t.sort((t,e)=>t.timestamp-e.timestamp);const s=2592e3*e;return t.filter(t=>t.timestamp>a-s).sort((t,e)=>t.timestamp-e.timestamp)},isLightMode(){return"light"===this.$store.state.themeMode}},watch:{chartData(){this._chart&&this._chart.setOption(this._getChartOptions())}},components:{DappLogo:y.a,RollupLogo:U,Selector:n.a,IconLink:w.a,TwitterLink:v.a,Rollups:L.a},mounted(){window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{show(t,e){this.dialogVisible=!0,this.rollup=t,this.rollups=[t],this.$nextTick(async()=>{this.checkData=["New Users","Active Users"],this.currentTime=R[0].value,this._chart&&this._chart.clear(),this.detailData={},this._initChart(),this.dappData=e,this.$loader.show();const a=await N(t,e.dapp_name);this.$loader.hide(),a&&a.info&&a.info.dapp_supported_l2&&(this.rollups=a.info.dapp_supported_l2),this.detailData=a,this._chart.hideLoading()})},async onRollupChange(t){this.rollup!==t&&(this.rollup=t,this.detailData={},this.$loader.show(),this.detailData=await N(t,this.dappData.dapp_name),this.$loader.hide())},onCheckerClick(t){if((1!==this.checkData.length||!this.checkData.includes(t))&&(this.checkData.includes(t)?this.checkData=this.checkData.filter(e=>e!==t):this.checkData=this.checkData.concat([t]),this._chart)){this._chart.clear();const t=this._getChartOptions();this._chart.setOption(t)}},_onResize(){this._chart&&this._chart.resize()},_initChart(){const t=document.getElementById("dapp-detail-chart"),e=f.init(t);this._chart=e},_getChartOptions(){const{times:t,allUser:e,activeUser:a,newUser:s}=this._getData(),r={height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.length/(this.isMobile?3:6))==0,formatter:t=>Object(m.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},series:[]};return this.checkData.includes("New Users")&&r.series.push({name:"New Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(17, 112, 255, 1)"},showSymbol:!1,emphasis:{focus:"series"},data:s}),this.checkData.includes("Active Users")&&r.series.push({name:"Active Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(239, 47, 45, 1)"},showSymbol:!1,emphasis:{focus:"series"},data:a}),this.checkData.includes("All Users")&&r.series.push({name:"All Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(51, 51, 51, 0.8)"},showSymbol:!1,emphasis:{focus:"series"},data:e}),r},_getData(){if(!this.chartData)return{times:[],allUser:[],activeUser:[],newUser:[]};const t=this.chartData;return{times:t.map(t=>1e3*t.timestamp),allUser:t.map(t=>t.all_users),activeUser:t.map(t=>t.active_users),newUser:t.map(t=>t.new_users)}},_onFormatter(t){const e=t[0].axisValue,a=this._getDataByTime(e).all_users;return`<div class="dapp-detail-chart-popover-content">\n                <div class="dapp-detail-chart-popover-title">${Object(m.a)(parseInt(e),"yyyy-MM-dd")}</div>\n                <div class="dapp-detail-chart-popover-data">\n                   ${t.reverse().map(t=>`\n                    <div class="dapp-detail-chart-popover-data-item">\n                      <div class="dot" style="background:${B[t.seriesName]}"></div>\n                      <div class="name">${t.seriesName}</div>\n                      <div class="value">${r()(t.value).format("0,0")}\n                      ${"All Users"!==t.seriesName?`<span>(${(t.value/a*100).toFixed(2)}%)</span>`:""}\n                        </div>\n                      </div>\n                    `).join("")}\n                </div>\n              </div>`},_getDataByTime(t){return this.chartData.find(e=>1e3*e.timestamp===parseInt(t))}}},K=(a("0da88"),a("e408"),a("b3bc"),Object(l.a)(F,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"custom-class":"dapp-detail-dialog",visible:t.dialogVisible,"append-to-body":"","margin-top":t.isMobile?"5%":"15vh","show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"dapp-detail-dialog-title",attrs:{slot:"title"},slot:"title"},[e("dapp-logo",{staticClass:"logo",attrs:{name:t.dappData.dapp_name}}),e("div",{staticClass:"name"},[t._v(t._s(t.dappData.dapp_name))]),e("span",{staticClass:"close",on:{click:function(e){t.dialogVisible=!1}}})],1),e("div",{staticClass:"dapp-detail-dialog-content"},[e("div",{staticClass:"info"},[e("div",{staticClass:"links"},[e("icon-link",{attrs:{href:t.dappData.dapp_url}}),e("twitter-link",{attrs:{href:t.dappData.dapp_twitter}})],1),t.detailData.info&&t.detailData.info.dapp_category?e("div",{staticClass:"category"},[t._v(" "+t._s(t.detailData.info.dapp_category)+" ")]):t._e(),t.isMobile?t._e():e("div",{staticClass:"supported"},[t._v("Supported L2")]),t.isMobile?t._e():e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Only the chains supported by Orbier-L2 Data are listed. ")]),e("span",{staticClass:"supported-l2-help",attrs:{slot:"reference"},slot:"reference"})]),t.detailData.info?e("div",{staticClass:"rollups"},t._l(t.detailData.info.dapp_supported_l2,(function(t,a){return e("rollup-logo",{key:a,attrs:{name:t}})})),1):t._e()],1),e("div",{staticClass:"selectors"},[e("rollups",{attrs:{customRollups:t.rollups.map(t=>({value:t.replace(/\s+/g,"").toLowerCase(),label:t})),onlySelect:!0,value:t.rollup},on:{"rollup-change":t.onRollupChange}}),e("selector",{staticClass:"selector",attrs:{data:t.times,value:t.currentTime},on:{change:e=>t.currentTime=e.value}})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(" User Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Active Users & Corresponding percentage of total users. "),e("br"),t._v(" New Users & Corresponding percentage of total users. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"dapp-detail-chart"}}),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0)])])])}),[],!1,null,null,null).exports);const H=[{label:"1d",value:"1d"},{label:"3d",value:"3d"},{label:"7d",value:"7d"},{label:"14d",value:"14d"},{label:"30d",value:"30d"}];var j={data:()=>({selectors:H,PAGE_SIZE:30,dapps:{},defaultSort:{prop:"active_users",order:"descending"},currentSort:{prop:"active_users",order:"descending"},currentRollup:void 0,rollups:[],currentFilter:H[0].value,tableData:[],page:1}),components:{Selector:n.a,DappLogo:y.a,TimeDiff:i.a,Rollups:L.a,DappDetail:K,IconLink:w.a,TwitterLink:v.a,Help:u},watch:{async currentRollup(){this.dapps={},this.tableData=[],this.page=1,await this._getDapps(),this.currentSort&&this.onSortChange(this.currentSort)},currentFilter(){this.currentSort&&this.onSortChange(this.currentSort)}},computed:{total(){return this.dapps&&this.dapps.table_data?this.dapps.table_data.length:0},isMobile:()=>p.f.value,currentTableData(){if(!this.tableData.length)return[];const t=30*(this.page-1);return this.tableData.map((t,e)=>({...t,index:e+1})).slice(t<1?0:t,30*this.page)}},async mounted(){this.rollups=await Object(h.b)("dapps"),this.currentRollup=this.rollups[0].value},methods:{dateFormat:m.a,numeral:r.a,async _getDapps(){this.$loader.show();const t=await async function(t){let e=void 0;try{if(e=await g.a.get("/dapp_data/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapps",t)}return e?e.data.data:void 0}(this.currentRollup);this.$loader.hide(),this.dapps=t,this.tableData=this._getTableData()},onSortChange({prop:t,order:e}){const a=this.tableData,s="ascending"===e;this.currentSort={prop:t,order:e},null!==!e?"all_users"!==t?["active_users","new_users","interactions","new_users_age"].includes(t)?this.tableData=a.sort((e,a)=>{const r=e[this.currentFilter][t],i=a[this.currentFilter][t];return s?r-i:i-r}):"launch_time"===t&&(this.tableData=a.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),r=new Date(e.launch_time).getTime();return s?a-r:r-a})):this.tableData=a.sort((t,e)=>{const a=t.all_users,r=e.all_users;return s?a-r:r-a}):this.tableData=a},onRowClick(t){this.$refs.dappDetail.show(this.currentRollup,t)},_getTableData(){const t=this.dapps,e=t&&t.table_data?t.table_data:[];return e.length?e.sort((t,e)=>{const a=Number(t[this.currentFilter].active_users);return Number(e[this.currentFilter].active_users)-a}):[]}}},z=(a("171f"),Object(l.a)(j,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dapps-wrapper"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{value:t.currentRollup,customRollups:t.rollups},on:{"rollup-change":e=>t.currentRollup=e}}),e("div",{staticClass:"right"},[!t.isMobile&&t.dapps&&t.dapps.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.dapps.update_time}}):t._e(),e("selector",{attrs:{data:t.selectors,value:t.currentFilter},on:{change:e=>t.currentFilter=e.value}})],1)],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.currentTableData,"empty-text":"No Items","default-sort":t.defaultSort},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",label:"NO. Dapp Name",width:t.isMobile?210:280},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("div",{staticClass:"rank"},[t._v(" "+t._s(a.row.index)+" ")]),e("dapp-logo",{attrs:{name:a.row.dapp_name}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name},on:{click:function(e){return t.onRowClick(a.row)}}},[t._v(" "+t._s(a.row.dapp_name)+" ")]),e("icon-link",{attrs:{href:a.row.dapp_url}}),e("twitter-link",{attrs:{href:a.row.dapp_twitter}})],1)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"130",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time_str,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"130",align:"center","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{label:"Active Accounts",prop:"active_users","sort-orders":["descending","ascending",null],width:"150",align:"right",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].active_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_users",label:"New Users",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].new_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_users_age",width:"140",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].new_users_age).format("0,0"))+" ")])]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"new-user-age-header"},[t._v("New Users Age")]),e("el-popover",{attrs:{"popper-class":"new-user-age-header-popover",placement:"bottom",width:"300",trigger:"hover"}},[e("div",{staticClass:"new-user-age-desc"},[t._v(" Statistics of all users. Users Age refers to the cumulative days since users started the first transaction on the mainnet. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"new-user-age-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"interactions",label:"Interactions",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].interactions).format("0,0"))+" ")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.PAGE_SIZE,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)],1),e("dapp-detail",{ref:"dappDetail"})],1)}),[],!1,null,null,null).exports),G=a("1812");var Y={data:()=>({PAGE_SIZE:30,defaultSort:{prop:"launch_time",order:"descending"},currentSort:void 0,customRollups:[],currentRollup:void 0,contracts:{},tableData:[],page:1}),components:{Rollups:L.a,TimeDiff:i.a,DappLogo:y.a,IconLink:w.a,TwitterLink:v.a,ScanLink:G.a,Help:u},watch:{async currentRollup(){this.contracts={},this.tableData=[],this.page=1,await this._getContracts(),this.currentSort&&this.onSortChange(this.currentSort)}},computed:{isMobile:()=>p.f.value,total(){return this.contracts&&this.contracts.table_data?this.contracts.table_data.length:0},currentTableData(){if(!this.tableData.length)return[];const t=30*(this.page-1);return this.tableData.map((t,e)=>({...t,index:e+1})).slice(t<1?0:t,30*this.page)}},async mounted(){this.customRollups=await Object(h.b)("contracts"),this.currentRollup=this.customRollups[0].value},methods:{numeral:r.a,shortenAddress:function(t,e=4){return`${t.substring(0,e+2)}...${t.substring(t.length-e)}`},dateFormat:m.a,async _getContracts(){this.$loader.show();const t=await async function(t){let e=void 0;try{if(e=await g.a.get("/new_contracts/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get contracts",t)}return e?e.data.data:void 0}(this.currentRollup);this.$loader.hide(),this.contracts=t,this.tableData=this._getTableData()},_getTableData(){const t=this.contracts,e=t&&t.table_data?t.table_data:[];return e.length?e.sort((t,e)=>{const a=new Date(t.launch_time).getTime();return new Date(e.launch_time).getTime()-a}):[]},onSortChange({prop:t,order:e}){const a=this.tableData,s="ascending"===e;this.currentSort={prop:t,order:e},null!==!e?("launch_time"===t&&(this.tableData=a.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),r=new Date(e.launch_time).getTime();return s?a-r:r-a})),this.tableData=a.sort((e,a)=>{const r=Number(e[t]),i=Number(a[t]);return s?r-i:i-r})):this.tableData=a}}},$=(a("6fa4"),Object(l.a)(Y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"contracts-wrapper"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{customRollups:t.customRollups,value:t.currentRollup},on:{"rollup-change":e=>t.currentRollup=e}}),!t.isMobile&&t.contracts&&t.contracts.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.contracts.update_time}}):t._e()],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.currentTableData,"default-sort":t.defaultSort,"empty-text":"No Items"},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",prop:"contract_address",label:"New Contract",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-contract"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.row.index)+" ")]),e("div",{staticClass:"address",attrs:{title:a.row.contract_address}},[t._v(" "+t._s(t.shortenAddress(a.row.contract_address,2))+" ")]),e("scan-link",{attrs:{href:a.row.scan_url}})],1)]}}])}),e("el-table-column",{attrs:{label:"Name",width:"165"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("dapp-logo",{attrs:{name:a.row.dapp_name}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name}},[t._v(" "+t._s(a.row.dapp_name)+" ")]),a.row.dapp_url?e("icon-link",{attrs:{href:a.row.dapp_url}}):t._e(),a.row.twitter_url?e("twitter-link",{attrs:{href:a.row.twitter_url}}):t._e()],1)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"125","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time_str,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"90",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"users_age",label:"Users Age",width:"95",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.users_age).format("0,0"))+" ")])]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"user-age-header"},[t._v("Users Age")]),e("el-popover",{attrs:{"popper-class":"user-age-header-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"user-age-desc"},[t._v(' Statistics for all users. " Users Age " refers to the cumulative days since users started the first transaction on the mainnet. '),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"user-age-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"24h_active_users",label:"24h Active Users",width:"155",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_active_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_new_users",label:"24h New Users",width:"140",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_new_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_interactions",label:"24h Interactions",width:"150",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_interactions"]).format("0,0"))+" ")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.PAGE_SIZE,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)],1)])}),[],!1,null,null,null).exports);const W=[{name:"Rollups Data",value:"Rollups"},{name:"L2 Dapps Data",value:"Dapps"},{name:"New Contracts",value:"Contracts"}];var Z={data:()=>({tabs:W,currentTab:W[0].value}),components:{Rollups:I,Dapps:z,Contracts:$},computed:{isMobile:()=>p.f.value},mounted(){const t=this.$route.query.nav;this.currentTab=t||W[0].value},methods:{onTabChnage(t){this.currentTab=t,this.$router.replace({path:this.$route.path,query:{nav:t}})}}},Q=(a("68ce"),Object(l.a)(Z,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"transactions-detail"},[e("div",{staticClass:"nav"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile,expression:"!isMobile"}],staticClass:"back",on:{click:function(e){return t.$router.back()}}}),e("div",{staticClass:"tabs"},t._l(t.tabs,(function(a,s){return e("div",{key:s,staticClass:"tab",class:{active:t.currentTab===a.value},on:{click:function(e){return t.onTabChnage(a.value)}}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e(t.currentTab,{tag:"component"})],1)}),[],!1,null,null,null));e.default=Q.exports},ca50:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAUCAYAAAC58NwRAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBlZPtDQIhDIb7MoEbqAPcreQ5ghvcCG4grnQm/lU3YAHF9r5iAAs0ARr6PBASilfbHj7kz0TkDKHfDsOVlDAM97xueOw4t3KAKszwGjnJkKdTuKlJkOnRNB1nl/g0dOGbsCSlEn6LJRLCYk6KhJyUFBTJmX+CAXxi2yVvmL+LjQr+fUQNvL/dLWpgSVEDr0IpPAo1sMTSD0XwKFDQDxo8CVM/PHm4HCzxBXiAfGSW50PVAAAAAElFTkSuQmCC"},ceb7:function(t,e,a){"use strict";var s={props:{data:{type:Array,require:!0},value:{require:!0}}},r=(a("ab49"),a("2877")),i=Object(r.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"selector"},t._l(t.data,(function(a,s){return e("div",{key:s,staticClass:"selector-item",class:{active:a.value===t.value},on:{click:function(e){return t.$emit("change",a)}}},[t._v(" "+t._s(a.label)+" ")])})),0)}),[],!1,null,null,null);e.a=i.exports},d147:function(t,e,a){"use strict";var s={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22}},computed:{src(){if(this.isError)return a("6bc0");if(!this.name)return"#";return`https://l2api.orbiter.finance/img/chains/${this.name.replace(/\s+/g,"").toLowerCase()}.png`}},watch:{name(){this.isError=!1}}},r=a("2877"),i=Object(r.a)(s,(function(){var t=this;return(0,t._self._c)("img",{attrs:{width:t.width,height:t.width,src:t.src},on:{error:function(e){t.isError=!0}}})}),[],!1,null,null,null);e.a=i.exports},d224:function(t,e,a){"use strict";a("773f")},d48f:function(t,e,a){"use strict";function s(t,e="yyyy-MM-dd hh:mm:ss"){const a=new Date("string"==typeof t?t.replace(/-/g,"/"):t),s={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};return/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(""+a.getFullYear()).substring(4-RegExp.$1.length))),Object.keys(s).forEach(t=>{const a=s[t];new RegExp(`(${t})`).test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a.toString():("00"+a).substring((""+a).length)))}),e}a.d(e,"a",(function(){return s}))},d55c:function(t,e,a){"use strict";a("3b1b")},d920:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));a("d9e2");var s=a("116b");let r={};async function i(){let t=void 0;try{if(t=await s.a.get("/rollups_data"),"success"!==t.data.status)throw Error()}catch(t){console.error("Failed to get rollups",t)}return t?t.data.data:void 0}async function n(t){let e=void 0;if(r[t])return r[t];try{if(e=await s.a.get("/rollup_tab/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get rollups",t)}return e?r[t]=e.data.data.map(t=>({label:Object.keys(t)[0],value:t[Object.keys(t)[0]]})):void 0}},d99b:function(t,e,a){t.exports=a.p+"static/img/usdclogo.bb66f3e8.png"},e408:function(t,e,a){"use strict";a("4188")},e4bb:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("2af9"),r=a("d186"),i=a("39f9");let n=0;var o={name:"History",components:{NoData:s.f},computed:{currentPage(){return this.transactionListInfo.current},historyData(){const{transactionList:t}=r.e;if(!t)return t;const e=[];for(const a of t)11!=a.fromChainID&&511!=a.fromChainID&&11!=a.toChainID&&511!=a.toChainID&&e.push(a);return e},isShowDydxLimit(){const{transactionList:t}=r.e;return!(!this.historyData||!t)&&this.historyData.length<t.length},isApiLoading:()=>r.e.isLoading,transactionListInfo:()=>r.e.transactionListInfo},deactivated(){clearInterval(n)},created(){n=setInterval(()=>{i.a.value.walletPayload.walletAddress&&(clearInterval(n),Object(r.d)())},500)},methods:{curChange(t){Object(r.d)({current:t})},closeDialog(){const t=JSON.parse(localStorage.getItem("last_page_before_history")||"{}");try{t.path?(t.path!==this.$route.path&&this.$router.push(t),Object(r.j)()):this.$router.push({path:"/"})}catch(t){console.error(t)}},getHistoryInfo(t){Object(r.m)(t),this.closeDialog()},stopPenetrate(t){t.stopPropagation()},iconName:t=>0===t.state?"history_success":1===t.state?"history_waiting":"history_fail",logoName:t=>"2"==t||"22"==t?"arblogo":"3"==t||"33"==t?"zklogo":"4"==t||"44"==t?"sknlogo":"6"==t||"66"==t?"pglogo":"7"==t||"77"==t?"oplogo":"8"==t||"88"==t?"imxlogo":"9"==t||"99"==t?"loopringlogo":"10"==t||"510"==t?"metislogo":"11"==t||"511"==t?"dydxlogo":"12"==t||"512"==t?"zkspacelogo":"13"==t||"513"==t?"bobalogo":"15"==t||"515"==t?"bsclogo":"16"==t||"516"==t?"arnavologo":"518"==t||"519"==t?"scrolllogo":"ethlogo"}},l=(a("a8a9"),a("3e39"),a("2877")),c=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"history-page"},[e("div",{staticClass:"history-content"},[e("div",{staticClass:"title"},[t._v("History")]),e("div",{staticClass:"table historyContent"},[t._m(0),t.isShowDydxLimit?e("div",{staticClass:"dydx-limit"},[t._v(" Limited by the dydx mechanism, the history of dYdX cannot be queried temporarily ")]):t._e(),t.isApiLoading?e("CommLoading",{staticStyle:{margin:"auto","margin-top":"5rem"},attrs:{width:"4rem",height:"4rem"}}):t.historyData&&0!==t.historyData.length?t._l(t.historyData,(function(a,s){return e("div",{key:s,staticClass:"contentItem",on:{click:function(e){return t.getHistoryInfo(a)}}},[e("svg-icon",{staticClass:"logo col-val col-1",attrs:{color:"#df2e2d",iconName:t.iconName(a)}}),e("span",{staticClass:"col-val col-2"},[t._v(t._s(a.fromTimeStampShow))]),e("span",{staticClass:"col-val col-3"},[t._v(t._s(a.userAmount+a.tokenName))]),e("div",{staticClass:"col-val col-4",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("svg-icon",{staticStyle:{width:"1.6rem",height:"1.6rem"},attrs:{iconName:t.logoName(a.fromChainID)}})],1),e("div",{staticClass:"col-val col-5",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("svg-icon",{staticStyle:{width:"1.6rem",height:"1.6rem"},attrs:{iconName:t.logoName(a.toChainID)}})],1)],1)})):t._e()],2),!t.isApiLoading&&t.historyData&&0===t.historyData.length?e("NoData",{staticStyle:{"padding-top":"200px"}},[t._v("No history")]):t._e(),!t.isApiLoading&&t.historyData&&0!==t.historyData.length?e("el-pagination",{staticClass:"pagination",attrs:{layout:"prev, pager, next","current-page":t.currentPage,total:t.transactionListInfo.total},on:{"current-change":t.curChange}}):t._e(),e("svg-icon",{staticClass:"close",attrs:{iconName:"close"},nativeOn:{click:function(e){return t.closeDialog.apply(null,arguments)}}})],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"table-header"},[t("span",{staticClass:"col col-1"},[this._v("")]),t("span",{staticClass:"col col-2"},[this._v("Time")]),t("span",{staticClass:"col col-3"},[this._v("Value")]),t("span",{staticClass:"col col-4",staticStyle:{"text-align":"center"}},[this._v("From")]),t("span",{staticClass:"col col-5",staticStyle:{"text-align":"center"}},[this._v("To")])])}],!1,null,"7fad4886",null);e.default=c.exports},e558:function(t,e,a){const s=a("901e"),r={eth:256,arbitrum:256,zksync:35,zksync2:256,starknet:256,polygon:256,optimistic:256,immutablex:28,loopring:256,metis:256,dydx:28,zkspace:35,boba:256,bsc:256,arbitrum_nova:256,scroll_l1_test:256,scroll_l2_test:256},i={1:"eth",2:"arbitrum",22:"arbitrum",3:"zksync",33:"zksync",4:"starknet",44:"starknet",5:"eth",6:"polygon",66:"polygon",7:"optimistic",77:"optimistic",8:"immutablex",88:"immutablex",9:"loopring",99:"loopring",10:"metis",510:"metis",11:"dydx",511:"dydx",12:"zkspace",512:"zkspace",13:"boba",513:"boba",14:"zksync2",514:"zksync2",515:"bsc",15:"bsc",16:"arbitrum_nova",516:"arbitrum_nova",518:"scroll_l1_test",519:"scroll_l2_test"},n=4;function o(t){if(9===t||99===t||"loopring"===t)return!0}function l(t){return 3===t||33===t||"zksync"===t||(8===t||88===t||"immutablex"===t||(11===t||511===t||"dydx"===t||(12===t||512===t||"zkspace"===t)))}function c(t,e){if(!d(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let a=h(t,e);var s=e.toString().length;if(s<n)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(l(t)&&s>a){return{state:!0,pText:e.toString().slice(0,a).slice(-n)}}return{state:!0,pText:e.toString().slice(-n)}}function d(t){if("number"==typeof t){if(i[t]&&r[i[t]])return!0}else if("string"==typeof t&&r[t.toLowerCase()])return!0;return!1}function u(t){if(!d(t))return{error:"The chain did not support"};if("number"==typeof t){let e=s(2**r[i[t]]-1);return{min:s(0),max:e}}if("string"==typeof t){let e=s(2**r[t.toLowerCase()]-1);return{min:s(0),max:e}}}function h(t,e){let a=function(t){let e=u(t);return e.error?e:e.max.toFixed().length}(t);if(a.error)return a.error;let s=u(t),r=p(e.toString());return r.length>a?"amount is inValid":r>s.max.toFixed()?a-1:a}function p(t){return"string"!=typeof t?"param must be string":t.replace(/^0+(\d)|(\d)0+$/gm,"$1$2")}t.exports={getPTextFromTAmount:c,getToChainIDFromAmount:function(t,e){let a,s=c(t,e);return s.state?(a=s.pText,a>9e3?a-9e3:null):null},isAmountValid:function(t,e){if(!d(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let a=h(t,e);var r=e.toString().length;if(r<n)return{state:!1,error:"Amount size must be greater than pNumberSize"};let i=e;if(l(t)&&(i=p(e.toString())),!function(t,e){if(!d(e))return{state:!1,error:"The chain did not support"};let a=u(e);return!a.error&&!(!s(t).gte(a.min)||!s(t).lte(a.max))}(i,t))return{state:!1,error:"Amount exceeds the spending range"};if(l(t)&&r>a){let t=e.toString().slice(0,a).slice(-n);return 0===Number(t)?{state:!0}:{state:!1,error:"Insufficient number of flag bits"}}{let t=e.toString().slice(-n);return 0===Number(t)?{state:!0}:{state:!1,error:"Insufficient number of flag bits"}}},getTAmountFromRAmount:function(t,e,a){if(!d(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};if(a.length>n)return{state:!1,error:"the pText size invalid"};let s=h(t,e);var r=e.toString().length;if(r<n)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(l(t)&&r>s){return{state:!0,tAmount:e.toString().slice(0,s-a.length)+a+e.toString().slice(s)}}return o(t)?{state:!0,tAmount:e}:{state:!0,tAmount:e.toString().slice(0,r-a.length)+a}},getRAmountFromTAmount:function(t,e){let a="";for(let t=0;t<n;t++)a+="0";if(!d(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let s=h(t,e);var r=e.toString().length;if(r<n)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(l(t)&&r>s){return{state:!0,rAmount:e.toString().slice(0,s-n)+a+e.toString().slice(s)}}return{state:!0,rAmount:e.toString().slice(0,r-n)+a}},pTextFormatZero:function(t){return String(t).length>n?t:(Array(n).join(0)+t).slice(-n)},isZKChain:function(t){return 3===t||33===t||"zksync"===t||12==t||512==t||"zkspace"==t},isLPChain:o,isLimitNumber:l,getToAmountFromUserAmount:function(t,e,a){var r;const i=(null===(r=e.fromChain)||void 0===r?void 0:r.decimals)||e.precision;let n=new s(t).minus(new s(e.tradingFee)),o=18===i?5:2,l=n.multipliedBy(new s(e.gasFee)).dividedBy(new s(1e3)).decimalPlaces(o,s.ROUND_UP),c=n.minus(l);return!c||isNaN(c)?0:a?c.multipliedBy(new s(10**i)):c},getDigitByPrecision:function(t){return 18===t?6:2}}},edac:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("2af9"),r=a("0e0b"),i=a("15f6"),n=(a("d9e2"),a("00de")),o=a("bc3a"),l=a.n(o),c=a("901e"),d=a.n(c),u=a("c030"),h=(a("47e3"),a("5cff")),p=(a("3c65"),a("8641")),m=a("6779"),f=a("edf5"),g=a("c4cb"),y=a("e558"),v=a.n(y),w=a("129b"),_=a("d186");const b=a("901e");p.a.axios();var C={getZKspaceBalance:async function(t){if(12!==t.localChainID&&512!==t.localChainID)throw new Error("getZKSpaceBalance Error: wrongChainID");const e=`${512===t.localChainID?g.a.ZKSpace.Rinkeby:g.a.ZKSpace.Mainnet}/account/${t.account}/balances`;try{const t=await l.a.get(e);if(200===t.status&&t.data.success)return t.data.data.balances.tokens;throw new Error("getZKSpaceBalance error: response.status not 200")}catch(t){throw new Error("getZKSpaceBalance error: "+t.message)}},getZKSpaceTransferGasFee:async function(t,e){if(!e)return 0;let a=_.v.ethPrice?_.v.ethPrice:2e3;if(12!==t&&512!==t)throw new Error("getZKSpaceTransferGasFeewrongChainID");const s=`${512===t?g.a.ZKSpace.Rinkeby:g.a.ZKSpace.Mainnet}/account/${e}/fee`;try{const t=await l.a.get(s);if(200===t.status){const e=t.data;if(!0===e.success){let t=new b(e.data.transfer).dividedBy(new b(a)).decimalPlaces(6,b.ROUND_UP);return Number(t)}throw new Error("getZKSpaceGasFee->respData.success no true")}throw new Error("getZKSpaceGasFee->response.status not 200")}catch(t){throw new Error("getZKSpaceGasFee->network error")}},getZKSpaceWithDrawGasFee:async function(t,e){if(!e)return;let a=_.v.ethPrice?_.v.ethPrice:2e3;if(12!==t&&512!==t)throw new Error("getZKSpaceGasFeeErrorwrongChainID");const s=`${512===t?g.a.ZKSpace.Rinkeby:g.a.ZKSpace.Mainnet}/account/${e}/fee`;try{const t=await l.a.get(s);if(200===t.status&&t.data.success){var r=t.data;let e=new b(r.data.withdraw).dividedBy(new b(a)).decimalPlaces(6,b.ROUND_UP);return Number(e)}throw new Error("getZKSpaceWithDrawGasFee response.status not 200")}catch(t){throw new Error("getZKSpaceWithDrawGasFee error"+t.message)}},getZKAccountInfo:function(t,e){return new Promise((a,s)=>{12!==t&&512!==t&&s({errorCode:1,errMsg:"getZKSpaceAccountInfoError_wrongChainID"});const r=(512===t?g.a.ZKSpace.Rinkeby:g.a.ZKSpace.Mainnet)+"/account/"+e+"/info";l.a.get(r).then((function(t){if(200===t.status){var e=t.data;1==e.success?a(e.data):s(e.data)}else s({errorCode:1,errMsg:"NetWorkError"})})).catch((function(t){s({errorCode:2,errMsg:t})}))})},sendTransfer:async function(t,e){if(12!==t&&512!==t)return{code:"1",error:"sendZKSpaceTransferError_wrongChainID"};return await l.a.post((512===t?g.a.ZKSpace.Rinkeby:g.a.ZKSpace.Mainnet)+"/tx",{signature:e.signature,fastProcessing:e.fastProcessing,tx:e.tx})},getZKSpaceTransactionData:async function(t,e){if(12!==t&&512!==t)throw new Error("getZKTransactionDataError_wrongChainID");const a=(512===t?g.a.ZKSpace.Rinkeby:g.a.ZKSpace.Mainnet)+"/tx/"+e,s=await l.a.get(a);if(200===s.status){var r=s.data;if(!0===r.success)return r;throw new Error(r)}throw new Error("getZKSpaceTransactionData NetWorkError")},async getL2SigTwoAndPK(t,e,a,s,r,i){const{selectMakerConfig:n}=_.v;try{const o={accountId:e.id,to:n.recipient,tokenSymbol:i?i.symbol:"ETH",tokenAmount:m.utils.formatUnits(a,i.decimals),feeSymbol:"ETH",fee:s.toString(),zksChainID:r,nonce:e.nonce},l=`Transfer ${o.tokenAmount} ${o.tokenSymbol}\nTo: ${o.to.toLowerCase()}\nChain Id: ${o.zksChainID}\nNonce: ${o.nonce}\nFee: ${o.fee} ${o.feeSymbol}\nAccount Id: `+o.accountId;return await t.signMessage(l)}catch(t){throw new Error("getL2SigTwoAndPK error "+t.message)}},getL2SigOneAndPK(t,e,a,s,r,i,n,o){const{selectMakerConfig:l}=_.v,c=m.utils.concat(["0x05",f.utils.numberToBytesBE(e.id,4),a,l.recipient,f.utils.numberToBytesBE(s,2),f.utils.packAmountChecked(r),f.utils.numberToBytesBE(i,1),f.utils.packFeeChecked(n),f.utils.numberToBytesBE(o,1),f.utils.numberToBytesBE(e.nonce,4)]),d=Object(w.sign_musig)(t,c);return{pubKey:m.utils.hexlify(d.slice(0,32)).substr(2),l2SignatureOne:m.utils.hexlify(d.slice(32)).substr(2)}},async getAccountInfo(t,e,a,s){try{const r=await this.getZKAccountInfo(t,s);if("sync:0000000000000000000000000000000000000000"==r.pub_key_hash){const i=await this.registerAccount(r,e,t,a,s);r.pub_key_hash=i,r.nonce=r.nonce+1}return r}catch(t){throw new Error("getAccountInfo error "+t.message)}},async getL1SigAndPriVateKey(t){try{const e="Access ZKSwap account.\n\nOnly sign this message for a trusted client!",a=await t.signMessage(e),s=m.utils.arrayify(a);return await f.crypto.privateKeyFromSeed(s)}catch(t){throw new Error("getL1SigAndPriVateKey error "+t.message)}},async registerAccount(t,e,a,s,r){try{const i=m.utils.hexlify(Object(w.private_key_to_pubkey_hash)(e)).substr(2),n=this.toHex(t.id,4);let o=`Register ZKSwap pubkey:\n\n${i}\nnonce: ${this.toHex(t.nonce,4)}\naccount id: ${n}\n\nOnly sign this message for a trusted client!`;const c=await s.signMessage(o),d=(512==a?g.a.ZKSpace.Rinkeby:g.a.ZKSpace.Mainnet)+"/tx";let u=await l.a.post(d,{signature:null,fastProcessing:null,extraParams:null,tx:{account:r,accountId:t.id,ethSignature:c,newPkHash:"sync:"+i,nonce:0,type:"ChangePubKey"}},{headers:{"zk-account":r}});if(200==u.status&&u.data.success)return u.data;throw new Error("registerAccount fail")}catch(t){throw new Error("registerAccount error "+t.message)}},toHex(t,e){var a=["a","b","c","d","e","f"];let s=Array(2*e).fill("0");for(var r=2*e-1;t>15;){var i=t%16;if(i>=10){let t=i%10;s[r--]=a[t]}else s[r--]=i.toString();t=Math.floor(t/16)}if(0!=t)if(t>=10){let e=t%10;s[r--]=a[e]}else s[r--]=t.toString();return s.unshift("0x"),s.join("")}},A=a("4360"),T=a("31e2"),x=a("3035"),k=a.n(x);const P=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],D=[{inputs:[{internalType:"address",name:"maker",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"maker",type:"address"},{indexed:!0,internalType:"bool",name:"enable",type:"bool"}],name:"ChangeMaker",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"maker",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"op",type:"uint256"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"bytes32",name:"tradeId",type:"bytes32"}],name:"SwapAnswer",type:"event"},{inputs:[{internalType:"address",name:"maker",type:"address"},{internalType:"bool",name:"enable",type:"bool"}],name:"changeMaker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"getMaker",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"maker",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"tradeId",type:"bytes32"},{internalType:"address payable",name:"to",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"op",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"swapAnswer",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],S=[{inputs:[{internalType:"address payable",name:"_to",type:"address"},{internalType:"bytes",name:"_ext",type:"bytes"}],name:"transfer",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_ext",type:"bytes"}],name:"transferERC20",outputs:[],stateMutability:"nonpayable",type:"function"}];var E=a("b04c"),I=a("39f9");async function L(t,e,a,s,i,n=null){if(_.K.isInstallMeta||n){const o=new k.a(n||window.ethereum),l=e.fromChain.tokenAddress;let c=55e3;try{if(r.a.isEthTokenAddress(t,l))return c=await o.eth.estimateGas({from:a,to:makerInfo.makerAddress,value:i}),c;{const t=P,e=new o.eth.Contract(t,l);return e?(c=await e.methods.transfer(s,i).estimateGas({from:a}),c):c}}catch(t){console.warn("getTransferGasLimit error: ",t)}return c}}var M=a("f2da"),U=a("8e2f");async function N(t){if(33===t)return await f.Provider.newHttpProvider("https://goerli-api.zksync.io/jsrpc");if(3===t)return await f.getDefaultProvider("mainnet");throw new Error(`chainId ${this.chainId} not supported yet!`)}var V=a("1b23"),O=g.a.loopring.Mainnet,B={getUserAPI:function(t){let e=9==t?1:5;return new V.f({chainId:e})},getExchangeAPI:function(t){let e=9==t?1:5;return new V.c({chainId:e})},getLpTokenInfoOnce:(t,e)=>(9===t?A.a.state.lpTokenList.mainnet:A.a.state.lpTokenList.rinkeby).find(t=>t.address==e),async getLpTokenInfo(t,e,a=10){const s=this.getLpTokenInfoOnce(t,e);return s||(await Object(V.h)(100),--a>0?void await this.getLpTokenInfo(t,e,a):0)},getLoopringBalance:async function(t,e,a,s){try{let r;if(a){const a=this.getExchangeAPI(e);let s={owner:t},i=await a.getAccount(s);if(!i.accInfo||!i.raw_data)return i.code,0;r=i.accInfo}else{const a=await this.accountInfo(t,e);if(!a||a.code)return 0;r=a.accountInfo}99===e&&(O=g.a.loopring.Rinkeby);const i=await l.a.get(`${O}/api/v3/user/balances?accountId=${r.accountId}&tokens=${s?s.tokenId:0}`);if(200===i.status){if(!Array.isArray(i.data))return 0;if(0===i.data.length)return 0;let t=i.data[0];return(t.total?Number(t.total):0)-(t.locked?Number(t.locked):0)-(t.pending.withdraw?Number(t.pending.withdraw):0)}}catch(t){console.error("Get loopring balance failed: "+t.message)}},accountInfo:async function(t,e){let a=_.i.value;if(a)return{accountInfo:a,code:0};if(!t||!e)return null;try{const a=this.getExchangeAPI(e);let s=await a.getAccount({owner:t});if(s.accInfo&&s.raw_data){let t={accountInfo:s.accInfo,code:0};return Object(_.I)(s.accInfo),t}return{code:s.code,errorMessage:101002==s.code?"noAccount":s.message}}catch(t){return console.warn("get lp accountInfo error:"+t.message),null}},sendTransfer:async function(t,e,a,s,r,i,n){const o=this.getExchangeAPI(e),l=this.getUserAPI(e),c=await this.accountInfo(t,e);if(!c)throw Error("get account error");let d;if(c.code)throw Error("Get account error");if(d=null==c?void 0:c.accountInfo,0==d.nonce&&0==d.keyNonce&&""==d.publicKey.x&&""==d.publicKey.y&&""==d.keySeed)throw Error("account is not activated");if(d.frozen)throw Error("User account is frozen");const{exchangeInfo:u}=await o.getExchangeInfo(),h=new k.a(I.a.value.walletPayload.provider);let p={web3:h,address:d.owner,keySeed:d.keySeed&&""!==d.keySeed?d.keySeed:V.d.KEY_MESSAGE.replace("${exchangeAddress}",u.exchangeAddress).replace("${nonce}",(d.nonce-1).toString()),walletType:V.b.MetaMask,chainId:99==e?V.a.GOERLI:V.a.MAINNET};const m=await Object(V.g)(p);let f={accountId:d.accountId};const{apiKey:g}=await l.getUserApiKey(f,m.sk);if(!g)throw Error("Get Loopring ApiKey Error");Object(_.J)(g);const y=await this.getLpTokenInfo(e,r),v={accountId:d.accountId,sellTokenId:y.tokenId},w=await l.getNextStorageId(v,g),b=Math.round((new Date).getTime()/1e3)+2592e3,C={exchange:u.exchangeAddress,payerAddr:t,payerId:d.accountId,payeeAddr:a,payeeId:s,storageId:w.offchainId,token:{tokenId:y.tokenId,volume:i+""},maxFee:{tokenId:0,volume:"94000000000000000"},validUntil:b,memo:n};return await l.submitInternalTransfer({request:C,web3:h,chainId:99==e?V.a.GOERLI:V.a.MAINNET,walletType:V.b.MetaMask,eddsaKey:m.sk,apiKey:g,isHWAddr:!1})},getWithDrawFee:async function(t,e,a){var s,r;const i=await this.accountInfo(t,e);if(!i)return 0;let n;if(i.code)return 0;n=i.accountInfo;let o=_.v.transferValue;const l={accountId:n.accountId,requestType:V.e.OFFCHAIN_WITHDRAWAL,tokenSymbol:a,amount:o};let c=this.getUserAPI(e);const d=await c.getOffchainFeeAmt(l,"");return null!=d&&null!==(s=d.fees)&&void 0!==s&&null!==(r=s.ETH)&&void 0!==r&&r.fee?d.fees.ETH.fee:0},getTransferFee:async function(t,e,a){const s=await this.accountInfo(t,e);if(!s)return 0;let r;if(s.code)return 0;r=s.accountInfo;let i=_.v.transferValue;const n={accountId:r.accountId,requestType:V.e.TRANSFER,tokenSymbol:a?a.symbol:"ETH",amount:i};let o=this.getUserAPI(e);const l=await o.getOffchainFeeAmt(n,"");return l&&a&&l.fees[a.symbol]?l.fees[a.symbol].fee:0},getLoopringTxList:async function(t,e,a,s,r,i,n){let o,l=this.getUserAPI(a),c=await this.accountInfo(t,a);if(!c||c.code)return;o=c.accountInfo;const d={accountId:o.accountId,start:s,end:r,status:"processed,processing,received",limit:i,offset:n,tokenSymbol:e,transferTypes:"transfer"};return await l.getUserTransferList(d,9==a?Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_PO_G:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://goerli-rollup.arbitrum.io/rpc",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_PO_G:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",VUE_APP_OPEN_URL:"http://ec2-54-238-20-18.ap-northeast-1.compute.amazonaws.com:9095/api/v1",BASE_URL:""}).VUE_APP_LP_MK_KEY:Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_PO_G:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://goerli-rollup.arbitrum.io/rpc",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_PO_G:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",VUE_APP_OPEN_URL:"http://ec2-54-238-20-18.ap-northeast-1.compute.amazonaws.com:9095/api/v1",BASE_URL:""}).VUE_APP_LP_MKTEST_KEY)},getAccountStorageID:async function(t,e,a){try{const s=await this.accountInfo(t,e);if(!s)return 0;let r;if(s.code)return 0;r=s.accountInfo;let i=this.getUserAPI(e);const n={accountId:r.accountId,sellTokenId:a};return await i.getNextStorageId(n,9==e?Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_PO_G:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://goerli-rollup.arbitrum.io/rpc",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_PO_G:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",VUE_APP_OPEN_URL:"http://ec2-54-238-20-18.ap-northeast-1.compute.amazonaws.com:9095/api/v1",BASE_URL:""}).VUE_APP_LP_MK_KEY:Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_PO_G:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://goerli-rollup.arbitrum.io/rpc",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_PO_G:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",VUE_APP_OPEN_URL:"http://ec2-54-238-20-18.ap-northeast-1.compute.amazonaws.com:9095/api/v1",BASE_URL:""}).VUE_APP_LP_MKTEST_KEY)}catch(t){return console.warn("getLoopringNonceError =",t),0}}},R=a("2a2b");var F={async getTransferGasLimit(t,e,a){const{selectMakerConfig:s}=_.v;if(3===t||33===t){const a=await N(t);if(!e)return null;let r=3===t?A.a.state.zktokenList.mainnet:A.a.state.zktokenList.rinkeby;const n=s.fromChain.tokenAddress,o=r.filter(t=>t.address===n);let l=o.length>0?o[0]:null;if(!l)return null;let c=(await a.getTransactionFee("Transfer",e,l.id)).totalFee;try{var i;const t=await a.getState(_.K.coinbase);if(!t.committed||0==(null===(i=t.committed)||void 0===i?void 0:i.nonce)){const t=await a.getTransactionFee({ChangePubKey:{onchainPubkeyAuth:!1}},_.K.coinbase,l.id);c=c.add(t.totalFee)}}catch(t){console.error("Get ChangePubKey fee failed: ",t.message)}return c/10**l.decimals}if(12===t||512===t){let e=0;try{e=await C.getZKSpaceTransferGasFee(t,_.K.coinbase)}catch(t){console.warn("getZKSpaceTransferGasFeeError =",t)}return e}if(4===t||44===t){let s=this.realTransferAmount().toString();return await Object(M.f)(_.K.coinbase,a,e,s,t)/10**18}if(9===t||99===t)try{const e=await B.getLpTokenInfo(t,a);let s=await B.getTransferFee(_.K.coinbase,t,e);const r=18;return Number(s)/10**r}catch(t){console.warn("lp getTransferFeeerror:")}else if(r.a.isEthTokenAddress(t,a)||(14===t||514===t)&&a.toUpperCase()==="0X"+"E".repeat(40)){if(12===t||512===t){let e=0;try{e=await C.getZKSpaceTransferGasFee(t,_.K.coinbase)}catch(t){console.warn("getZKSpaceTransferGasFeeError =",t)}return e}if(9===t||99===t)try{const e=await B.getLpTokenInfo(t,a);let s=await B.getTransferFee(_.K.coinbase,t,e);const r=e?e.decimals:18;return Number(s)/10**r}catch(t){console.warn("lp getTransferFeeerror:")}const s=r.a.getChainInfoByChainId(t),i=null==s?void 0:s.rpc;if(i)for(const a of i)try{const s=new k.a(a),r=await s.eth.estimateGas({from:_.K.coinbase,to:e}),i=await s.eth.getGasPrice();let n=new d.a(i).multipliedBy(r);if(7===t||77===t){let e=await this.getOPFee(t);n=n.plus(e)}return n.dividedBy(10**18).toString()}catch(e){console.error(`EstimateGas ${t} error:`,e)}}return 0},async transferSpentGas(t){const{selectMakerConfig:e}=_.v,a={1:100,2:1.9,3:100,4:100,5:1,6:60,7:.001,8:1.7,9:100,10:1,11:1,15:1,16:1,22:.02,33:100,44:50,66:60,77:.001,88:1.7,99:1,510:1,511:1,13:1,513:1,514:28572e-9,515:1,516:1,518:1,519:1},s={1:35e3,2:81e4,3:100,4:35e3,5:35e3,6:1500,7:21e3,8:51e3,9:75e3,10:28e3,11:1e5,13:646496,15:15e4,16:15e4,22:81e4,33:100,44:35e3,66:1500,77:21e3,88:51e3,99:75e3,510:16e3,511:1e5,513:646496,514:10560,515:15e4,516:15e4,518:21e3,519:21e3};if(3===t||33===t){const a=await N(t),s=3===t?A.a.state.zktokenList.mainnet:A.a.state.zktokenList.rinkeby,r=e.fromChain.tokenAddress,i=s.filter(t=>t.address===r);let n=i.length>0?i[0]:null;if(!n)return null;return((await a.getTransactionFee("Transfer",e.recipient,n.id)).totalFee/10**n.decimals).toFixed(6)}if(9===t||99===t){const a=e.fromChain.tokenAddress,s=await B.getLpTokenInfo(t,a),r=await B.getTransferFee(_.K.coinbase,t,s);return(Number(r)/10**18).toFixed(6)}if(12===t||512===t){let a=0;try{a=await C.getZKSpaceTransferGasFee(t,_.K.coinbase?_.K.coinbase:e.recipient)}catch(t){return console.warn("getZKSpaceTransferGasFeeError =",t.message),0}return a.toFixed(6)}if(4===t||44===t){let a=this.realTransferAmount().toString(),s=e.fromChain.tokenAddress;return(await Object(M.f)(_.K.coinbase,s,e.recipient,a,t)/10**18).toFixed(6)}if(a[t.toString()]&&s[t.toString()]&&{1:"ETH",2:"AETH",3:"ETH",4:"ETH",5:"ETH",6:"MATIC",7:"ETH",8:"ETH",11:"ETH",9:"ETH",10:"METIS",15:"BNB",16:"ETH",22:"AETH",33:"ETH",44:"ETH",66:"MATIC",77:"ETH",88:"ETH",99:"ETH",510:"METIS",511:"ETH",13:"ETH",513:"ETH",14:"ETH",514:"ETH",515:"BNB",516:"ETH",518:"ETH",519:"ETH"}[t.toString()]){let e=await this.getGasPrice(t.toString());if(e){let a=e*s[t.toString()];if(7===t||77===t){a+=await this.getOPFee(t)}return a/=10**18,a.toFixed(6).toString()}return(a[t.toString()]*s[t.toString()]/10**9).toFixed(6).toString()}return null},transferSpentTime(t,e){let a=0;return 1!==t&&4!==t&&5!==t||(a=30),2!==t&&22!==t||(a=15),10!==t&&510!==t||(a=15),3!==t&&33!==t&&12!==t&&512!==t||(a=5),6!==t&&66!==t||(a=15),7!==t&&77!==t||(a=15),8!==t&&88!==t||(a=5),9!==t&&99!==t||(a=15),13!==t&&513!==t||(a=20),16!==t&&516!==t||(a=30),4!==t&&44!==t||(a=180),518===t&&(a=15),519===t&&(a=6.828),4!==e&&44!==e||(a=180),1!==e&&5!==e||(a+=30),16!==e&&516!==e||(a+=30),2!==e&&22!==e||(a+=15),3!==e&&33!==e&&12!==e&&512!==e||(a+=5),6!==e&&66!==e||(a+=15),7!==e&&77!==e||(a+=15),8!==e&&88!==e||(a+=5),9!==e&&99!==e||(a+=15),10!==e&&510!==e||(a+=15),11!==e&&511!==e||(a+=5),13!==e&&513!==e||(a+=20),14!==e&&514!==e||(a+=15),518===e&&(a+=15),519===e&&(a+=6.828),a+"s"},transferOrginTime(t,e){if(2===t||22===t)return"~7 days";if(4===t||44===t)return"~24 hours";if(16===t||516===t)return"~7 days";if(3===t||33===t||12===t||512===t||14===t||514===t)return"~4 hours";if(6===t||66===t)return"~3 hours";if(7===t||77===t)return"~7 days";if(8===t||88===t)return"~5 hours";if(9===t||99===t)return"~4 hours";if(10===t||510===t)return"~7 days";if(13===t||513===t)return"~7 days";if(15===t||515===t)return"~15min";if(518===t&&519===e)return"~2min";if(519===t&&518===e)return"~10min";if(1===t||5===t){if(2===e||22===e)return"~10min";if(4===e||44===e)return"~10min";if(3===e||33===e||12===e||512===e||14===e||514===e)return"~10min";if(6===e||66===e)return"~5min";if(7===e||77===e)return"~5min";if(8===e||88===e)return"~20min";if(9===e||99===e)return"~10min";if(10===e||510===e)return"~5min";if(11===e||511===e)return"~20min";if(13===e||513===e)return"~10min";if(15===e||515===e)return"~15min";if(16===e||516===e)return"~10min"}},transferSavingTime(t,e){if(2===t||22===t)return" 7 days";if(3===t||33===t||12===t||512===t)return" 4 hours";if(6===t||66===t)return" 3 hours";if(7===t||77===t)return" 7 days";if(8===t||88===t)return" 4 hours";if(9===t||99===t)return" 4 hours";if(10===t||510===t)return" 7 days";if(4===t||44===t)return" 24 hours";if(16===t||516===t)return" 7 days";if(1===t||5===t){if(2===e||22===e)return" 9.25min";if(3===e||33===e||12===e||512===e)return" 9.5min";if(6===e||66===e)return" 4.25min";if(7===e||77===e)return" 9.25min";if(8===e||88===e)return" 19.95min";if(9===e||99===e)return" 9.25min";if(10===e||510===e)return" 4.25min";if(11===e||511===e)return" 19.95min";if(13===e||513===e)return" 10 min";if(4===e||44===e)return" 7 min"}return 13===t||513===t?" 7 days":15===t||515===t?" 35 minute":void 0},async transferOrginGasUsd(t,e,a=!0){let s=0,r=0,i=0,n=0;const{selectMakerConfig:o}=_.v;if(2===t||22===t)try{let e=await this.getGasPrice(t),r=2===t?1:5;s=e*(a?801420:666721)+await this.getGasPrice(r)*(a?234552:161063)}catch(t){throw new Error("ar withdraw error")}if(3===t||33===t)try{const e=await N(t),a=await e.getTransactionFee("Withdraw",o.recipient,0);s+=Number(a.totalFee)}catch(t){throw new Error("zksync withdraw error")}if(4===t||44===t){s=2e14;const e=4===t?1:5;s+=6e4*await this.getGasPrice(e)}if(6===t||66===t)try{const e=await this.getGasPrice(t);r+=32e3*e;const a=6===t?1:5,i=await this.getGasPrice(a);s+=48e4*i}catch(t){throw new Error("po withdraw error")}if(7===t||77===t)try{let e=await this.getGasPrice(t)*(a?115340:137e3),r=7===t?1:5,i=82e4*await this.getGasPrice(r),n=await this.getOPFee(t);s=e+i+Number(n)}catch(t){throw new Error("op withdraw error")}if(8===t||88===t)try{const e=8===t?1:5,r=await this.getGasPrice(e);s+=r*(a?91304:51e4)}catch(t){throw new Error("imx withdraw error")}if(9===t||99===t)try{let e=await B.getWithDrawFee(_.K.coinbase,t,o.fromChain.symbol);s+=Number(e)}catch(t){throw new Error("loopring withdraw error")}if(10===t||510===t)try{let e=await this.getGasPrice(t);i+=685768*e;const a=10===t?1:5,r=await this.getGasPrice(a);s+=21e3*r}catch(t){throw new Error("metis withdraw error")}if(12===t||512===t)try{let e=await C.getZKSpaceWithDrawGasFee(t,_.K.coinbase?_.K.coinbase:o.recipient);s+=Number(e*10**o.fromChain.decimals)}catch(t){throw new Error("zkspace withdraw error")}if(13===t||513===t){s=10123935*await this.getGasPrice(t)}if(15===t||515===t)try{const e=await this.getGasPrice(t);n+=15e4*e}catch(t){throw new Error("bsc withdraw error")}if(14===t||514===t){s=10560*await this.getGasPrice(t)}if(16===t||516===t)try{let e=await this.getGasPrice(t),r=16===t?1:5;s=e*(a?3e5:65e3)+await this.getGasPrice(r)*(a?16e4:115e3)}catch(t){throw new Error("ar withdraw error")}if(518===t||519===t)try{s=21e3*await this.getGasPrice(t)}catch(t){throw new Error("scroll withdraw error")}if(2===e||22===e)try{const t=await this.getGasPrice(2===e?1:5);s+=t*(a?218291:92e3)}catch(t){throw new Error("ar deposit error")}if(3===e||33===e)try{const t=await this.getGasPrice(3===e?1:5);s+=t*(a?149072:62599)}catch(t){throw new Error("zksync deposit error")}if(4===e||44===e){const t=4==e?1:5;s+=11e4*await this.getGasPrice(t)}if(6===e||66===e)try{const t=await this.getGasPrice(6===e?1:5);s+=77257*t}catch(t){throw new Error("po deposit error")}if(7===e||77===e)try{s+=await this.getGasPrice(7===e?1:5)*(a?77921:151e3)}catch(t){throw new Error("op deposit error")}if(8===e||88===e)try{const t=await this.getGasPrice(8===e?1:5);s+=t*(a?116893:126e3)}catch(t){throw new Error("imx deposit error")}if(9===e||99===e)try{s+=await this.getGasPrice(9===e?1:5)*(a?91795:75e3)}catch(t){throw new Error("loopring deposit error")}if(10===e||510===e)try{let t=await this.getGasPrice(10===e?1:5);s+=170617*t}catch(t){throw new Error("metis deposit error")}if(11===e||511===e)try{const t=await this.getGasPrice(11===e?1:5);s+=26e4*t}catch(t){throw new Error("metis deposit error")}if(12===e||512===e)try{s+=await this.getGasPrice(12===e?1:5)*(a?100325:16e4)}catch(t){throw new Error("zkspace deposit error")}if(13===e||513===e){s+=1787707*await this.getGasPrice(e)}if(15===e||515===e)try{let t=await this.getGasPrice(e);n+=15e4*t}catch(t){throw new Error("bsc deposit error")}if(14===e||514===e){s=await this.getGasPrice(14===e?1:5)*(a?117858:170617)}if(518===e||519===e)try{s+=21e3*await this.getGasPrice(e)}catch(t){throw new Error("scroll deposit error")}let l=new d.a(0);return s>0&&(l=l.plus(await Object(T.c)(new d.a(s).dividedBy(10**18)))),r>0&&(l=l.plus(await Object(T.c)(new d.a(r).dividedBy(10**18),"MATIC"))),n>0&&(l=l.plus(await Object(T.c)(new d.a(n).dividedBy(10**18),"BNB"))),i>0&&(l=l.plus(await Object(T.c)(new d.a(i).dividedBy(10**18),"METIS"))),l.toNumber()},async getTransferBalance(t,e,a,s,r=!1){const{selectMakerConfig:i}=_.v;if(3===t||33===t){const e={account:s,localChainID:t,stateType:"committed"};try{let t=await h.a.getZKAccountInfo(e);if(!t||!t.result||!t.result.balances)return 0;const s=t.result.balances;return s[a]?s[a]:0}catch(t){throw console.warn("error =",t),"getZKBalanceError"}}else{if(4===t||44===t){const a=Object(M.c)(t);let i=_.K.starkNet.starkNetAddress;if(r)i=Object(M.d)(s,t);else if(!i)return 0;return await Object(M.b)(i,e,a)}if(8===t||88===t){const e=new U.a(t),r=await e.getBalanceBySymbol(s,a);return Number(r+"")}if(9===t||99===t){const a=await B.getLpTokenInfo(t,e);return await B.getLoopringBalance(s,t,r,a)}if(11===t||511===t){const e=new R.a(t,new k.a(I.a.value.walletPayload.provider),"MetaMask");return await e.getBalanceUsdc(s,!1)}if(12!==t&&512!==t)return this.getBalanceByRPC(t,s,e);{const a={account:s,localChainID:t};try{let s=await C.getZKspaceBalance(a);if(!s)return 0;const r=(12===t?A.a.state.zksTokenList.mainnet:A.a.state.zksTokenList.rinkeby).find(t=>t.address===e),n=s.find(t=>t.id===r.id);return n?n.amount*10**i.fromChain.symbol:0}catch(t){throw new Error("getZKSBalanceError,"+t.message)}}}},async getBalanceByRPC(t,e,a){const s=async(e,a,s)=>{if(!e)return 0;if(r.a.isEthTokenAddress(t,s))return Number(await e.eth.getBalance(a))||0;{const t=function(t,e,a,s){if(s){const t=new s.eth.Contract(P,e);return t||(console.warn("getLocalCoinContract_ecourseContractInstance"),null)}return console.warn("getLocalCoinContract_noWeb3"),null}(0,s,0,e);if(!t)throw"getBalance_tokenContractError";return await t.methods.balanceOf(a).call()}},i=r.a.getChainInfoByChainId(t),n=null==i?void 0:i.rpc;if(n){let r=0;for(const i of n)try{r=await s(new k.a(i),e,a);break}catch(e){console.error(`GetBalance ${t} error:`,e)}return r}return null},async getGasPrice(t){if(33===t||3===t)return null;const e=Object(E.a)(t);if(!e)return null;let a=await l.a.post(e,{jsonrpc:"2.0",method:"eth_gasPrice",params:[],id:0});return 200===a.status?parseInt(a.data.result):null},async getOPFee(t){const e=new u.ethers.providers.JsonRpcProvider(Object(E.a)(t)),a=Object(n.getContractFactory)("OVM_GasPriceOracle").attach(n.predeploys.OVM_GasPriceOracle).connect(e),s=Object(n.getContractFactory)("WETH9").attach(n.predeploys.WETH9).connect(e),r=_.v.selectMakerConfig.recipient,i=u.ethers.utils.parseUnits("5",18),o=await a.getL1Fee(u.ethers.utils.serializeTransaction({...await s.populateTransaction.transfer(r,i),gasPrice:await e.getGasPrice(),gasLimit:21e3}));return Number(o)},async getTokenConvertUsd(t){try{return(await Object(T.c)(1,t)).toNumber()}catch(t){throw t.message}},realTransferOPID(){let t=_.v.toChainID;return 9e3+Number(t)+""},getTransferTValue(){const{selectMakerConfig:t,transferValue:e,fromChainID:a,toChainID:s}=_.v,r=new d.a(e).plus(new d.a(t.tradingFee)).multipliedBy(new d.a(10**t.fromChain.decimals)).toFixed(),i=9e3+Number(s)+"";return v.a.getTAmountFromRAmount(a,r,i)},realTransferAmount(){const{selectMakerConfig:t,transferValue:e,fromChainID:a,toChainID:s}=_.v;let r=new d.a(e).plus(new d.a(t.tradingFee));if(!a||!r)return 0;let i=new d.a(r).multipliedBy(new d.a(10**t.fromChain.decimals)).toFixed();const n=9e3+Number(s)+"",o=v.a.getTAmountFromRAmount(a,i,n);return o.state?new d.a(o.tAmount).dividedBy(new d.a(10**t.fromChain.decimals)):r}},K=a("fc9c");const H={ETH:a("87a2"),USDC:a("d99b"),USDT:a("65ce"),TUSD:a("f33f"),MCO:a("3e28"),METIS:a("520b"),ZKS:a("ad47"),LRC:a("3536"),BNB:a("54f8"),DAI:a("2007")};var j=t=>t?(t=t.toUpperCase(),H[t]||""):"",z=async function(t,e,a,s){if(3==t||33==t){var r={account:s,localChainID:t,stateType:"committed"};try{let t=await h.a.getZKAccountInfo(r);if(!t||!t.result)return 0;return t.result.nonce}catch(t){return console.warn("error =",t),0}}else if(4===t||44===t)try{return Number(await Object(M.e)())}catch(t){return 0}else{if(8===t||88===t)return 0;if(9===t||99===t){const e=await B.getAccountStorageID(s,t,0);return e&&e.offchainId>0?(e.offchainId-1)/2:0}if(11===t||511===t)return 0;if(12===t||512===t){const e=await C.getZKAccountInfo(t,s);return e?e.nonce:0}{let e=0;const a=Object(E.b)(t);try{return e=await a.eth.getTransactionCount(s,"pending"),e}catch(t){return console.warn("getWeb3NonceError =",t),0}}}},G=a("c370"),Y=a("2470");const{walletDispatchersOnSwitchChain:$}=G.c;var W={name:"Transfer",components:{ObSelect:s.g,CommBtn:s.b,ObSelectChain:s.h,SvgIconThemed:s.j,CommDialog:s.c,RaiseUpSelect:s.i,HelpIcon:s.e},data:()=>({isCrossAddress:!1,isRaiseUpFromTokenListVisible:!1,isRaiseUpToTokenListVisible:!1,crossAddressReceipt:"",selectFromToken:"ETH",selectToToken:"ETH",timeSpenLoading:!1,gasCostLoading:!1,originGasLoading:!1,fromBalanceLoading:!1,toBalanceLoading:!1,saveTimeLoading:!1,balanceMap:{},originGasCost:0,sendBtnInfo:{text:"SEND",disabled:null},fromChainIdList:[],toChainIdList:[],fromTokenList:[],toTokenList:[],transferValue:"",toValue:0,exchangeToUsdPrice:0,fromBalance:Number(0).toFixed(6),toBalance:Number(0).toFixed(6),makerMaxBalance:0,userMaxPrice:0,userMinPrice:0,formWith:0,cronList:[]}),computed:{isErrorAddress(){if(!this.crossAddressReceipt||!r.a.isSupportXVMContract())return!1;if(4===_.v.toChainID||44===_.v.toChainID)return!1;return!new RegExp(/^0x[a-fA-F0-9]{40}$/).test(this.crossAddressReceipt)},isSupportXVM:()=>r.a.isSupportXVMContract(),transferDataState:()=>_.v,web3State:()=>_.K,isLogin:()=>I.b.value,currentWalletAddress:()=>I.a.value.walletPayload.walletAddress,isShowExchangeIcon(){return!this.queryParams.fixed&&11!==_.v.toChainID&&511!==_.v.toChainID&&!this.starkMid},isStarknet(){return"STARKNET"===this.refererUpper},refererUpper(){const{href:t}=window.location,e=t.match(/referer=(\w*)/i);return null!=e&&e[1]?e[1].toUpperCase():""},starkAddress(){const t=_.K.starkNet.starkNetAddress;return t||""},starkMid(){const t=_.v.fromChainID,e=_.v.toChainID;return(4===t||44===t)&&1!==e&&5!==e&&2!==e&&22!==e&&6!==e&&66!==e},queryParams(){var t,e,a,s;const{query:i}=this.$route,{referer:n}=i;let{token:o,tokens:l,amount:c,fixed:u}=i;c=new d.a(c),l=l?l.split(","):[];let h=(null===(t=Y.a.find(t=>t.fromChain.name===i.source))||void 0===t||null===(e=t.fromChain)||void 0===e?void 0:e.id)||0,p=(null===(a=Y.a.find(t=>t.toChain.name===i.dest))||void 0===a||null===(s=a.toChain)||void 0===s?void 0:s.id)||0;const m=(t,e)=>{const a=[];if(!t)return a;for(const o of t.split(",")){var s,r,i,n;const t=e?(null===(s=Y.a.find(t=>t.toChain.name===o))||void 0===s||null===(r=s.toChain)||void 0===r?void 0:r.id)||0:(null===(i=Y.a.find(t=>t.fromChain.name===o))||void 0===i||null===(n=i.fromChain)||void 0===n?void 0:n.id)||0;t&&a.push(t)}return Array.from(new Set(a)).sort((function(t,e){return t-e}))};let f=m(i.sources),g=m(i.dests,1);if(1===f.length&&1===g.length&&f[0]===g[0]&&(f=[],g=[]),h>0&&f.length>0&&-1===f.indexOf(h)&&(h=0),p>0&&g.length>0&&-1===g.indexOf(p)&&(p=0),h<=0&&f.length>0&&(h=f[0]),p<=0&&g.length>0&&(p=g[0]),1===g.length&&f.length>1){const t=f.indexOf(g[0]);t>-1&&(f.splice(t,1),h==g[0]&&(h=f[0]))}g.length>0&&g[0]===h&&(h=0),h===p&&(p=0);const y=[];for(const t of l){const e=Y.a.find(e=>r.a.equalsIgnoreCase(e.fromChain.symbol,t));e&&y.push(e.fromChain.symbol)}var v;o||(o=(null===(v=l)||void 0===v?void 0:v[0])||"");return c=1===c.comparedTo(0)?c.toFixed():"",u=1===u,{referer:n,source:h,dest:p,token:o,tokens:y,amount:c,fixed:u,sources:f,dests:g}},isShowMax(){var t,e;return new d.a(this.transferValue).comparedTo(new d.a(null===(t=_.v.selectMakerConfig)||void 0===t||null===(e=t.fromChain)||void 0===e?void 0:e.maxPrice))>0},isShowUnreachMinInfo(){if(I.b.value&&this.transferValue){let t=new d.a(this.userMinPrice),e=new d.a(this.transferValue);const a=new d.a(this.fromBalance);return e.comparedTo(t)<0&&e.comparedTo(a)<0}return!1},maxPrice(){var t,e;return null===(t=_.v.selectMakerConfig)||void 0===t||null===(e=t.fromChain)||void 0===e?void 0:e.maxPrice},toValueToolTip(){const{selectMakerConfig:t}=_.v;let e=(null==t?void 0:t.gasFee)||0;return e=parseFloat((e/10).toFixed(2)),`Sender pays a ${e}% trading fee for each transfer.`},timeSpenToolTip(){return`It takes about ${this.originTimeSpent?this.originTimeSpent.replace("~",""):this.originTimeSpent} moving funds using the native bridge, and it only takes about ${this.timeSpent?this.timeSpent.replace("~",""):this.timeSpent} using Orbiter.`},gasFeeToolTip(){const{selectMakerConfig:t}=_.v;return`<b>Fees using the native bridge costs around:</b><br />Gas Fee: $${this.originGasCost.toFixed(2)}<br />`+(" <br /><b>Fees using Orbiter costs:</b><br />Trading Fee: $"+(this.orbiterTradingFee*this.exchangeToUsdPrice).toFixed(2))+("<br />Withholding Fee: $"+(t?(t.tradingFee*this.exchangeToUsdPrice).toFixed(2):0))+`<br /><br /><b>Total: $${(this.gasTradingTotal*this.exchangeToUsdPrice).toFixed(2)}</b>`},timeSpent:()=>F.transferSpentTime(_.v.fromChainID,_.v.toChainID),originTimeSpent:()=>F.transferOrginTime(_.v.fromChainID,_.v.toChainID),orbiterTradingFee(){const{selectMakerConfig:t}=_.v;if(!t)return;const{fromChain:e}=t;let a=new d.a(this.transferValue?this.transferValue:0).multipliedBy(new d.a(t.gasFee)).dividedBy(new d.a(1e3)),s=v.a.getDigitByPrecision(e.decimals);return a.decimalPlaces(s,d.a.ROUND_UP)},gasTradingTotal(){const{selectMakerConfig:t}=_.v;if(!t)return"0.000000";return new d.a(t.tradingFee).plus(this.orbiterTradingFee).toFixed(6)},gasSavingMax(){let t=this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice;t<0&&(t=0);return"$"+t.toFixed(2).toString()},gasSavingMin(){const t=this.gasCost();let e=this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice-t;e<0&&(e=0);return"$"+e.toFixed(2).toString()},showSaveGas(){return this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice>0},saveGasLoading(){return this.originGasLoading},transferSavingTime(){var t;return null===(t=this.originTimeSpent)||void 0===t?void 0:t.replace("~","")}},watch:{queryParams:function(t){this.transferValue<=0&&(this.transferValue=t.amount)},crossAddressReceipt:function(t){Object(_.x)(t)},selectFromToken(t){_.v.fromCurrency!==t&&this.updateTransferInfo({fromCurrency:t})},selectToToken:function(t){_.v.toCurrency!==t&&this.updateTransferInfo({toCurrency:t})},isCrossAddress:function(t){Object(_.z)(t)},currentWalletAddress:function(t,e){console.log("Current wallet address",t),e!==t&&"0x"!==t&&this.refreshUserBalance()},"web3State.starkNet.starkNetAddress":function(t){t&&this.refreshUserBalance()},"transferDataState.fromChainID":function(t){_.v.fromChainID!==t&&this.updateTransferInfo({fromChainID:t})},"transferDataState.toChainID":function(t){_.v.toChainID!==t&&this.updateTransferInfo({toChainID:t})},transferValue:function(t){_.v.transferValue!==t&&Object(_.H)(t)}},async mounted(){await(async()=>{F.getTokenConvertUsd("ETH").then(t=>Object(_.y)(t)).catch(t=>console.warn("GetETHPriceError =",t))})(),this.transferValue=this.queryParams.amount,Object(_.z)(this.isCrossAddress),Object(_.x)(this.crossAddressReceipt),this.rates=await Object(T.d)("ETH"),this.updateTransferInfo()},onBeforeUnmount(){for(const t of this.cronList)clearInterval(t)},created(){this.replaceStarknetWrongHref()},methods:{updateTransferInfo({fromChainID:t,toChainID:e,fromCurrency:a,toCurrency:s}=_.v){const i=_.v.fromChainID,n=_.v.toChainID,o=_.v.fromCurrency;t=t||_.v.fromChainID,e=e||_.v.toChainID,a=a||_.v.fromCurrency,s=s||_.v.toCurrency;const{tokens:l,source:c,dest:d}=this.queryParams,u=l,h=Array.from(new Set(Y.a.map(t=>t.fromChain.id))).sort((function(t,e){return t-e}));t=t||(c&&h.find(t=>t===+c)?+c:h[0]);const p=Array.from(new Set(Y.a.filter(e=>e.fromChain.id===t).map(e=>{if(e.fromChain.id===t)return e.toChain.id}))).sort((function(t,e){return t-e}));e=e||(d&&p.find(t=>t===+d)?+d:p[0]),-1===p.indexOf(e)&&(e=p.indexOf(d)>-1?d:p[0]);const m=h.findIndex(t=>t===e);-1!==m&&h.splice(m,1);const f=h.findIndex(e=>e===t);-1!==f&&h.splice(f,1);const g=p.findIndex(e=>e===t);-1!==g&&p.splice(g,1);const y=p.findIndex(t=>t===e);-1!==y&&p.splice(y,1);let v=Y.a.filter(a=>a.fromChain.id===t&&a.toChain.id===e);u.length&&(v=v.filter(t=>u.find(e=>r.a.equalsIgnoreCase(e,t.fromChain.symbol))));const w=[],b=[];v.forEach(t=>{w.find(e=>e.token===t.fromChain.symbol)||w.push({icon:j(t.fromChain.symbol),token:t.fromChain.symbol,amount:0}),a!==t.fromChain.symbol||b.find(e=>e.token===t.toChain.symbol)||b.push({icon:j(t.toChain.symbol),token:t.toChain.symbol,amount:0})}),w.find(t=>t.token===a)||(a=w[0].token),v.forEach(t=>{a!==t.fromChain.symbol||b.find(e=>e.token===t.toChain.symbol)||b.push({icon:j(t.toChain.symbol),token:t.toChain.symbol,amount:0})}),b.find(t=>t.token===s)||(s=b[0].token),this.fromChainIdList!==h&&(this.fromChainIdList=h),this.toChainIdList!==p&&(this.toChainIdList=p),this.toTokenList!==b&&(this.toTokenList=b),this.fromTokenList!==w&&(this.fromTokenList=w),Object(_.B)(t),Object(_.F)(e),Object(_.C)(a),Object(_.G)(s);const C=Y.a.find(r=>r.fromChain.id===t&&r.toChain.id===e&&r.fromChain.symbol===a&&r.toChain.symbol===s);if(Object(_.E)(C),t===i&&e===n||(this.updateOriginGasCost(),this.specialProcessing()),t!==i){let e=this;this.gasCostLoading=!0,F.transferSpentGas(t).then(t=>{Object(_.D)(t),e.gasCostLoading=!1}).catch(t=>{e.gasCostLoading=!1,console.warn("GetGasFeeError =",t)})}var A;(a!==o&&this.updateExchangeToUsdPrice(),this.refreshUserBalance(),t!==i||a!==o)&&(this.userMinPrice=(null==C||null===(A=C.fromChain)||void 0===A?void 0:A.minPrice)||0);this.getMakerMaxBalance(),this.updateRoutes(i,n),this.updateSendBtnInfo()},updateSendBtnInfo(){const{selectMakerConfig:t}=_.v;if(!t)return;const{fromChain:e}=t;this.updateToValue();const a=18===e.decimals?6:2;let s=10**-a,i=new d.a(this.fromBalance).minus(new d.a(t.tradingFee)).minus(new d.a(s)),n=i.decimalPlaces(a,d.a.ROUND_DOWN)>0?i.decimalPlaces(a,d.a.ROUND_DOWN):new d.a(0),o=new d.a(e.maxPrice),l=new d.a(this.userMinPrice),c=new d.a(this.transferValue||0);const u={text:"CONNECT A WALLET",disabled:null};console.log("userMax",n.toString(),"transferValue",c.toString(),"selectMakerConfigMax",o.toString(),"toValue",this.toValue.toString(),"makerMaxBalance",this.makerMaxBalance),I.b.value&&(u.text="SEND",(c.comparedTo(0)<0||c.comparedTo(this.userMaxPrice)>0)&&(u.disabled="disabled"),c.comparedTo(n)>0?u.text="INSUFFICIENT FUNDS":c.comparedTo(o)>0?(u.text="INSUFFICIENT LIQUIDITY",u.disabled="disabled"):c.comparedTo(l)<0||c.comparedTo(0)>0&&this.toValue<=0?(u.text="INSUFFICIENT FUNDS",u.disabled="disabled"):this.toValue>0&&this.toValue>this.makerMaxBalance&&(u.text="INSUFFICIENT LIQUIDITY",u.disabled="disabled"),(this.isShowUnreachMinInfo||this.isShowMax)&&(u.text="SEND",u.disabled="disabled"),r.a.isSupportXVMContract()&&this.isCrossAddress&&(!this.crossAddressReceipt||this.isErrorAddress)&&(u.text="SEND",u.disabled="disabled")),this.sendBtnInfo=u},updateRoutes(t,e){const{fromChainID:a,toChainID:s,selectMakerConfig:r}=_.v,{path:i,query:n}=this.$route,o={};if(a!==t&&(null==n?void 0:n.source)!==r.fromChain.name&&(o.source=r.fromChain.name),s!==e&&(null==n?void 0:n.dest)!==r.toChain.name&&(o.dest=r.toChain.name),Object.keys(o).length){const t=JSON.parse(JSON.stringify(n));Object.assign(t,o),this.$router.push({path:i,query:t})}},updateToValue(){const{fromCurrency:t,toCurrency:e,selectMakerConfig:a}=_.v;if(!this.transferValue||!a)return"0";let s=v.a.getToAmountFromUserAmount(new d.a(this.transferValue).plus(new d.a(a.tradingFee)),a,!1);if(t!==e){const r=this.rates,i=r[t],n=r[e],o=a.slippage;if(!i||!n||!o)return console.log("get rate fail",t,i,e,n),0;const l=s.dividedBy(i).multipliedBy(n).toFixed(6);this.toValue=new d.a(l).multipliedBy(1-o/1e4)}else this.toValue=s},async specialProcessing(){const{fromChainID:t,toChainID:e}=_.v;if(4===t||44===t||4===e||44===e){const{starkNetIsConnect:t,starkNetAddress:e}=_.K.starkNet;if(!(t&&e||(await Object(M.a)(),_.K.starkNet.starkIsConnected||_.K.starkNet.starkNetAddress))){const t=Y.a[0];return void this.updateTransferInfo({fromChainID:t.fromChain.id})}}9!==t&&99!==t&&9!==e&&99!==e||I.b.value&&this.checkTransferValue()},async updateUserMaxPrice(){const{selectMakerConfig:t}=_.v;if(!t)return"0";const{fromChain:e,toChain:a}=t;if(!I.b.value)return e.maxPrice;if(!this.fromBalance)return"0";let s=await F.getTransferGasLimit(e.id,t.sender,e.tokenAddress)||0,r=v.a.getDigitByPrecision(e.decimals),i=10**-r,n=0;[3,33,1,5,2,22,7,77,16,516].includes(e.id)&&(n=.001);let o=new d.a(this.fromBalance).minus(new d.a(t.tradingFee)).minus(new d.a(i)).minus(new d.a(s)).minus(new d.a(n)),l=o.decimalPlaces(r,d.a.ROUND_DOWN)>0?o.decimalPlaces(r,d.a.ROUND_DOWN):new d.a(0),c=l.comparedTo(new d.a(e.maxPrice))>0?new d.a(e.maxPrice):l;9!==e.id&&99!==e.id&&9!==a.id&&99!==a.id||18!==e.decimals||(c=c.decimalPlaces(5,d.a.ROUND_DOWN)),this.userMaxPrice=c.toString()},addBalance(t,e,a,s){const r=s||I.a.value.walletPayload.walletAddress,i=this.balanceMap[r]=this.balanceMap[r]||{};(i[t]=i[t]||{})[e]=a||Number(0).toFixed(6),this.balanceMap=JSON.parse(JSON.stringify(this.balanceMap))},replaceStarknetWrongHref(){let t=!1;const{href:e}=window.location;if(e.match(/refer=starknet/i)&&(t=!0),t){const{path:t,query:e}=this.$route;delete e.dests,delete e.refer;try{window.location.href=t+"?referer=starknet&dest=starknet&fixed=1"}catch(t){}}},showChainName(t=!0){const e=_.v[(t?"from":"to")+"ChainID"];return r.a.chainName(e)},showChainIcon(t=!0){const e=_.v[(t?"from":"to")+"ChainID"];return this.$env.chainIcon[e]},selectFromTokenChange(t){this.selectFromToken=t},selectToTokenChange(t){this.selectToToken=t},fromMax(){if(!I.b.value)return void(this.transferValue="0");const{selectMakerConfig:t}=_.v;if(!t)return;const{fromChain:e,toChain:a}=t;let s=v.a.getDigitByPrecision(e.decimals),r=10**-s,i=new d.a(this.fromBalance).minus(new d.a(t.tradingFee)).minus(new d.a(r)),n=i.decimalPlaces(s,d.a.ROUND_DOWN)>0?i.decimalPlaces(s,d.a.ROUND_DOWN):new d.a(0),o=n.comparedTo(new d.a(this.userMaxPrice))>0?new d.a(this.userMaxPrice):n;9!==e.id&&99!==e.id&&9!==a.id&&99!==a.id||18!==e.decimals||(o=o.decimalPlaces(5,d.a.ROUND_DOWN)),this.transferValue=o.toString()},transfer_mid(){const{fromChainID:t,toChainID:e}=_.v;this.updateTransferInfo({toChainID:t,fromChainID:e})},changeFromChain(){this.fromChainIdList.length<=1||this.showFromChainPopupClick()},changeToChain(){this.toChainIdList.length<=1||this.showToChainPopupClick()},getFromChainInfo(t){_.v.fromChainID!==t.localID&&this.updateTransferInfo({fromChainID:t.localID})},getToChainInfo(t){_.v.toChainID!==t.localID&&this.updateTransferInfo({toChainID:t.localID})},showFromChainPopupClick(){this.$refs.SelectFromChainPopupRef.showCustom()},closeFromChainPopupClick(){this.$refs.SelectFromChainPopupRef.maskClick()},showToChainPopupClick(){this.$refs.SelectToChainPopupRef.showCustom()},closeToChainPopupClick(){this.$refs.SelectToChainPopupRef.maskClick()},checkTransferValue(){const{selectMakerConfig:t}=_.v;if(!t)return;const{fromChain:e,toChain:a}=t;9===e.id||99===e.id||9===a.id||99===a.id?this.transferValue=18===e.decimals?this.transferValue.replace(/^\D*(\d*(?:\.\d{0,5})?).*$/g,"$1"):this.transferValue.replace(/^\D*(\d*(?:\.\d{0,2})?).*$/g,"$1"):this.transferValue=18===e.decimals?this.transferValue.replace(/^\D*(\d*(?:\.\d{0,6})?).*$/g,"$1"):this.transferValue.replace(/^\D*(\d*(?:\.\d{0,2})?).*$/g,"$1"),this.updateSendBtnInfo()},async sendTransfer(){if(i.a.checkIsBitKeep())this.$notify.error({title:"Bitkeep is not supported and please try another wallet.",duration:3e3});else if(!this.sendBtnInfo||"disabled"!==this.sendBtnInfo.disabled)if(I.b.value){if(!i.a.checkPrice(this.transferValue))return void this.$notify.error({title:"The format of input amount is incorrect",duration:3e3});if(null===this.fromBalance)return void this.$notify.error({title:"Waiting for account balance to be obtained",duration:3e3});const{fromChainID:t,toChainID:e,fromCurrency:a,selectMakerConfig:s}=_.v;if(!s)return;const{fromChain:n}=s;let o=await z(n.id,n.tokenAddress,n.symbol,I.a.value.walletPayload.walletAddress);if((4===e||44===e)&&"DAI"==a)return void this.$notify.error({title:"Due to the Insufficient liquidity of DAI for StarkNet, to StarkNet function is suspende.",duration:6e3});if(o>8999)return void this.$notify.error({title:"Address with the nonce over 9000 are not supported by Orbiter",duration:3e3});if(!this.transferValue||new d.a(this.transferValue).comparedTo(new d.a(this.userMaxPrice))>0||new d.a(this.transferValue).comparedTo(new d.a(this.userMinPrice))<0)return void this.$notify.error({title:`Orbiter can only support minimum of ${this.userMinPrice} and maximum of ${this.maxPrice} ${a} on transfers.`,duration:3e3});if(8===e||88===e){const t=new U.a(e),a=I.a.value.walletPayload.walletAddress;a&&await t.ensureUser(a)}if(4===t||44===t){const{starkChain:e}=_.K.starkNet;if(!e||"unlogin"===e)return void r.a.showMessage("please connect StarkNet Wallet","error");if(4===t&&(44===e||"localhost"===e))return void r.a.showMessage("please switch StarkNet Wallet to mainnet","error");if(44===t&&(4===e||"localhost"==e))return void r.a.showMessage("please switch StarkNet Wallet to testNet","error")}else if(I.a.value.walletPayload.networkId.toString()!==r.a.chainNetWorkId(t))if(I.a.value.walletType===G.a)try{await r.a.ensureWalletNetwork(t)}catch(t){return void r.a.showMessage(t.message,"error")}else{const t=$[I.a.value.walletType];if(t){const e=()=>this.$emit("stateChanged","2");return void t(I.a.value.walletPayload.provider,()=>e.bind(this))}}const l=(r.a.isExecuteXVMContract()?s.fromChain.xvmList[0]:s.sender).toLowerCase();let c=r.a.shortAddress(l);(4===t||44===t&&!r.a.isExecuteXVMContract())&&(c=r.a.shortAddress(Object(M.d)(s.sender,t)));const{isCrossAddress:u,crossAddressReceipt:h}=_.v,p=(u?h:I.a.value.walletPayload.walletAddress).toLowerCase();this.$store.commit("updateConfirmRouteDescInfo",[{no:1,from:new d.a(this.transferValue).plus(new d.a(s.tradingFee))+a,to:c,fromTip:"",toTip:l,icon:r.a.isExecuteXVMContract()?"contract":"wallet"},{no:2,from:c,to:r.a.shortAddress(p),fromTip:l,toTip:p,icon:"wallet"}]),this.$emit("stateChanged","2")}else K.a.$emit("connectWallet",!0)},async updateOriginGasCost(){this.originGasLoading=!0;const{fromChainID:t,toChainID:e,fromCurrency:a}=_.v;if(t&&e){try{this.originGasCost=await F.transferOrginGasUsd(t,e,"ETH"!==a)}catch(t){console.warn("updateOriginGasCost error =",t.message),this.$notify.error({title:"GetOrginGasFeeError",desc:t,duration:3e3})}this.originGasLoading=!1}},async updateExchangeToUsdPrice(){const{selectMakerConfig:t}=_.v;if(!t)return;const e=(await Object(T.c)(1,t.fromChain.symbol)).toNumber();e>0&&(this.exchangeToUsdPrice=e)},async getBalance(t,e,a,s){const{fromCurrency:r,selectMakerConfig:i}=_.v,n=i.sender;try{if(!n)return"";const i=await F.getTransferBalance(t,e,a,n,!0);if(r!==a){const t=(await Object(T.b)(i,a,r,this.rates)).toString();return new d.a(t).dividedBy(10**s).toFixed(6)}return(i/10**s).toFixed(6)}catch(t){return console.warn(t),0}},async getMakerMaxBalance(){const{selectMakerConfig:t}=_.v;if(!t)return;const{toChain:e}=t;if(11===e.id||511===e.id)return void(this.makerMaxBalance=Number.MAX_SAFE_INTEGER);const a=await this.getBalance(e.id,e.tokenAddress,e.symbol,e.decimals);a>0&&(this.makerMaxBalance=new d.a(a).multipliedBy(.95).toString())},gasCost(){const{fromChainID:t,selectMakerConfig:e}=_.v;if(3===t||33===t||9===t||99===t){let t=_.v.gasFee;const a=Object(T.a)(e.fromChain.symbol);return a>0&&(t/=a),Math.ceil(Number(10*t))/10}return Math.ceil(_.v.gasFee*_.v.ethPrice*10)/10},refreshUserBalance(){const t=this,{fromChainID:e,selectMakerConfig:a}=_.v;if(!a)return;const{fromChain:s,toChain:r}=a;let i=I.a.value.walletPayload.walletAddress;if(4!==e&&44!==e||(i=_.K.coinbase),!i||"0x"===i)return;const n=this.balanceMap[i]=this.balanceMap[i]||{},o=n[s.id]=n[s.id]||{};void 0===o[s.symbol]?(this.fromBalanceLoading=!0,F.getTransferBalance(s.id,s.tokenAddress,s.symbol,i).then(e=>{const a=(e/10**s.decimals).toFixed(6);t.addBalance(s.id,s.symbol,a,i),t.fromBalance=a,t.updateUserMaxPrice()}).catch(t=>{console.warn(t)}).finally(()=>{this.fromBalanceLoading=!1})):(t.updateUserMaxPrice(),t.fromBalance=o[s.symbol]);const l=n[r.id]=n[r.id]||{};void 0===l[r.symbol]?(this.toBalanceLoading=!0,F.getTransferBalance(r.id,r.tokenAddress,r.symbol,i).then(e=>{const a=(e/10**r.decimals).toFixed(6);t.addBalance(r.id,r.symbol,a,i),t.toBalance=a}).catch(t=>{console.warn(t)}).finally(()=>{this.toBalanceLoading=!1})):t.toBalance=l[r.symbol]}}},Z=(a("d55c"),a("2877")),Q=Object(Z.a)(W,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"transfer-box"},[t._m(0),e("div",{staticClass:"from-area"},[e("div",{staticClass:"topItem"},[4===t.transferDataState.fromChainID||44===t.transferDataState.fromChainID?e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.starkAddress)}})]},proxy:!0}],null,!1,3485496982)},[e("div",{staticClass:"left"},[t._v("From")])]):e("div",{staticClass:"left"},[t._v("From")]),t.isLogin?e("div",{staticClass:"right"},[t._v(" Balance: "),t.fromBalanceLoading?e("CommLoading",{staticStyle:{left:"0.3rem",top:"0.2rem"},attrs:{width:"1.2rem",height:"1.2rem"}}):e("span",[t._v(t._s(t.fromBalance))])],1):t._e()],1),e("div",{staticClass:"bottomItem"},[e("div",{staticClass:"left",on:{click:t.changeFromChain}},[e("svg-icon",{staticStyle:{width:"24px",height:"24px","margin-right":"4px"},attrs:{iconName:t.showChainIcon()}}),e("span",[t._v(t._s(t.showChainName()))]),t.fromChainIdList.length>1?e("SvgIconThemed"):t._e()],1),e("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.transferValue,expression:"transferValue"}],staticClass:"right",staticStyle:{"min-width":"50px"},attrs:{type:"text",maxlength:18,placeholder:t.userMinPrice?t.userMinPrice>t.fromBalance||t.userMinPrice>=t.userMaxPrice?"at least "+t.userMinPrice:`${t.userMinPrice}~${t.userMaxPrice}`:"0"},domProps:{value:t.transferValue},on:{input:[function(e){e.target.composing||(t.transferValue=e.target.value)},function(e){return t.checkTransferValue()}]}}),e("el-button",{staticClass:"maxBtn",on:{click:t.fromMax}},[t._v("Max")]),e("div",{staticStyle:{"margin-left":"4px"}},[e("ObSelect",{attrs:{datas:t.fromTokenList},on:{input:t.selectFromTokenChange,show:()=>t.isRaiseUpFromTokenListVisible=!0},model:{value:t.selectFromToken,callback:function(e){t.selectFromToken=e},expression:"selectFromToken"}})],1)],1)])]),t.isShowExchangeIcon?e("svg-icon",{staticClass:"exchange-icon",attrs:{iconName:"exchange"},nativeOn:{click:function(e){return t.transfer_mid.apply(null,arguments)}}}):t._e(),e("div",{staticClass:"to-area",style:{marginTop:t.isShowExchangeIcon?"4px":"-2px"}},[e("div",{staticClass:"topItem"},[4==t.transferDataState.toChainID||44==t.transferDataState.toChainID?e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.starkAddress)}})]},proxy:!0}],null,!1,3485496982)},[e("div",{staticClass:"left"},[t._v("To")])]):e("div",{staticClass:"left"},[t._v("To")]),t.isLogin?e("div",{staticClass:"right"},[t._v(" Balance: "),t.toBalanceLoading?e("CommLoading",{staticStyle:{left:"0.3rem",top:"0.2rem"},attrs:{width:"1.2rem",height:"1.2rem"}}):e("span",[t._v(t._s(t.toBalance))])],1):t._e()],1),e("div",{staticClass:"bottomItem"},[e("div",{staticClass:"left",on:{click:t.changeToChain}},[e("svg-icon",{staticStyle:{width:"24px",height:"24px","margin-right":"4px"},attrs:{iconName:t.showChainIcon(!1)}}),e("span",[t._v(t._s(t.showChainName(!1)))]),t.toChainIdList.length>1?e("SvgIconThemed"):t._e()],1),e("div",{staticClass:"right",staticStyle:{display:"flex","align-items":"center",height:"40px"}},[t.toTokenList.length?e("div",{staticStyle:{"margin-left":"4px"}},[e("ObSelect",{attrs:{datas:t.toTokenList},on:{input:t.selectToTokenChange,show:()=>t.isRaiseUpToTokenListVisible=!0},model:{value:t.selectToToken,callback:function(e){t.selectToToken=e},expression:"selectToToken"}})],1):t._e(),e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.toValueToolTip)}})]},proxy:!0}])},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1),e("div",{staticClass:"right-value"},[t._v(t._s(t.toValue))])],1)])]),t.isStarknet?e("div",{staticStyle:{"font-size":"1.2rem",color:"#78797d","margin-top":"1rem","text-align":"left"}},[e("svg-icon",{staticStyle:{width:"1rem",height:"1rem","margin-right":"0.2rem"},attrs:{iconName:"tips"}}),t._v(" Centralized transfer is provided currently and trustless transfer will be launched soon. "),e("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://docs.orbiter.finance/",target:"__blank"}},[t._v("More")])],1):t._e(),e("div",{attrs:{hidden:!t.isSupportXVM}},[e("div",{staticStyle:{"text-align":"left","margin-top":"20px","padding-left":"20px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isCrossAddress,expression:"isCrossAddress"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.isCrossAddress)?t._i(t.isCrossAddress,null)>-1:t.isCrossAddress},on:{change:function(e){var a=t.isCrossAddress,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=t._i(a,null);s.checked?i<0&&(t.isCrossAddress=a.concat([null])):i>-1&&(t.isCrossAddress=a.slice(0,i).concat(a.slice(i+1)))}else t.isCrossAddress=r}}}),e("label",{attrs:{for:"checkbox"}},[t._v(" Cross Address ")])]),t.isCrossAddress?e("div",{staticClass:"cross-addr-box to-area"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.crossAddressReceipt,expression:"crossAddressReceipt"}],attrs:{type:"text",placeholder:"You receive cross chain addresses"},domProps:{value:t.crossAddressReceipt},on:{input:function(e){e.target.composing||(t.crossAddressReceipt=e.target.value)}}})]):t._e()]),e("CommBtn",{staticClass:"btn select-wallet-dialog",staticStyle:{"border-radius":"40px"},attrs:{disabled:!t.sendBtnInfo||t.sendBtnInfo.disabled},on:{click:t.sendTransfer}},[e("span",{staticClass:"w700 s16",staticStyle:{"letter-spacing":"0.15rem"}},[t._v(" "+t._s(t.sendBtnInfo&&t.sendBtnInfo.text)+" ")])]),e("div",{staticClass:"info-box"},[t.isErrorAddress?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Address format error. ")])],1):t._e(),t.isShowUnreachMinInfo?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Less than the minimum transfer amount. ")])],1):t._e(),t.isShowMax?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Makers provide "+t._s(t.maxPrice)+" "+t._s(t.selectFromToken)+" for liquidity. ")])],1):t._e(),t.showSaveGas?e("div",{staticClass:"gas-save info-item"},[e("SvgIconThemed",{staticStyle:{"margin-right":"6px"},attrs:{icon:"orbiter",size:"sm"}}),e("span",{staticClass:"border"},[t._v("Gas Fee Saved ")]),e("span",{staticClass:"red"},[t._v(" Save "),t.saveGasLoading?e("CommLoading",{staticStyle:{margin:"0 1rem"},attrs:{width:"1rem",height:"1rem"}}):e("span",{staticStyle:{"margin-left":"0.4rem"}},[t._v(t._s(t.gasSavingMin)+" ~ "+t._s(t.gasSavingMax))])],1),e("o-tooltip",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.gasFeeToolTip)}})]},proxy:!0}],null,!1,682907961)},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1)],1):t._e(),e("div",{staticClass:"time-save info-item"},[e("SvgIconThemed",{staticStyle:{"margin-right":"6px"},attrs:{icon:"clock",size:"sm"}}),e("span",{staticClass:"border"},[t._v(" Time Spend "),t.timeSpenLoading?e("CommLoading",{attrs:{width:"1.2rem",height:"1.2rem"}}):e("span",[t._v(t._s(t.timeSpent))])],1),e("span",{staticClass:"red"},[t._v(" Save "),t.saveTimeLoading?e("CommLoading",{staticStyle:{margin:"0 1rem"},attrs:{width:"1rem",height:"1rem"}}):e("span",{staticStyle:{"margin-left":"0.4rem"}},[t._v(" "+t._s(t.transferSavingTime)+" ")])],1),e("o-tooltip",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.timeSpenToolTip)}})]},proxy:!0}])},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1)],1)]),e("CommDialog",{ref:"SelectFromChainPopupRef"},[e("div",{staticStyle:{width:"100%"},attrs:{slot:"PoperContent"},slot:"PoperContent"},[e("ObSelectChain",{attrs:{ChainData:t.fromChainIdList},on:{getChainInfo:t.getFromChainInfo,closeSelect:function(e){return t.closeFromChainPopupClick()}}})],1)]),e("CommDialog",{ref:"SelectToChainPopupRef"},[e("div",{staticStyle:{width:"100%"},attrs:{slot:"PoperContent"},slot:"PoperContent"},[e("ObSelectChain",{attrs:{ChainData:t.toChainIdList},on:{getChainInfo:t.getToChainInfo,closeSelect:function(e){return t.closeToChainPopupClick()}}})],1)]),e("RaiseUpSelect",{attrs:{iconType:"img",visible:t.isRaiseUpFromTokenListVisible,datas:t.fromTokenList,value:t.selectFromToken,keyMaps:{value:"token",label:"token"}},on:{hiden:()=>t.isRaiseUpFromTokenListVisible=!1,input:t.selectFromTokenChange}}),e("RaiseUpSelect",{attrs:{iconType:"img",visible:t.isRaiseUpToTokenListVisible,datas:t.toTokenList,value:t.selectToToken,keyMaps:{value:"token",label:"token"}},on:{hiden:()=>t.isRaiseUpToTokenListVisible=!1,input:t.selectToTokenChange}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"top-area"},[t("span",{staticClass:"title"},[this._v("Token")])])},function(){var t=this._self._c;return t("div",{staticClass:"topItem",attrs:{"data-v-59545920":""}},[t("div",{staticClass:"left"},[this._v("Cross Address")])])}],!1,null,"34e381e8",null).exports;const X=l.a.create({baseURL:"http://ec2-54-238-20-18.ap-northeast-1.compute.amazonaws.com:9095/api/v1",timeout:3e4,headers:{"Access-Control-Allow-Origin":"*"}});X.interceptors.response.use((function(t){const e=t.data;return 0!==e.code?Promise.reject(new Error(e.msg)):e.result}),(function(t){return Promise.reject(t)}));var q=X;const J=t=>{A.a.commit("updateProceedState",t)};var tt={UserTransferReady(t,e,a,s,r){12!==s&&512!==s||(r=r.replace("sync-tx:","0x")),A.a.commit("updateProceedTxID",r),A.a.commit("updateProceedingUserTransferFrom",t),A.a.commit("updateProceedingUserTransferTo",e);var i=v.a.getRAmountFromTAmount(s,a);if(!i.state)throw new Error("UserTransferReady error: "+i.error);i=i.rAmount,A.a.commit("updateProceedingUserTransferAmount",i),A.a.commit("updateProceedingUserTransferLocalChainID",s),A.a.commit("updateProceedingUserTransferTxid",r),setTimeout(()=>{!async function(t){let e=1;const a=setInterval(async()=>{try{const{status:s,txList:r}=await q.get("/status?hash="+t);switch(console.log("txStatus",s,"txList",r),s){case 0:if(2===e)J(3);else{r.find(t=>0===t.side)&&(e=2,J(2))}break;case 1:J(4);break;case 99:J(5),clearInterval(a)}for(const t of r)0===t.side&&A.a.commit("updateProceedingUserTransferTimeStamp",new Date(t.timestamp).valueOf()/1e3),1===t.side&&A.a.commit("updateProceedingMakerTransferTxid",t.hash)}catch(t){return void console.error(t)}},1e4)}(r)},2e4)}},et=a("85a0"),at=a("3387"),st=a("2b5c"),rt=(a("46a1"),a("450d"),a("e5f2")),it=a.n(rt);const nt={"0x01":"Cross Ethereum Address","0x02":"Cross Dydx Address","0x03":"Cross Stark Address"};class ot{constructor(t,e=5,a){const s=r.a.getChainInfoByChainId(e);this.contractAddress=null!=s&&s.xvmList&&s.xvmList.length?s.xvmList[0]:"",this.contractAddress||console.log("Sorry, miss param [contractAddress]"),this.provider=t,this.orbiterChainId=e,this.signer=a||t.getSigner(),this.networkId=r.a.chainNetWorkId(e)}async checkNetworkId(){if(this.providerNetworkId||(this.providerNetworkId=(await this.provider.getNetwork()).chainId),this.providerNetworkId!=this.networkId)throw new Error(`Sorry, currentNetworkId: ${this.providerNetworkId} no equal networkId: ${this.networkId}`)}async getAllowance(t,e=this.contractAddress){const a=await this.signer.getAddress();return await t.allowance(a,e)}async approveERC20(t,e=u.ethers.constants.MaxUint256,a=this.contractAddress){await this.checkNetworkId();const s=new u.ethers.Contract(t,P,this.signer);await s.approve(a,e);const i=it()({duration:0,title:"Approving...",type:"warning"});try{for(let t=0;t<5e3;t++){const t=await this.getAllowance(s,a);if(e.lte(t))break;await r.a.sleep(2e3)}i.close()}catch(t){throw i.close(),t}}async transfer(t,e,a){if(await this.checkNetworkId(),a&&!nt[a.type])throw new Error("Invalid crossAddressType : "+a.type);const s=new u.ethers.Contract(this.contractAddress,S,this.signer),r=ot.encodeExt(a),i={value:e.toHexString()};return await s.transfer(t,r,i)}async wallConnTransfer(t,e,a){if(a&&!nt[a.type])throw new Error("Invalid crossAddressType : "+a.type);const s=new u.ethers.utils.Interface(S),r=ot.encodeExt(a),i=s.encodeFunctionData("transfer",[t,r]),n=await this.signer.getAddress();return await G.c.walletConnectSendTransaction(this.orbiterChainId,n,this.contractAddress,e,i)}async transferERC20(t,e,a,s){if(await this.checkNetworkId(),s&&!nt[s.type])throw new Error("Invalid crossAddressType : "+s.type);const r=new u.ethers.Contract(t,P,this.provider),i=await this.getAllowance(r);a.gt(i)&&await this.approveERC20(t);const n=new u.ethers.Contract(this.contractAddress,S,this.signer),o=ot.encodeExt(s);return await n.transferERC20(t,e,a.toHexString(),o)}async walletConnApproveERC20(t,e=u.ethers.constants.MaxUint256,a=this.contractAddress){await this.checkNetworkId();const s=new u.ethers.Contract(t,P,this.signer),i=new u.ethers.utils.Interface(P).encodeFunctionData("approve",[a,e]),n=await this.signer.getAddress(),o=await G.c.walletConnectSendTransaction(this.orbiterChainId,n,t,0,i);console.log(o,"walletConnApproveERC20 transferHash---");const l=it()({duration:0,title:"Approving...",type:"warning"});try{for(let t=0;t<5e3;t++){const t=await this.getAllowance(s,a);if(e.lte(t))break;await r.a.sleep(2e3)}l.close()}catch(t){throw l.close(),t}}async walletConnTransferERC20(t,e,a,s){if(s&&!nt[s.type])throw new Error("Invalid crossAddressType : "+s.type);const r=new u.ethers.Contract(t,P,this.provider),i=await this.getAllowance(r);a.gt(i)&&await this.walletConnApproveERC20(t);const n=ot.encodeExt(s),o=new u.ethers.utils.Interface(S).encodeFunctionData("transferERC20",[t,e,a.toHexString(),n]),l=await this.signer.getAddress();return await G.c.walletConnectSendTransaction(this.orbiterChainId,l,this.contractAddress,0,o)}async contractApprove(t,e,a){const s=new u.ethers.Contract(t,P,this.provider),r=await this.getAllowance(s,e);console.log("allowance",r),a.gt(r)&&(I.a.value.walletType===G.b?await this.walletConnApproveERC20(t,u.ethers.constants.MaxUint256,e):await this.approveERC20(t,u.ethers.constants.MaxUint256,e))}static encodeExt(t){if(!t||!m.utils.isHexString(t.type))return"0x";if(!t.value)return t.type;if("0x03"==t.type&&m.utils.isHexString(t.value)&&t.value.length%2==1){let e=t.value.substring(2);t.value="0x0"+e}return m.utils.hexConcat([t.type,t.value])}static decodeExt(t){if(!m.utils.isHexString(t))return;return{type:m.utils.hexDataSlice(t,0,1),value:m.utils.hexDataSlice(t,1)}}static parseTransferInput(t){const[e,a]=m.utils.defaultAbiCoder.decode(["address","bytes"],m.utils.hexDataSlice(t,4));return{to:e,ext:ot.decodeExt(a)}}static parseTransferERC20Input(t){const[e,a,s,r]=m.utils.defaultAbiCoder.decode(["address","address","uint256","bytes"],m.utils.hexDataSlice(t,4));return{token:e,to:a,amount:s,ext:ot.decodeExt(r)}}}var lt=a("e36d"),ct=a("e6fe"),dt=a("a3ca"),ut=a.n(dt),ht=a("c2d8");const{walletDispatchersOnSignature:pt,walletDispatchersOnSwitchChain:mt,walletConnectSendTransaction:ft}=G.c;var gt={name:"Confirm",components:{SvgIconThemed:s.j,CommBoxHeader:s.a,CommBtn:s.b,HelpIcon:s.e},data:()=>({transferLoading:!1,expectValue:""}),computed:{isMobile:()=>_.f.value,isStarkNetChain(){const{fromChainID:t,toChainID:e}=_.v;return 4==t||44==t||4==e||44==e},confirmData(){const{selectMakerConfig:t}=_.v;let e=F.realTransferAmount().toString();e=e.replace(/(.*?0)0{4,}(0.*?)/,"$1...$2");return[...[{icon:"withholding",title:"Withholding Fee",notice:"The Maker charges the Sender a fixed fee to cover the fluctuating gas fees that incur when sending funds to the destination network.",desc:t.tradingFee+" "+t.tradingFee.fromChain.symbol},{icon:"security",title:"Identification Code",notice:"In Orbiter, each transaction has a four digit identification code. The identification code can be seen at the end of the total amount being transferred as a way to identify the transaction. The identification code will be the evidence in the case that the Maker does not send the assets to the target network. This will act as an evidence to claim your funds from the margin contract.",desc:F.realTransferOPID(),haveSep:!0},{icon:"send",title:"Total Send",notice:"Total amount sent by the Sender including the withholding fee.",desc:e+" "+t.fromChain.symbol,textBold:!0},{icon:"received",title:"Received",desc:this.expectValue,textBold:!0},{icon:"exchange",title:"Maker Routes",notice:"After the Sender submits the transaction, the assets are transferred to the Makers address who will provide the liquidity. Orbiters contract will ensure the safety of the assets and will make sure that the Sender receives the assets to the target network.",descInfo:this.$store.state.confirmData.routeDescInfo}]]}},methods:{async zkspaceTransfer(){const{selectMakerConfig:t,fromChainID:e}=_.v;try{var a;let s=new m.providers.Web3Provider(I.a.value.walletPayload.provider);const r=I.a.value.walletPayload.walletAddress,i=s.getSigner(),n=await C.getL1SigAndPriVateKey(i),o=F.getTransferTValue();if(!o.state)return this.$notify.error({title:o.error,duration:3e3}),void(this.transferLoading=!1);const l=f.utils.closestPackableTransactionAmount(o.tAmount),c=await C.getAccountInfo(e,n,i,r),d=0,u=512===e?g.a.ZKSpace.zksrinkebyChainID:g.a.ZKSpace.zksChainID;let h=await C.getZKSpaceTransferGasFee(e,r);const p=f.utils.closestPackableTransactionFee(m.utils.parseUnits(h.toString(),18)),y=12===e?this.$store.state.zksTokenList.mainnet:this.$store.state.zksTokenList.rinkeby,v=t.toChain.tokenAddress,w=y.find(t=>t.address===v),{pubKey:_,l2SignatureOne:b}=C.getL2SigOneAndPK(n,c,r,w?w.id:0,l,d,p,u),A={signature:{type:"EthereumSignature",signature:await C.getL2SigTwoAndPK(i,c,l,h,u,w)},fastProcessing:!1,tx:{type:"Transfer",accountId:c.id,from:r,to:t.recipient,token:w?w.id:0,amount:l.toString(),feeToken:d,fee:p.toString(),chainId:u,nonce:c.nonce,signature:{pubKey:_,signature:b}}},T=null===(a=(await C.sendTransfer(e,A)).data)||void 0===a?void 0:a.data.replace("sync-tx:","0x"),x=await this.getFristResult(e,T);this.onTransferSucceed(r,o.tAmount.toString(),e,x.data.tx_hash),this.transferLoading=!1}catch(t){return this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3}),void console.warn("zkspaceTransfer =",t.message)}},async getFristResult(t,e){const a=await C.getZKSpaceTransactionData(t,e);if(!a.success||a.data.fail_reason||a.data.success||a.data.amount){if(a.success&&!a.data.fail_reason&&a.data.success&&a.data.amount)return a;throw new Error("zks sendResult is error")}return await r.a.sleep(300),await this.getFristResult(t,e)},async zk2Transfer(){const{selectMakerConfig:t,fromChainID:e}=_.v,a=new ct.Provider(Object(E.a)(e)),s=t.fromChain.tokenAddress,r=(await a.isTokenLiquid(s),F.getTransferTValue());if(!r.state)return this.$notify.error({title:r.error,duration:3e3}),void(this.transferLoading=!1);const i=new ct.Web3Provider(I.a.value.walletPayload.provider).getSigner(),n=t.recipient,o=r.tAmount,l={from:I.a.value.walletPayload.walletAddress,txType:113,customData:{feeToken:""},to:"",value:lt.a.from(0),data:"0x"};if("0x000000000000000000000000000000000000800a"===s.toLowerCase())l.value=lt.a.from(o),l.to=n,l.customData.feeToken="0x0000000000000000000000000000000000000000";else{const t=new k.a,e=new t.eth.Contract(P,s);l.data=e.methods.transfer(n,t.utils.toHex(o)).encodeABI(),l.to=s,l.customData.feeToken=s}const c=await i.sendTransaction(l);c.hash&&this.onTransferSucceed(_.K.coinbase,r.tAmount,e,c.hash),this.transferLoading=!1},async zkTransfer(){const{selectMakerConfig:t,fromChainID:e}=_.v,a=new k.a(I.a.value.walletPayload.provider),s=I.a.value.walletPayload.walletAddress,r=t.fromChain.tokenAddress,i=new m.providers.Web3Provider(a.currentProvider),n=await N(e);try{const a=await f.Wallet.fromEthSigner(i.getSigner(s),n),l=F.getTransferTValue();if(!l.state)return this.$notify.error({title:l.error,duration:3e3}),void(this.transferLoading=!1);const c=f.utils.closestPackableTransactionAmount(l.tAmount),d=await n.getTransactionFee("Transfer",a.address()||"",r);if(await a.isSigningKeySet())try{const i=await a.syncTransfer({to:t.recipient,token:r,amount:c}),n=await i.awaitReceipt();n.success&&!n.failReason&&this.onTransferSucceed(s,c.toString(),e,i.txHash),this.transferLoading=!1}catch(t){console.warn("inError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}else{var o;const i=await a.getNonce("committed"),l=a.batchBuilder(i);if("ERC-1271"===(null===(o=a.ethSignerType)||void 0===o?void 0:o.verificationMethod)){if(!await a.isOnchainAuthSigningKeySet()){const t=await a.onchainAuthSigningKey();await(null==t?void 0:t.wait())}}const u=await a.signer.pubKeyHash(),h=await a.getAccountId();if("number"!=typeof h)throw new TypeError("It is required to have a history of balances on the account to activate it.");const p=f.utils.getChangePubkeyLegacyMessage(u,i,h),m=(await a.getEthMessageSignature(p)).signature,g=await n.getTransactionFee({ChangePubKey:{onchainPubkeyAuth:!1}},a.address()||"",r),y=await a.signer.signSyncChangePubKey({accountId:h,account:a.address(),newPkHash:u,nonce:i,ethSignature:m,validFrom:0,validUntil:f.utils.MAX_TIMESTAMP,fee:g.totalFee,feeTokenId:a.provider.tokenSet.resolveTokenId(r)});l.addChangePubKey({tx:y,alreadySigned:!0}),l.addTransfer({to:t.recipient,token:r,amount:c,fee:d.totalFee});const v=await l.build(),w=await Object(et.submitSignedTransactionsBatch)(a.provider,v.txs,[v.signature]);let _;for(const t of w)if("ChangePubKey"!==t.txData.tx.type){_=t;break}const b=await _.awaitReceipt();b.success&&!b.failReason&&this.onTransferSucceed(s,c.toString(),e,_.txHash),this.transferLoading=!1}}catch(t){console.warn("outError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}},async loopringTransfer(){const{selectMakerConfig:t,fromChainID:e,toChainID:a}=_.v,s=t.fromChain.fromChain.tokenAddress;try{const r=F.getTransferTValue();if(!r.state)return this.$notify.error({title:r.error,duration:3e3}),void(this.transferLoading=!1);const i=9e3+Number(a)+"",n=r.tAmount;try{const a=await B.sendTransfer(I.a.value.walletPayload.walletAddress,e,t.recipient,0,s,n,i);a.hash&&"processing"===a.status&&this.onTransferSucceed(I.a.value.walletPayload.walletAddress,n,e,a.hash),this.transferLoading=!1}catch(t){if(this.transferLoading=!1,"account is not activated"===t.message)this.$notify({type:"error",message:'<div style="text-align:left;font-size: 1.4rem; color: black">This Loopring account is not yet activated, please activate it before transferring.</div>',dangerouslyUseHTMLString:!0,duration:8e3});else if("User account is frozen"===t.message){const t=this.$notify({type:"error",message:'<div style="text-align:left;font-size: 1.4rem; color: black">Your Loopring account is frozen, please check your Loopring account status on Loopring website. Get more details <span style="color:blue;text-decoration: underline"> here </span>.</div>',dangerouslyUseHTMLString:!0,duration:8e3});t.$el.querySelector("span").onclick=()=>{t.close(),window.open("https://docs.loopring.io/en/basics/key_mgmt.html?h=frozen","_blank")}}else this.$notify.error({title:t.message,duration:3e3})}}catch(t){console.warn("outError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}},addChainNetWork(){const{isCrossAddress:t,crossAddressReceipt:e,fromChainID:a,fromCurrency:s,transferValue:i,selectMakerConfig:n}=_.v,o=this,l=r.a.getChainInfoByChainId(a),c={chainId:r.a.toHex(l.chainId)};I.a.value.walletPayload.provider.request({method:"wallet_switchEthereumChain",params:[c]}).then(()=>{const c=(r.a.isExecuteXVMContract()?l.xvmList[0]:n.recipient).toLowerCase();let u=r.a.shortAddress(c);4!==a&&44!==a||(u=r.a.shortAddress(Object(M.d)(n.recipient,a)));const h=(t?e:I.a.value.walletPayload.walletAddress).toLowerCase();o.$store.commit("updateConfirmRouteDescInfo",[{no:1,from:new d.a(i).plus(new d.a(n.tradingFee))+s,to:u,fromTip:"",toTip:c,icon:r.a.isExecuteXVMContract()?"contract":"wallet"},{no:2,from:u,to:r.a.shortAddress(h),fromTip:c,toTip:h,icon:"wallet"}]),this.RealTransfer()}).catch(t=>{if(console.warn(t),4902===t.code){const t={chainId:r.a.toHex(l.chainId),chainName:l.name,nativeCurrency:{name:l.nativeCurrency.name,symbol:l.nativeCurrency.symbol,decimals:l.nativeCurrency.decimals},rpcUrls:l.rpc,blockExplorerUrls:[l.explorers&&l.explorers.length>0&&l.explorers[0].url?l.explorers[0].url:l.infoURL]};I.a.value.walletPayload.provider.request({method:"wallet_addEthereumChain",params:[t,I.a.value.walletPayload.walletAddress]}).then(()=>{}).catch(t=>{console.warn(t),r.a.showMessage(t.message,"error")})}else r.a.showMessage(t.message,"error")})},async ethTransfer(t){const{selectMakerConfig:e,fromChainID:a}=_.v,s=I.a.value.walletPayload.walletAddress,r=pt[I.a.value.walletType];if(r)r(s,e,t,a,this.onTransferSucceed);else if(I.b.value)try{const r=I.a.value.walletPayload.provider,i=new k.a(r);let n=await L(a,e,s,e.recipient,t,r);2===a&&n<21e3&&(n=21e3);const o=new m.providers.Web3Provider(i.currentProvider);o.getSigner().sendTransaction({from:s,to:e.recipient,value:t,gasLimit:n}).then(e=>{this.transferLoading=!1,this.onTransferSucceed(s,t,a,e.hash)}).catch(t=>{this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})})}catch(t){console.error(t)}else this.transferLoading=!1},async starknetTransfer(t){const{selectMakerConfig:e,fromChainID:a}=_.v;if(!I.b.value)return void(this.transferLoading=!1);const s=I.a.value.walletPayload.walletAddress;if(4===a||44===a){const{starkChain:t}=_.K.starkNet;if(!t||"unlogin"===t)return void r.a.showMessage("please connect StarkNet Wallet","error");if(4===a&&(44===t||"localhost"===t))return void r.a.showMessage("please switch StarkNet Wallet to mainnet","error");if(44===a&&(4===t||"localhost"===t))return void r.a.showMessage("please switch StarkNet Wallet to testNet","error")}try{let r=e.fromChain.tokenAddress;const i=await Object(M.g)(s,r,e.recipient,new d.a(t),a);i&&this.onTransferSucceed(s,t,a,i)}catch(t){this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}},async imxTransfer(t){const{selectMakerConfig:e,fromChainID:a}=_.v;if(!I.b.value)return void(this.transferLoading=!1);const s=I.a.value.walletPayload.walletAddress;try{let i=e.fromChain.tokenAddress;const n=new U.a(a),o=await n.getImmutableXClient(s,!0);let l={type:st.b.ETH,data:{decimals:e.fromChain.tokenAddress}};r.a.isEthTokenAddress(a,i)||(l={type:st.a.ERC20,data:{symbol:e.fromChain.symbol,decimals:e.fromChain.decimals,tokenAddress:i}});const c=await o.transfer({sender:s,token:l,quantity:lt.a.from(t),receiver:e.recipient});this.onTransferSucceed(s,t,a,c.transfer_id)}catch(t){this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}},async dydxTransfer(t){const{selectMakerConfig:e,fromChainID:a}=_.v;if(!I.b.value)return void(this.transferLoading=!1);const s=I.a.value.walletPayload.walletAddress;try{const r=new R.a(a,new k.a(I.a.value.walletPayload.provider),"MetaMask"),i=r.getMakerInfo(e.recipient),n=await r.getDydxClient(s,!1,!0),o=await r.getAccount(s),l={clientId:r.generateClientId(s),amount:new d.a(t).dividedBy(10**6).toString(),expiration:new Date((new Date).getTime()+2592e6).toISOString(),receiverAccountId:r.getAccountId(e.recipient),receiverPublicKey:i.starkKey,receiverPositionId:String(i.positionId)},c=await n.private.createTransfer(l,o.positionId);this.onTransferSucceed(s,t,a,c.transfer.id)}catch(t){console.error(t),this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}},async handleXVMContract(){const{fromChainID:t,crossAddressReceipt:e,transferValue:a,isCrossAddress:s,selectMakerConfig:i}=_.v,n=I.a.value.walletPayload.walletAddress;if(!I.b.value)return;const o=new d.a(a).plus(new d.a(i.tradingFee)).multipliedBy(new d.a(10**i.fromChain.decimals)).toFixed(),l=pt[I.a.value.walletType];if(l)return void l(n,i,o,t,this.onTransferSucceed);const c=r.a.getChainInfoByChainId(t).xvmList[0],u=i.fromChain.tokenAddress;if(!r.a.isEthTokenAddress(t,u))if(I.a.value.walletType===at.k){const e=Object(E.b)(t),a=new m.providers.Web3Provider(e.currentProvider),s=new ot(a,t,a.getSigner(n));await s.contractApprove(u,c,lt.a.from(o))}else{const e=new m.providers.Web3Provider(I.a.value.walletPayload.provider),a=new ot(e,t);await a.contractApprove(u,c,lt.a.from(o))}let h=v.a.getToAmountFromUserAmount(new d.a(a).plus(new d.a(i.tradingFee)),i,!1);h=await r.a.getXVMExpectValue(h.toString());try{const a=I.a.value.walletPayload.provider,{transactionHash:l}=await async function(t,e,a,s,i,n,o){const{selectMakerConfig:l,fromChainID:c}=ht.a,{fromChain:d,toChain:u}=l,h=d.tokenAddress,p=d.symbol,m=u.chainId,f=u.symbol,g=u.tokenAddress,y=l.slippage;console.log("expectValue --\x3e ",n,"eth value--\x3e",i,"token--\x3e",h);const v=new k.a(t||window.web3.currentProvider),w=(p===f?[m,g,o]:[m,g,o,n,y]).map(t=>v.utils.toHex(t)),_=ut.a.encode(w),b=new v.eth.Contract(D,e);if(r.a.isEthTokenAddress(c,h))return b.methods.swap(s,h,i,_).send({from:a,value:i});{const t=await b.methods.swap(s,h,i,_).estimateGas({from:a,gas:5e6});return console.log("gasLimit",t),b.methods.swap(s,h,i,_).send({from:a,gas:t})}}(a,c,n,i.recipient,o,h,s?e:n);l&&this.onTransferSucceed(n,o,t,l)}catch(t){console.error(t),this.$notify.error({title:t.message,duration:3e3})}},async RealTransfer(){if(!I.b.value)return void K.a.$emit("connectWallet",!0);const{fromChainID:t,selectMakerConfig:e}=_.v;if(4!==t&&44!==t&&I.a.value.walletPayload.networkId.toString()!==r.a.chainNetWorkId(t))if(I.a.value.walletType===G.a)try{await r.a.ensureWalletNetwork(t)}catch(t){return void r.a.showMessage(t.message,"error")}else{const t=mt[I.a.value.walletType];if(t)return void t(I.a.value.walletPayload.provider)}if(!this.transferLoading){if(r.a.isExecuteXVMContract())return this.transferLoading=!0,await this.handleXVMContract(),void(this.transferLoading=!1);if(this.transferLoading=!0,3===t||33===t)this.zkTransfer();else if(14===t||514===t)this.zk2Transfer();else if(9===t||99===t)this.loopringTransfer();else if(12===t||512===t)this.zkspaceTransfer();else{const a=e.fromChain.tokenAddress,s=e.recipient,i=F.getTransferTValue();if(!i.state)return this.$notify.error({title:i.error,duration:3e3}),void(this.transferLoading=!1);const n=I.a.value.walletPayload.walletAddress;if(4===t||44===t)return void this.starknetTransfer(i.tAmount);if(8===t||88===t)return void this.imxTransfer(i.tAmount);if(11===t||511===t)return void this.dydxTransfer(i.tAmount);if(r.a.isEthTokenAddress(t,a))this.ethTransfer(i.tAmount);else{if(I.a.value.walletType===at.k){const e=new k.a,r=new e.eth.Contract(P,a),o=await r.methods.transfer(s,e.utils.toHex(i.tAmount)).encodeABI();return ft(t,n,a,0,o).then(e=>{this.onTransferSucceed(n,i.tAmount,t,e)})}const r=function(t,e){if(3!==t&&33!==t&&4!==t&&44!==t){if(I.b.value){const t=new(new k.a(I.a.value.walletPayload.provider).eth.Contract)(P,e);return t||null}return null}}(t,a);if(!r)return void this.$notify.error({title:"Failed to obtain contract information, please refresh and try again",duration:3e3});let o=await L(t,e,n,s,i.tAmount);2===t&&o<21e3&&(o=21e3);const l={from:n,gas:o};r.methods.transfer(s,i.tAmount).send(l,(e,a)=>{this.transferLoading=!1,e?this.$notify.error({title:e.message,duration:3e3}):this.onTransferSucceed(n,i.tAmount,t,a)})}}}},onTransferSucceed(t,e,a,s){const{selectMakerConfig:r}=_.v;tt.UserTransferReady(t,r.recipient,e,a,s);let i=s;8!==a&&88!==a||(i="TransferId: "+i),this.$notify.success({title:i,duration:3e3}),this.$emit("stateChanged","3")},closerButton(){this.$emit("stateChanged","1")}},async mounted(){const{selectMakerConfig:t,transferValue:e}=_.v,{fromChain:a,toChain:s}=t,i=v.a.getToAmountFromUserAmount(new d.a(e).plus(new d.a(t.tradingFee)),t,!1);if(r.a.isExecuteXVMContract()){const e=a.symbol,r=s.symbol,n=t.slippage;if(e!==r){const t=18===s.decimals?5:3,a=(await Object(T.b)(i,e,r)).toFixed(t),o=new d.a(a).multipliedBy(1-n/1e4).toFixed(t);this.expectValue=`${o} ~ ${a} ${r}`}else this.expectValue=`${i} ${r}`}else this.expectValue=`${i} ${t.fromChain.symbol}`}},yt=(a("2655"),Object(Z.a)(gt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"confirm-box"},[e("CommBoxHeader",{style:t.isMobile?"":"margin-bottom:30px;",attrs:{back:t.closerButton}},[t._v("Confirm")]),t._l(t.confirmData,(function(a){return e("div",{key:a.title,staticClass:"confirm-item",style:{marginBottom:"22px"}},[e("div",{staticClass:"item-left"},[e("SvgIconThemed",{attrs:{icon:a.icon}}),e("span",{staticClass:"left-txt"},[t._v(t._s(a.title))]),e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",[t._v(t._s(a.notice))])]},proxy:!0}],null,!0)},[a.notice?e("HelpIcon",{attrs:{size:"sm"}}):t._e()],1)],1),e("div",{staticClass:"item-right"},[a.desc?e("span",[t._v(t._s(a.desc))]):t._e()]),a.descInfo&&a.descInfo.length>0?e("div",{staticClass:"descBottom"},t._l(a.descInfo,(function(a,s){return e("div",{key:a.no,staticStyle:{"margin-bottom":"1rem"}},[e("span",{staticStyle:{width:"40px",display:"inline-block"}},[t._v(" "+t._s(0===s?"Send":"")+" ")]),a.fromTip?e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",[t._v(t._s(a.fromTip))])]},proxy:!0}],null,!0)},[e("span",{staticStyle:{"margin-left":"0.7rem","margin-right":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.from)+" ")])]):e("span",{staticStyle:{"margin-left":"0.7rem","margin-right":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.from)+" ")]),t._v(" To "),e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",[t._v(t._s(a.toTip))])]},proxy:!0}],null,!0)},[e("span",{staticStyle:{"margin-left":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.to)+" ")])]),e("span",{staticStyle:{"margin-left":"0.3rem","vertical-align":"-25%"}},[e("SvgIconThemed",{attrs:{icon:a.icon}})],1)],1)})),0):t._e(),a.haveSep?e("div",{staticStyle:{"border-bottom":"2px dashed rgba(0, 0, 0, 0.2)",height:"43px"}}):t._e()])})),t.isStarkNetChain?e("div",{staticStyle:{padding:"0 30px",display:"flex","text-align":"left","padding-top":"8px"}},[e("SvgIconThemed",{staticStyle:{"margin-right":"10px"},attrs:{icon:"info"}}),e("span",{staticStyle:{color:"#df2e2d",flex:"1"}},[t._v("StarkNet is still in alpha version, the transaction on it maybe will be done in 1~2 hours. Orbiter keeps your funds safe.")])],1):t._e(),e("div",{staticStyle:{padding:"0 30px",display:"flex","text-align":"left","padding-top":"8px"}},[e("SvgIconThemed",{staticStyle:{"margin-right":"10px"},attrs:{icon:"info"}}),e("span",{staticStyle:{color:"#df2e2d",flex:"1"}},[t._v("Please do not modify the transaction or remove the last four digits on the transfer amount in your wallet as this will cause the transaction to fail.")])],1),e("CommBtn",{staticClass:"select-wallet-dialog",on:{click:t.RealTransfer}},[t.transferLoading?e("CommLoading",{staticStyle:{margin:"auto"},attrs:{loadingColor:"white",width:"2rem",height:"2rem"}}):e("span",{staticClass:"wbold s16",staticStyle:{"letter-spacing":"0.1rem"}},[t._v("CONFIRM AND SEND")])],1)],2)}),[],!1,null,"4c661af6",null).exports),vt={name:"Proceed",props:{detailData:{type:Object,required:!1,default:null}},components:{SvgIconThemed:s.j,CommBoxHeader:s.a},computed:{isCompleted(){return!this.detailData&&!(1===this.$store.state.proceedState||2===this.$store.state.proceedState)&&5===this.$store.state.proceedState},isFailed(){return this.detailData&&!(1===this.detailData.state||0===this.detailData.state)},isMobile:()=>_.f.value,isProcee(){return this.detailData?1==this.detailData.state:5!==this.$store.state.proceedState},isLightMode(){return"light"===this.$store.state.themeMode},FromChainName(){const t=this.getChainId();return r.a.chainName(t)},toChainName(){const t=this.getChainId(!1);return r.a.chainName(t)},FromTx(){if(this.detailData){const{fromTxHash:t,fromChainID:e}=this.detailData;return 8==e||88==e?"TransferId: "+t:"Tx:"+r.a.shortAddress(t)}const{proceedState:t,proceeding:e}=this.$store.state;return 1===t?"View on Explore":8==_.v.fromChainID||88==_.v.fromChainID?"TransferId: "+e.userTransfer.txid:"Tx:"+r.a.shortAddress(e.userTransfer.txid)},ToTx(){if(this.detailData){const{state:t,toTxHash:e,toChainID:a}=this.detailData;return 0!==t?"View on Explore":8===a||88===a?"TransferId: "+e:"Tx:"+r.a.shortAddress(e)}const{toChainID:t}=_.v,{proceedState:e,proceeding:a}=this.$store.state;return e<4?"View on Explore":8===t||88===t?"TransferId: "+a.makerTransfer.txid:"Tx:"+r.a.shortAddress(a.makerTransfer.txid)},proceedData(){const{selectMakerConfig:t,fromCurrency:e}=_.v;if(this.detailData){var a,s;return[{title:"Timestamp",desc:null===(a=new Date(this.detailData.fromTimeStamp+" UTC+0").toLocaleString())||void 0===a||null===(s=a.replace(/\..*/g,""))||void 0===s?void 0:s.replace("T"," ")},{title:"Value",desc:this.detailData.userAmount.toString()+" "+this.detailData.tokenName}]}return[{title:"Timestamp",desc:r.a.transferTimeStampToTime(this.$store.state.proceeding.userTransfer.timeStamp)},{title:"Value",desc:(this.$store.state.proceeding.userTransfer.amount/10**t.fromChain.decimals).toFixed(6)+" "+e}]}},methods:{showChainIcon(t=!0){return this.detailData?this.$env.chainIcon[this.detailData[(t?"from":"to")+"ChainID"]]:this.$env.chainIcon[_.v[(t?"from":"to")+"ChainID"]]},getChainId(t=!0){let e;return e=this.detailData?this.detailData[(t?"from":"to")+"ChainID"]:_.v[(t?"from":"to")+"ChainID"],e},switchNetWork(t=!0){this.addChainNetWork(this.getChainId(t))},async goToExplorFrom(){let t;if(this.detailData){const{accountExploreUrl:e}=this.$env,{fromChainID:a}=this.detailData;let s=this.detailData.fromTxHash;return t=this.$env.txExploreUrl[a]+s,88==a&&(t=e[a]),9!=this.detailData.fromChainID&&99!=this.detailData.fromChainID||(t=0!=this.detailData.blockNum&&0!=this.detailData.indexInBlock&&null!=this.detailData.blockNum&&null!=this.detailData.indexInBlock?this.$env.txExploreUrl[this.detailData.fromChainID]+`${this.detailData.blockNum}-${this.detailData.indexInBlock}`:this.$env.txExploreUrl[this.detailData.fromChainID]+s+"-transfer"),void window.open(t,"_blank")}const{fromChainID:e}=_.v,{accountExploreUrl:a,txExploreUrl:s}=this.$env;if(1===this.$store.state.proceedState){let s=_.K.coinbase;4!=e&&44!=e||(s=_.K.starkNet.starkNetAddress),t=a[e]+s,8!=e&&88!=e||(t=a[e])}else{let r=this.$store.state.proceeding.userTransfer.txid;t=s[e]+r+(9==e||99==e?"-transfer":""),88==e&&(t=a[e])}window.open(t,"_blank")},async goToExplorTo(){let t={};t=this.detailData?this.detailData:_.v;const{toChainID:e,state:a}=t,{accountExploreUrl:s,txExploreUrl:r}=this.$env;let i=null;const n=()=>{let t=_.K.coinbase;4!=e&&44!=e||(t=_.K.starkNet.starkNetAddress),i=s[e]+t,8!=e&&88!=e||(i=s[e])};if(this.detailData)if(0!==a)n();else{let t=this.detailData.toTxHash;i=r[e]+t,88==e&&(i=s[e]),9!=this.detailData.toChainID&&99!=this.detailData.toChainID||(i=0!=this.detailData.blockNum&&0!=this.detailData.indexInBlock&&null!=this.detailData.blockNum&&null!=this.detailData.indexInBlock?this.$env.txExploreUrl[this.detailData.toChainID]+`${this.detailData.blockNum}-${this.detailData.indexInBlock}`:this.$env.txExploreUrl[this.detailData.toChainID]+t+"-transfer")}else if(this.$store.state.proceedState<4)n();else{let t=this.$store.state.proceeding.makerTransfer.txid;i=r[e]+t+(9==e||99==e?"-transfer":""),88==e&&(i=s[e])}window.open(i,"_blank")},closerButton(){if(this.detailData){const t=this.$route;localStorage.setItem("last_page_before_history",JSON.stringify({path:t.path,params:t.params,query:t.query})),Object(_.k)(),this.$router.push({path:"/history"}),this.$emit("stateChanged","4")}else this.$store.commit("updateProceedTxID",null),this.$emit("stateChanged","1")},addChainNetWork(t){const e=r.a.getChainInfoByChainId(t),a={chainId:r.a.toHex(e.chainId)};I.a.value.walletPayload.provider.request({method:"wallet_switchEthereumChain",params:[a]}).then(()=>{r.a.showMessage("switch success","success")}).catch(t=>{if(console.warn(t),4902===t.code){const t={chainId:r.a.toHex(e.chainId),chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,symbol:e.nativeCurrency.symbol,decimals:e.nativeCurrency.decimals},rpcUrls:e.rpc,blockExplorerUrls:[e.explorers&&e.explorers.length>0&&e.explorers[0].url?e.explorers[0].url:e.infoURL]};I.a.value.walletPayload.provider.request({method:"wallet_addEthereumChain",params:[t,_.K.coinbase]}).then(()=>{}).catch(t=>{console.warn(t),r.a.showMessage(t.message,"error")})}else r.a.showMessage(t.message,"error")})}}},wt=(a("8194"),{name:"Bridge",components:{Transfer:Q,Confirm:yt,Proceed:Object(Z.a)(vt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"proceed-box"},[e("CommBoxHeader",{attrs:{back:t.closerButton}},[t._v(t._s(t.detailData?t.isFailed?"Transcation Failed":"Detail":t.isCompleted?"Completed":"Processing"))]),e("div",{staticClass:"ProceedContent"},[t._l(t.proceedData,(function(a){return e("div",{key:a.title,staticClass:"contentItem"},[e("span",{staticClass:"item-title",staticStyle:{width:"100px","text-align":"left"}},[t._v(t._s(a.title))]),a.desc||a.descInfo?e("span",{staticClass:"item-value right"},[t._v(t._s(a.desc))]):e("CommLoading",{staticClass:"right",attrs:{width:"1.2rem",height:"1.2rem"}})],1)})),e("div",{staticClass:"chainDataContent"},[t.isMobile?e("div",{staticClass:"middle-icon-abs",staticStyle:{"z-index":"2"}},[t.isProcee?e("div",{class:[{"rocket-box-bg":t.isProcee}]}):e("div",{class:["rocket-box"]},[t.detailData?e("SvgIconThemed",{staticStyle:{width:"24px",height:"24px"},attrs:{iconName:"succeed"}}):e("SvgIconThemed",{attrs:{icon:"satellite",size:"xs"}})],1)]):t._e(),e("div",{staticClass:"item left",staticStyle:{"z-index":"3"}},[e("div",{staticClass:"chain-name from"},[e("span",[t._v(t._s(t.FromChainName))])]),e("div",{staticClass:"chain"},[e("svg-icon",{staticStyle:{width:"56px",height:"56px"},attrs:{iconName:t.showChainIcon()}})],1),e("div",{staticClass:"tx from-tx",on:{click:t.goToExplorFrom}},[t.detailData?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):[1===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_2"}}):2===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_3"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}})],e("span",[t._v(t._s(t.FromTx))])],2),e("div",{staticClass:"switch-btn",on:{click:()=>t.switchNetWork()}},[t._v(" Switch Network ")])]),e("div",{staticClass:"middle-icon"},[t.isMobile?t._e():e("div",{class:["rocket-box",{"rocket-box-bg":t.isProcee}]},[t.isProcee||t.detailData?t._e():e("SvgIconThemed",{attrs:{icon:"satellite",size:"xs"}})],1),t.isMobile?t._e():e("div",{staticClass:"rocket-line-box"},[e("SvgIconThemed",{staticStyle:{width:"161px",height:"14px","margin-top":"10px"},attrs:{icon:"rocket-line"}})],1)]),e("div",{staticClass:"item right",staticStyle:{"z-index":"3"}},[e("div",{staticClass:"chain-name to"},[e("span",[t._v(t._s(t.toChainName))])]),e("div",{staticClass:"chain"},[e("svg-icon",{staticStyle:{width:"56px",height:"56px"},attrs:{iconName:t.showChainIcon(!1)}})],1),e("div",{staticClass:"tx to-tx",on:{click:t.goToExplorTo}},[t.detailData?[0===t.detailData.state?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):1===t.detailData.state?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_2"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-error"}})]:[4===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_3"}}):5===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_1"}})],e("span",[t._v(t._s(t.ToTx))])],2),e("div",{staticClass:"switch-btn",on:{click:()=>t.switchNetWork(!1)}},[t._v(" Switch Network ")])])])],2)],1)}),[],!1,null,"9b86d5da",null).exports,ToggleBtn:s.k},computed:{isMobile:()=>_.f.value,isSenderTab:()=>"Sender"===_.c.value,status:()=>_.b.value,showDetail:()=>_.e.isShowHistory,detailData:()=>_.e.historyInfo},methods:{toggleTab(){Object(_.a)("1"),Object(_.u)()},clickLearnMore(){window.open("https://docs.orbiter.finance/","_blank")},changeState(t){"1"!==t&&"2"!==t&&"3"!==t?_.e.isShowHistory=!1:this.status!==t&&Object(_.a)(t)}}}),_t=(a("b7ab"),Object(Z.a)(wt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bridage-page"},[[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile&&"1"===t.status&&!t.showDetail,expression:"!isMobile && status === '1' && !showDetail"}],staticClass:"sub-tabs"},[e("ToggleBtn",{on:{input:t.toggleTab}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSenderTab&&"1"===t.status&&!t.showDetail,expression:"isSenderTab && status === '1' && !showDetail"}],staticClass:"sender-box"},[e("keep-alive",[e("Transfer",{on:{stateChanged:t.changeState}})],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isSenderTab&&"1"===t.status&&!t.showDetail,expression:"!isSenderTab && status === '1' && !showDetail"}],staticClass:"maker-box"},[e("div",{staticClass:"maker-title"},[t._v("About Maker")]),e("div",{staticClass:"maker-content"},[e("div",[t._v("Orbiter's Maker provides liquidity for Layer 2 and benefits from it.")]),e("div",{staticClass:"maker-link",on:{click:t.clickLearnMore}},[t._v("LEARN MORE")]),e("div",{staticClass:"maker-foot-btn"},[t._v("COMING SOON")])])])],e("div",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.status||t.showDetail,expression:"status !== '1' || showDetail"}],staticClass:"center",staticStyle:{width:"100%",height:"100%"}},[t.showDetail?e("Proceed",{attrs:{detailData:t.detailData},on:{stateChanged:t.changeState}}):["2"===t.status?e("Confirm",{on:{stateChanged:t.changeState}}):t._e(),"3"===t.status?e("Proceed",{on:{stateChanged:t.changeState}}):t._e()]],2)],2)}),[],!1,null,"61a02b0c",null));e.default=_t.exports},ede9:function(t,e,a){"use strict";var s={props:{href:{type:String}}},r=(a("d224"),a("2877")),i=Object(r.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"50e45a0d",null);e.a=i.exports},ee70:function(t,e,a){},f23e:function(t,e,a){"use strict";var s={props:{timestamp:{type:Number,require:!0}},computed:{timeDiff(){return this.timestamp?function(t){if(void 0===t)return;const e=Date.parse(new Date)/1e3-t;return e<60?"just now":e>=60&&e<3600?Math.floor(e/60)+"m ago":e>=3600&&e<86400?Math.floor(e/3600)+"h ago":e>=86400&&e<2592e3?Math.floor(e/86400)+"d ago":Math.floor(e/2592e3)+"mon ago"}(this.timestamp):"-"}}},r=(a("1f91"),a("2877")),i=Object(r.a)(s,(function(){var t=this._self._c;return t("div",{staticClass:"time-diff"},[t("span",{staticClass:"icon"}),this._v(" "+this._s(this.timeDiff)+" ")])}),[],!1,null,"294b3275",null);e.a=i.exports},f33f:function(t,e,a){t.exports=a.p+"static/img/tusdlogo.6116614a.png"},f690:function(t,e,a){"use strict";var s=a("d186");const r=[{label:"Arbitrum",value:"arbitrum"},{label:"Optimism",value:"optimism"},{label:"zkSync",value:"zksync"},{label:"Arbitrum Nova",value:"arbitrumnova"}];var i={props:{customRollups:{type:Array},value:{require:!0},onlySelect:{default:!1}},computed:{isMobile:()=>s.f.value,rollups(){return Array.isArray(this.customRollups)?this.customRollups:r},current:{get(){return this.value},set(t){this.$emit("rollup-change",t)}}},methods:{onItemClick(t){this.value!==t.value&&this.$emit("rollup-change",t.value)}}},n=(a("5d38"),a("2877")),o=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"select-rollups-wrapper"},[t.isMobile||t.onlySelect?e("el-select",{attrs:{"no-data-text":"No Items"},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},t._l(t.rollups,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):e("div",{staticClass:"rollups"},t._l(t.rollups,(function(a){return e("div",{key:a.value,staticClass:"rollup",class:{active:t.value===a.value},on:{click:function(e){return t.onItemClick(a)}}},[t._v(" "+t._s(a.label)+" ")])})),0)],1)}),[],!1,null,null,null);e.a=o.exports},fa91:function(t,e,a){"use strict";var s={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22},chains:{type:Boolean,default:!1}},computed:{src(){if(this.isError)return a("31d6");if(!this.name)return"#";const t=this.name.replace(/\s+/g,"").toLowerCase();return["apex"].includes(t)?a("4fe9"):this.chains?`https://l2api.orbiter.finance/img/chains/${t}.png`:`https://l2api.orbiter.finance/img/dapps/${t}.png`}},watch:{name(){this.isError=!1}},methods:{onError(){this.isError=!0}}},r=(a("b651"),a("2877")),i=Object(r.a)(s,(function(){return(0,this._self._c)("img",{staticClass:"dapp-logo",attrs:{width:this.width,height:this.width,src:this.src},on:{error:this.onError}})}),[],!1,null,null,null);e.a=i.exports}}]);