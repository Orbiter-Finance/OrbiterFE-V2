(window.webpackJsonp=window.webpackJsonp||[]).push([["manifest"],{"095f":function(t,e,a){"use strict";a("edac")},"0c0a":function(t,e,a){},"0da88":function(t,e,a){"use strict";a("5b4e")},"1000a":function(t,e,a){},"116b":function(t,e,a){"use strict";var s=a("bc3a"),r=a.n(s),i=a("4365");const n=Object(i.d)()?"/api/v1/l2_data/":"https://l2api.orbiter.finance/api/v1/l2_data";e.a=r.a.create({baseURL:n})},"171f":function(t,e,a){"use strict";a("b39a")},1812:function(t,e,a){"use strict";var s={props:{href:{type:String},width:{type:Number,default:12},height:{type:Number,default:12}},computed:{style(){const t=this.width,e=this.height;return{width:t+"px",height:e+"px","background-size":`${t}px ${e}px`}}}},r=(a("68e6"),a("2877")),i=Object(r.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",style:this.style,attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"7b51a8df",null);e.a=i.exports},"1c8a":function(t,e,a){},"1f91":function(t,e,a){"use strict";a("836c")},2007:function(t,e,a){t.exports=a.p+"static/img/dailogo.70e90db5.png"},"20a8":function(t,e,a){"use strict";a("490a")},24:function(t,e){},25:function(t,e){},26:function(t,e){},27:function(t,e){},28:function(t,e){},29:function(t,e){},30:function(t,e){},"31d6":function(t,e){t.exports="data:image/png;base64,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"},3334:function(t,e,a){"use strict";a("bb8b")},3536:function(t,e){t.exports="data:image/png;base64,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"},3568:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("6612"),r=a.n(s),i=(a("13d5"),a("313e")),n=(a("d9e2"),a("116b"));var o=a("ceb7"),c=a("f23e"),l=a("d147"),d=a("d186"),u=a("d48f");const h=t=>t-t%864e5;function m(t,e){const a=new Date("string"==typeof e?e.replace(/-/g,"/"):e).getTime(),s=new Date("string"==typeof t?t.replace(/-/g,"/"):t).getTime(),r=[];for(let t=a;t>=s;)r.push({start:h(new Date(t).getTime())-5184e5,end:h(new Date(t).getTime())}),t-=6048e5;return r}const p=["Arbitrum","Aztec","Boba","Gluon","Hermez","Immutable X","Loopring","Metis","OMG","Optimism","StarkNet","ZkSpace","ZkSwapV2","ZkSync","dYdX"],f={},g=["Ethereum Mainnet Transactions"],_=["rgba(17, 112, 255, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],y=t=>1e3*t,v=t=>t-t%864e5;var w={components:{Selector:o.a,TimeDiff:c.a,ChainsLogo:l.a},data:()=>({checkerData:[{value:3,label:"3m"},{value:6,label:"6m"},{value:12,label:"1y"},{value:"Max",label:"Max"}],defaultSort:{prop:"txs",order:"descending"},baseChartData:{},currentChartTime:6,allSeries:g,color:_,checkData:["Ethereum Mainnet Transactions"]}),computed:{isMobile:()=>d.f.value,filteredChartData(){const t=this.baseChartData;if(!t||!t.tx_data)return[];let e=[];if([3,6].includes(this.currentChartTime))e=Array.from({length:30*this.currentChartTime},(t,e)=>e+1);else if([12].includes(this.currentChartTime))e=Array.from({length:30*this.currentChartTime+4},(t,e)=>e+1);else{e=t.tx_data?Object.keys(t.tx_data):[];let a=e.length%7;0!=a&&e.splice(-a)}return e.map(e=>t.tx_data[e])},latestData(){const t=this.baseChartData;if(t&&t.tx_data)return t.tx_data[1]},latestDataRank(){return this.latestData?Object.keys(this.latestData.rollups).map(t=>({name:t,transactions:this.latestData.rollups[t]})).sort((t,e)=>e.transactions-t.transactions).slice(0,10).map((t,e)=>({...t,no:e+1})):[]},isLightMode(){return"light"===this.$store.state.themeMode}},watch:{filteredChartData(){this._chart&&this._chart.setOption(this._getChartOptions())},isLightMode(){this._chart&&this._chart.setOption(this._getChartOptions())}},async mounted(){this._initChart(),this.$loader.show(),this.baseChartData=await async function(){let t=void 0;try{if(t=await n.a.get("/mainpage_rollup_tx_by_day"),"success"!==t.data.status)throw Error()}catch(t){console.error("Failed to get l2data",t)}return t?t.data.data:void 0}(),this.$loader.hide(),window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{numeral:r.a,dateFormat:u.a,_onResize(){this._chart&&this._chart.resize()},_initChart(){this.$nextTick(()=>{const t=document.getElementById("l2-data-chart"),e=i.init(t);this._chart=e})},onCheckerClick(t){if(this.checkData.includes(t)?this.checkData=this.checkData.filter(e=>e!==t):this.checkData=this.checkData.concat([t]),this._chart){this._chart.clear();const t=this._getChartOptions();this._chart.setOption(t)}},_getChartOptions(){const{times:t,data:e,data_l1:a}=this._getData(),s={width:"100%",title:{show:!1},grid:{top:10,left:"0",right:"30",bottom:"26",containLabel:!0},legend:{right:0,lineStyle:{color:"rgba(245, 245, 245, 1)",width:1}},xAxis:{type:"category",boundaryGap:!1,data:t,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},splitLine:{lineStyle:{color:this.isLightMode?" rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}},axisLabel:{padding:[0,5,0,5],formatter:t=>Object(u.a)(parseInt(t),"yyyy-MM-dd")}},yAxis:[{type:"value",axisTick:{show:!1},splitNumber:3,axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},splitLine:{lineStyle:{color:this.isLightMode?"rgb(246, 246, 246)":"rgb(63, 65, 91)"}},axisPointer:{show:!1}}],tooltip:{trigger:"axis",pading:0,backgroundColor:"transparent",formatter:this._onFormatter,position:function(t,e,a,s,r){const i={top:40};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=-30,i}},series:[{type:"line",smooth:!0,lineStyle:{width:4,color:"#DF2E2D"},showSymbol:!1,areaStyle:{opacity:.8,color:new i.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(232, 94, 36, 0.24)"},{offset:1,color:"rgba(232, 94, 36, 0)"}])},emphasis:{focus:"series"},data:e}]};return this.isMobile&&(s.grid={top:10,left:"0",right:"0",bottom:"20",containLabel:!0}),this.checkData.includes("Ethereum Mainnet Transactions")&&(s.series[1]={type:"line",smooth:!0,lineStyle:{width:4,color:"rgb(17, 112, 255)"},showSymbol:!1,areaStyle:{opacity:.8,color:new i.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(17, 112, 255, 0.24)"},{offset:1,color:"rgba(17, 112, 255, 0)"}])},emphasis:{focus:"series"},data:a}),s},_getData(){const t=this.currentChartTime;if([3,6].includes(t))return{times:this.filteredChartData.map(t=>y(t.timestamp)).reverse(),data:this.filteredChartData.map(t=>t.all).reverse(),data_l1:this.filteredChartData.map(t=>t.all_l1).reverse()};if([12,"Max"].includes(t)){const e=m(12===t?v((new Date).getTime())-31104e6:y(this.filteredChartData[this.filteredChartData.length-1].timestamp),y(this.filteredChartData[0].timestamp)),a=e.map(t=>this.filteredChartData.filter(e=>y(e.timestamp)>=t.start&&y(e.timestamp)<=t.end).reduce((t,e)=>t+e.all,0)).reverse(),s=e.map(t=>this.filteredChartData.filter(e=>y(e.timestamp)>=t.start&&y(e.timestamp)<=t.end).reduce((t,e)=>t+e.all_l1,0)).reverse();return{times:e.map(t=>t.end).reverse(),data:a,data_l1:s}}},_onFormatter([t,e]){let a={};if(f[t.axisValue])a=f[t.axisValue];else{const e=this._getRollupsByTime(t.axisValue);a=Object.keys(e).map(t=>({name:t,value:e[t]})).sort((t,e)=>e.value-t.value),f[t.axisValue]=a}if(!a.length)return;const s=new Date(parseInt(t.axisValue)).getTime();let i=s-5184e5;const n=m(12===this.currentChartTime?v((new Date).getTime())-31104e6:y(this.filteredChartData[this.filteredChartData.length-1].timestamp),y(this.filteredChartData[0].timestamp));i<=n[n.length-1].start&&(i=n[n.length-1].start);const o=[3,6].includes(this.currentChartTime)?Object(u.a)(parseInt(t.axisValue),"yyyy-MM-dd"):`From ${Object(u.a)(i,"yyyy-MM-dd")} to ${Object(u.a)(s,"yyyy-MM-dd")}`,c=this.currentChartTime;if([12,"Max"].includes(c)){let t=this.filteredChartData.filter(t=>y(t.timestamp)>=i&&y(t.timestamp)<=s).map(t=>t.rollups),e={},r=[];t.map(t=>{for(const a in t)e[a]?e[a].value=t[a]?e[a].value+t[a]:e[a].value:e[a]={name:a,value:t[a]?t[a]:0}});for(const t in e)r.push(e[t]);r.sort((t,e)=>e.value-t.value),a=r}const l=a.slice(0,10),d=a.slice(10).reduce((t,e)=>({name:"Others",value:t.value?t.value+e.value:e.value}),{});return`<div class="chart-popover-content">\n                <div class="chart-popover-title">${o}</div>\n                    ${this.checkData.includes("Ethereum Mainnet Transactions")?`<div class="chart-popover-total-transactions">\n                    Ethereum Transactions: <span style='color: rgb(17, 112, 255)'>${r()(e.data).format("0,0")}</span>\n                  </div>`:""}\n                    <div class="chart-popover-total-transactions">\n                    Layer2 Total Transactions: <span>${r()(t.data).format("0,0")}</span>\n                    </div>\n                    <div class="chart-popover-rollups">\n                    ${l.concat([d]).map(e=>`<div class="chart-popover-rollup">\n                            <div class="name">${e.name}</div>\n                            <div class="transactions">\n                                ${r()(e.value).format("0,0")}\n                            </div>\n                            <div class="percentage">\n                                ${r()(e.value/t.data).format("0.00%")}\n                            </div>\n                          </div> `).join("")}\n                </div>\n              </div>`},_getRollupsByTime(t){if([3,6].includes(this.currentChartTime))return this.filteredChartData.find(({timestamp:e})=>1e3*e===parseInt(t)).rollups;const e=new Date(parseInt(t)).getTime(),a=e-6048e5;return this.filteredChartData.filter(t=>y(t.timestamp)>a&&y(t.timestamp)<e).reduce((t,e)=>(p.forEach(a=>{const s=e.rollups[a];t[a]=t[a]?t[a]+s:s}),t),{})}}},b=(a("4e56"),a("92a5"),a("2877")),A=Object(b.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"chart-wrapper"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"head"},[e("div",{staticClass:"title"},[t._v("Layer2 Transactions Chart")]),e("div",{staticClass:"checke-wrap"},[e("selector",{attrs:{data:t.checkerData,value:t.currentChartTime},on:{change:e=>t.currentChartTime=e.value}})],1)]),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0),e("div",{attrs:{id:"l2-data-chart"}})]),e("div",{staticClass:"rollups"},[e("div",{staticClass:"head"},[e("div",{staticClass:"title"},[t._v(" Rollups by Daily Transactions "),t.isMobile?t._e():[t._v(" ,"+t._s(t.latestData?t.dateFormat(t.latestData.timestamp_read,"yyyy-MM-dd"):"-")+" ")]],2),!t.isMobile&&t.baseChartData&&t.baseChartData.update_time?e("time-diff",{attrs:{timestamp:t.baseChartData.update_time}}):t._e(),e("div",{staticClass:"more",on:{click:function(e){return t.$router.push({path:"/dataDetail",query:{nav:"Rollups"}})}}},[t._v(" More "),e("img",{attrs:{src:a("ca50"),width:"8",height:"12"}})])],1),e("div",{staticClass:"contents"},[e("div",{staticClass:"content1"},t._l(t.latestDataRank.slice(0,5),(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.no)+" ")]),e("chains-logo",{attrs:{name:a.name}}),e("div",{staticClass:"name"},[t._v(" "+t._s(a.name)+" ")]),e("div",{staticClass:"num"},[t._v(" "+t._s(t.numeral(a.transactions).format("0,0"))+" ")])],1)})),0),e("div",{staticClass:"content2"},t._l(t.latestDataRank.slice(5,10),(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.no)+" ")]),e("chains-logo",{attrs:{name:a.name}}),e("div",{staticClass:"name"},[t._v(" "+t._s(a.name)+" ")]),e("div",{staticClass:"num"},[t._v(" "+t._s(t.numeral(a.transactions).format("0,0"))+" ")])],1)})),0)])])])}),[],!1,null,"2462b493",null).exports,C=a("f690"),P=a("ede9"),k=a("1812"),x=a("9e9d"),T=a("fa91");var E=a("d920"),D={data:()=>({currentRollup:void 0,baseDappDailyData:{},tableData:[],rollups:[]}),computed:{isMobile:()=>d.f.value,name(){const t=this.rollups.find(t=>t.value===this.currentRollup);return t?t.label:""}},watch:{currentRollup(){this._getDappDailyData()}},components:{Chart:A,Rollups:C.a,TimeDiff:c.a,DappLogo:T.a,IconLink:P.a,TwitterLink:x.a,ScanLink:k.a},async mounted(){this.rollups=await Object(E.b)("mainpage"),this.currentRollup=this.rollups[0].value},methods:{numeral:r.a,dateFormat:u.a,async _getDappDailyData(){const t=await async function(t){let e=void 0;try{if(e=await n.a.get("/mainpage_dapp_daily_data/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapp daily data",t)}return e?e.data.data:void 0}(this.currentRollup);this.baseDappDailyData=t;const e=t&&t.table_data;this.tableData=e}}},I=(a("a7d6"),Object(b.a)(D,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"l2data"},[e("Chart"),e("div",{staticClass:"dapp-daily-data"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{customRollups:t.rollups,value:t.currentRollup},on:{"rollup-change":e=>t.currentRollup=e}}),e("div",{staticClass:"more",on:{click:function(e){return t.$router.push({path:"/dataDetail",query:{nav:"Dapps"}})}}},[t._v(" More "),e("img",{attrs:{src:a("ca50"),width:"8",height:"12"}})])],1),e("div",{staticClass:"title"},[t._v(" "+t._s(t.name)+" Dapp Daily Data "+t._s(!t.isMobile&&t.baseDappDailyData&&t.baseDappDailyData.update_time?","+t.dateFormat(1e3*(t.baseDappDailyData.update_time-86400),"yyyy-MM-dd"):t.isMobile?"":"-")+" "),!t.isMobile&&t.baseDappDailyData&&t.baseDappDailyData.update_time?e("time-diff",{attrs:{timestamp:t.baseDappDailyData.update_time}}):t._e()],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"empty-text":"No Items"}},[e("el-table-column",{attrs:{fixed:"",label:"Dapp Name",width:t.isMobile?250:350},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[[0!==a.row.rank?e("div",{staticClass:"rank"},[t._v(" "+t._s(a.row.rank)+" ")]):e("div",{staticClass:"new"},[e("span",[t._v(" NEW ")])])],e("dapp-logo",{attrs:{name:a.row.dapp_name,rollup:t.currentRollup}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name}},[t._v(" "+t._s(a.row.dapp_name)+" ")]),t.isMobile?t._e():[0===a.row.rank?[e("scan-link",{attrs:{href:a.row.dapp_url,width:13,height:13}})]:[e("icon-link",{attrs:{href:a.row.dapp_url}}),a.row.dapp_twitter?e("twitter-link",{attrs:{href:a.row.dapp_twitter}}):t._e()]]],2)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"120",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_active_users",label:"24h Active Users",width:"170",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_active_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_new_users",label:"24h New Users",width:"150",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_new_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_interactions",label:"24h Interactions",width:"160",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_interactions"]).format("0,0"))+" ")])]}}])})],1)],1)])],1)}),[],!1,null,null,null));e.default=I.exports},"3e28":function(t,e,a){t.exports=a.p+"static/img/mcologo.94f91593.png"},4188:function(t,e,a){},"490a":function(t,e,a){},"4e56":function(t,e,a){"use strict";a("1000a")},"4fe9":function(t,e,a){t.exports=a.p+"static/img/apex.b7bc7e6b.png"},"520b":function(t,e,a){t.exports=a.p+"static/img/metislogo.621c51aa.png"},"54f8":function(t,e,a){t.exports=a.p+"static/img/bnblogo.41e6c89e.png"},"5a7e":function(t,e,a){},"5b4e":function(t,e,a){},"5d38":function(t,e,a){"use strict";a("7666")},"5e7d":function(t,e,a){},6408:function(t,e,a){"use strict";a("ddfe")},"643f":function(t,e){const a={};t.exports={cacheMemorySet(t,e,s=0){let r=0;0!=s&&(r=(new Date).getTime()+s),a[t]={value:e,expired:r}},cacheMemoryGet(t){if(a[t]&&!(0!==a[t].expired&&(new Date).getTime>a[t].expired))return a[t].value}}},"65ce":function(t,e,a){t.exports=a.p+"static/img/usdtlogo.88b6a5d2.png"},"68ce":function(t,e,a){"use strict";a("739e")},"68e6":function(t,e,a){"use strict";a("ee70")},"6bc0":function(t,e){t.exports="data:image/png;base64,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"},"6fa4":function(t,e,a){"use strict";a("ac04")},"739e":function(t,e,a){},7666:function(t,e,a){},"773f":function(t,e,a){},"77c2":function(t,e,a){"use strict";a("b1c0")},"7d25":function(t,e,a){"use strict";a("7f02")},"7ecd":function(t,e,a){},"7f02":function(t,e,a){},"836c":function(t,e,a){},"87a2":function(t,e,a){t.exports=a.p+"static/img/ethlogo.7fc46514.svg"},"92a5":function(t,e,a){"use strict";a("b5b0")},"971b":function(t,e,a){"use strict";a("a3c2")},"9aaa":function(t,e,a){},"9e9d":function(t,e,a){"use strict";var s={props:{href:{type:String}}},r=(a("af4e"),a("2877")),i=Object(r.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"0b61c59b",null);e.a=i.exports},a3c2:function(t,e,a){},a436:function(t,e,a){},a7d6:function(t,e,a){"use strict";a("1c8a")},ab49:function(t,e,a){"use strict";a("a436")},ac04:function(t,e,a){},ad47:function(t,e,a){t.exports=a.p+"static/img/zkslogo.736498fb.png"},af4e:function(t,e,a){"use strict";a("9aaa")},aff3:function(t,e,a){"use strict";a("0c0a")},b1c0:function(t,e,a){},b39a:function(t,e,a){},b3bc:function(t,e,a){"use strict";a("bd9f")},b591:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfISURBVHgBzVpvaBNnGH8upktbU01bZf3jJLJWtyFo7Yf1y2YGIsP6QcWpHWPt2KaIiA6GoAhtERQpldbp3DpGq471YxWU7YPTit0QpGtaGCitNp3VlFK1mrS1Se5uz/Pm7vre5d9dWjt/EHK5vHf3+z3/3ud9EwHmAIODg66cnJwtgiCssdlsbjy1VpZlF7671DH4nQ/ffJIkefG73nA43FlYWOiDWUKANEGkEQfw0IOEPJAGUJRXFMXm2YixLEAljqQPAmfh2QLv1xYKheqtCrEk4NmzZ7VzTdwI9Epdbm5uvenxZgb5/X63w+HowMO1MD/wTU9Pf2TGG7ZUA9Dq1Ui+B+aPPIEM1jM2NrYl1cCkApSQaYNXGDJJ4MKK1kEckg1KGEIK+Tp4DZAsL+IKINeRejpuaGiA0dFR2LVrFyxatAiKi4shOzsbXiWePHkCJ06cgNLSUtizZ0+UqCDUoIjzxrF24wlKWCTfqn6+d+8eBAIB6OrqgszMTHZzErB9+3ZYtmwZzBXh69evQ19fH/uclZUFDx48gMnJSW0MRkMTcrtpTOwYDzx9+nQQ39z8zem1cuVK3QObmpqgoqICKisrYTYg4rdv32b3IYur3u3t7WUGys/P54d78/LyyiCRAKtxf+HCBfYAXoQ84gfZ6wVpZARk/CzRQ5xOsL1dAvYy3bPh6tWrzBjkTbNhifzq8Zl1MQKUWj8IFjA1NQXHjx+Hz7dtg5L7AyD92QVSj5eRFhXy7F2OHkNBARPhrKmB+y9ewMWLF+HYsWNgEeOYDyswH8Z1AtASrZQoYBH9V67AX2e+g8+mX2pEefLkBVE5z3/3i9sNX586ZQwRU+C9wOYBsn465OF8KxQ3NkBfRLREnlIz8HAYJg8dgoh/BKwCuR7AcHdpAjIyMjxgFUhebmsDBx5myjJI6MuIgajIieKFTQkCvIHvL/sH4NHRoyAFg2ARLmzLD2oCsGwesHR51y1GXrXst6LIyDKLK+dUj0hIVjKcc+LBp5EIO57o7wf/6TNgFeiF9ew9neSVq3ayKsNbWCUPzhzI+PADcLzzLmQUFUEE55ApnEvGb9yAEIaLJgbTT8SrVFErTjdDTpm1dgtF5Ao469bwE1dK8r//BtLJk/hQOSa+M3fshLx9++ANV2zrhC6HEaw6j3/4EcIYMrxH6FpHSQm81/ozWAHe8wsbqrAkWzrfhsSRPAi6+M7+8it488iRuOQJaCQoqq6G0p9a2LxA5PncmBgYgACWYCsg7nhf2xqzF8j4EFENAyYi+nDHpkpYun8/3TDmmpaWFuju7tY+L169Gtz1dTO5AjNeGLvVBVaAz3PbsKa6zV4geb0xVYVerr1745InYI6xhqyxsVE7V7BxIyxcVzZDXo6+xnt6wCLWUBVymx1NictbjcLAvq4cspYvT3iNE8OF0N7ezryhYumGDVFDyNFKRUVg0vqc4Eq5IuNB9Zq3PEu+8vKE46mL7ezs1D6TCBX5nvVcqxENx1Aa84HdymgpGNAsrwrhQ4csjO0urFq1ipGnsKEQ4gXRZxqzYMGCmbmCe0VQhF3xmhmQAGqKTC0ZRVb+lPrNPZQnyIdJPBB5QuhFAERhxhhq2xEOWBNgUwSYgsySTdZNRsE7d7TvPR5P0us3b96sHT+/e1fnAXVOsQgfCTBdfMNcEkcrkQzB7r8hNB61QTnmw+7du+NeSwsidXnIntxxSddua43eiKVE9tmxjA4lKoFGiMoMyvc7dPzo3DlYcfgwG0MCyBOUsLQcLcJ2gshXVVUB7p+yMf9eugxjKFy1vLrwoZeVRKY9VhLgNSsgorYAoLfa6K/tYMcZ+C2cDwhEuLa2Nu49JoYfwT9nv4+GjxCbxCHMIwsCvDasBpfMDJZ48sBPZNGWYujsORg8cxbCuNJKhOFr1+CPT3ZA8LFfuR7rv9atCkzUhIW5ALl32mlphgv5TvzsSTZY5howkT1UbSVmktqHjdowhkdexfuszmcsdkHo+XMIotUf4+LdGDb6giCz+4aCE2ASXuTuY/MAuuImhpEn2egw1m+t+5TlmBlZtegUJuFDFDHUcZnNsERS5kqvGKf2z5yTYdpkCGEn2kzv6oKmCUyUU35VJUJsLvDlVR9ucnT+0CWsvptVX9MmPUDhowmgMEIvNCe7IKxsk+hWXLJRlLJAUT0ky1yzFj2OgMHyBo8ERvyQChgtbRQ+mgB2kMILEbRMvBY4Zg0sRJszzUuc1XVijWGonH8ZMFVGtX1STUAqL4h8Esux5LXVlWG21oQoHacxD0RuzUy5MhVIHkK0paJaXyeAoOy1xJ2Zs2i9utCpq93GPJANpHVEtQWQoBcny9p6gI5LNn0MSeDjd+UIMTMY7re4USWtLGIaPPKCqLiYyDoKCyBdUNPGz7oBrP8ZOU7ILy1JdAntyJXx1gdIvL1uaaE/H8CyuXXJkiUxk27cBQ0ObKNYg9cExCUeeULSJgj3S+vQbbXwP8K4G21Eyi5O+bWGwmm+fycbx7D5hqIh2SBTbaiS2DfAwgbALEEd8lZjwsaDpR+65yGk2FyULGSMsPxXA/IGupaEVMPcgRGnbkD94cIs0v6zBwkRRdGj7Gyn+yN4J3XC6RBXkbYAHqoY2qukv9xANFfc3JBx5UV/tRmilRQtpNIlzeM/FXHAdAFy320AAAAASUVORK5CYII="},b5b0:function(t,e,a){},b651:function(t,e,a){"use strict";a("5e7d")},b7ab:function(t,e,a){"use strict";a("7ecd")},bb8b:function(t,e,a){},bd9f:function(t,e,a){},c5fe:function(t,e,a){"use strict";a.r(e);var s=a("6612"),r=a.n(s),i=a("f23e"),n=a("ceb7"),o=(a("13d5"),{props:{data:{type:Array,require:!0}},computed:{total(){return this.data.reduce((t,e)=>t+e,0)}}}),c=(a("7d25"),a("2877")),l=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"percent"},t._l(t.data,(function(a,s){return e("div",{key:s,style:{width:a/t.total*100+"%",flex:`0 0 ${a/t.total*100}}%`}})})),0)}),[],!1,null,"fee5f004",null).exports,d=a("d147"),u=(a("20a8"),Object(c.a)({},(function(){return(0,this._self._c)("span",{staticClass:"help"})}),[],!1,null,"f1089a60",null).exports),h=a("d920"),m=a("d186"),p=a("d48f"),f=(a("14d9"),a("313e")),g=(a("d9e2"),a("116b"));var _=a("fa91"),y=a("9e9d"),v=a("ede9");const w=["All Users","Active Users","New Users"],b=["rgba(51, 51, 51, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],A={"All Users":"rgba(51, 51, 51, 0.8)","Active Users":"rgba(239, 47, 45, 1)","New Users":"rgba(17, 112, 255, 1)",Transactions:"rgba(17, 112, 255, 1)","L2 Total Fee":"rgba(239, 47, 45, 1)","L1 Total Fee":"rgba(17, 112, 255, 1)",Deposit:"rgba(239, 47, 45, 1)",Withdraw:"rgba(17, 112, 255, 1)"},C=[{label:"1m",value:1},{label:"3m",value:3},{label:"6m",value:6},{label:"1y",value:12},{value:"Max",label:"Max"}],P=t=>1e3*t;var k={name:"RollupDetail",data:()=>({isShow:!1,rollupData:{},detailData:{},times:C,currentTime:C[0].value,allSeries:w,color:b,checkData:["New Users","Active Users"]}),watch:{chartData(){this.detailData.info&&(this._chartUser&&this._chartUser.setOption(this._getUsetChartOptions()),this._chartTransaction&&this._chartTransaction.setOption(this._getTransactionChartOptions()),this._chartFees&&this._chartFees.setOption(this._getFeesChartOptions()),this._chartDeposit&&this._chartDeposit.setOption(this._getDepositChartOptions()),this._chartWithdraw&&this._chartWithdraw.setOption(this._getWithdrawChartOptions()))}},computed:{isMobile:()=>m.f.value,chartData(){if(!this.detailData||!this.detailData.info)return;const t=this.detailData,e=this.currentTime,a=(new Date).getTime()/1e3;if("Max"===e){for(const e in t)["info","update_time"].includes(e)||t[e].sort((t,e)=>t.timestamp-e.timestamp);return this.chartDateFormatter(t)}const s=2592e3*e,r={};for(const e in t)["info","update_time"].includes(e)?r[e]=t[e]:(t[e].forEach(t=>{t.timestamp>a-s&&(r[e]||(r[e]=[]),r[e].push(t))}),r[e].sort((t,e)=>t.timestamp-e.timestamp));return this.chartDateFormatter(r)},isLightMode(){return"light"===this.$store.state.themeMode}},mounted(){window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{async show(t,e){this.rollupData=t,this.$loader.show();let a=await this._getData(t.rollup_name);this.$loader.hide(),this.isShow=e,a.info&&(this._initUserChart(),this._initTransactionChart(),this._initFeesChart(),this._initDepositChart(),this._initWithdrawChart())},onCheckerClick(t){if((1!==this.checkData.length||!this.checkData.includes(t))&&(this.checkData.includes(t)?this.checkData=this.checkData.filter(e=>e!==t):this.checkData=this.checkData.concat([t]),this._chartUser)){this._chartUser.clear();const t=this._getUsetChartOptions();this._chartUser.setOption(t)}},chartDateFormatter(t){let e={};for(const a in t)["info","update_time"].includes(a)?e[a]=t[a]:(e[a]={},t[a].map(t=>{for(const s in t)e[a][s]||(e[a][s]=[]),e[a][s].push("timestamp"==s?P(t[s]):t[s])}));return e},async _getData(t){const e=await async function(t){let e=void 0;try{if(e=await g.a.get("/rollup_details/"+t.replace(" ","").toLowerCase()),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapp detail",t)}return e?e.data.data:void 0}(t),a=e;if(this.detailData=e,e.info){return this.chartDateFormatter(a)}return{}},_onResize(){this._chartUser&&this._chartUser.resize(),this._chartTransaction&&this._chartTransaction.resize(),this._chartFees&&this._chartFees.resize(),this._chartDeposit&&this._chartDeposit.resize(),this._chartWithdraw&&this._chartWithdraw.resize()},_initUserChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_user_chart"),e=f.init(t);this._chartUser=e;const a=this._getUsetChartOptions();this._chartUser.setOption(a)})},_initTransactionChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_tx_chart"),e=f.init(t);this._chartTransaction=e;const a=this._getTransactionChartOptions();this._chartTransaction.setOption(a)})},_initFeesChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_fees_chart"),e=f.init(t);this._chartFees=e;const a=this._getFeesChartOptions();this._chartFees.setOption(a)})},_initDepositChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_deposit_chart"),e=f.init(t);this._chartDeposit=e;const a=this._getDepositChartOptions();this._chartDeposit.setOption(a)})},_initWithdrawChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_withdraw_chart"),e=f.init(t);this._chartWithdraw=e;const a=this._getWithdrawChartOptions();this._chartWithdraw.setOption(a)})},_getUsetChartOptions(){const t=this.chartData.chart_data_user;if(t){const e={height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(p.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},series:[]};return this.checkData.includes("New Users")&&e.series.push({name:"New Users",type:"line",smooth:!0,lineStyle:{width:4,color:A["New Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:A["New Users"]}},data:t.new_users}),this.checkData.includes("Active Users")&&e.series.push({name:"Active Users",type:"line",smooth:!0,lineStyle:{width:4,color:A["Active Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:A["Active Users"]}},data:t.active_users}),this.checkData.includes("All Users")&&e.series.push({name:"All Users",type:"line",smooth:!0,lineStyle:{width:4,color:A["All Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:A["All Users"]}},data:t.all_users}),e}return{}},_getTransactionChartOptions(){const t=this.chartData.chart_data_transaction;if(t){return{height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:4))==0,formatter:t=>Object(p.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},series:[{name:"Transactions",type:"line",smooth:!0,lineStyle:{width:2,color:A.Transactions},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:A.Transactions}},data:t.tx_count}]}}return{}},_getFeesChartOptions(){const t=this.chartData.chart_data_fee;if(t){return{height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"9%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:4))==0,formatter:t=>Object(p.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisLabel:{formatter:"{value} ETH"},axisTick:{show:!1},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},series:[{name:"L2 Total Fee",type:"line",smooth:!0,lineStyle:{width:2,color:A["L2 Total Fee"]},showSymbol:!1,emphasis:{focus:"series"},data:t.l2_total_fee},{name:"L1 Total Fee",type:"line",smooth:!0,lineStyle:{width:2,color:A["L1 Total Fee"]},showSymbol:!1,emphasis:{focus:"series"},data:t.l1_total_fee}]}}return{}},_getDepositChartOptions(){const t=this.chartData.chart_data_deposit;if(t){return{color:A.Deposit,tooltip:{trigger:"axis",padding:0,axisPointer:{type:"line",lineStyle:{type:"solid",width:1}},backgroundColor:"transparent",formatter:this._onFormatterCategory,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t.timestamp,axisTick:{alignWithLabel:!0},axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(p.a)(parseInt(t),"yyyy-MM-dd")}}],yAxis:[{type:"value",splitLine:!1,axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}}],series:[{name:"Deposit",type:"bar",barWidth:"60%",emphasis:{focus:"series",itemStyle:{borderColor:A.Deposit}},data:t.total_tx}]}}return{}},_getWithdrawChartOptions(){const t=this.chartData.chart_data_withdraw;if(t){return{color:A.Withdraw,tooltip:{trigger:"axis",padding:0,axisPointer:{type:"line",lineStyle:{type:"solid",width:1}},backgroundColor:"transparent",formatter:this._onFormatterCategory,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t.timestamp,axisTick:{alignWithLabel:!0},axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(p.a)(parseInt(t),"yyyy-MM-dd")}}],yAxis:[{type:"value",splitLine:!1,axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}}],series:[{name:"Withdraw",type:"bar",barWidth:"60%",emphasis:{focus:"series",itemStyle:{borderColor:A.Withdraw}},data:t.total_tx}]}}return{}},_onFormatterCategory(t){const e=t[0].axisValue,a=this._getDepositOrWithdrawDataByTime(e,t[0].seriesName),s=Object(p.a)(parseInt(e),"yyyy-MM-dd");let i="";const n=Object.keys(a.coin_fees).sort((t,e)=>a.coin_fees[e]-a.coin_fees[t]);let o={};for(let t=0;t<n.length;t++)o[n[t]]=a.coin_fees[n[t]];for(const t in o)i+=`<div class="chart-popover-rollup">\n                            <div class="name">${t} Gas</div>\n                            <div class="transactions">\n                                ${r()(a.coin_fees[t]/a.total_fees).format("0.00%")}\n                            </div>\n                            <div class="percentage" style="margin-left: 5px">\n                                (${r()(a.coin_tx[t]).format("0,0")} Tx)\n                            </div>\n                          </div> `;return`<div class="chart-popover-content">\n                ${"Deposit"==t[0].seriesName?`<div class="chart-popover-title">${s}</div>`:`<div class="chart-popover-title" style="color: ${A.Withdraw}">${s}</div>`}\n                <div class="chart-popover-total-transactions">\n                    Transactions: <span>${r()(t[0].data).format("0,0")}</span>\n                    </div>\n                    <div class="chart-popover-total-transactions">\n                    Total Fees: <span>${r()(a.total_fees).format("0,0.0000")} ETH</span>\n                    </div>\n                    <div class="chart-popover-rollups">\n                        ${i}\n                    </div>\n                </div>`},_onFormatter(t){const e=t[0].axisValue,a=["All Users","Active Users","New Users"].includes(t[0].seriesName)?this._getDataByTime(e).all_users:"",s=Object(p.a)(parseInt(e),"yyyy-MM-dd"),i=["L1 Total Fee","L2 Total Fee"].includes(t[0].seriesName)?t:t.reverse();return i.sort((t,e)=>e.data-t.data),`<div class="dapp-detail-chart-popover-content">\n                <div class="dapp-detail-chart-popover-title">${s}</div>\n                <div class="dapp-detail-chart-popover-data">\n                   ${i.map(t=>["L1 Total Fee","L2 Total Fee"].includes(t.seriesName)?`\n                            <div class="dapp-detail-chart-popover-data-item">\n                            <div class="dot" style="background:${A[t.seriesName]}"></div>\n                            ${"L2 Total Fee"==t.seriesName?`<div class="name" style="color: ${A[t.seriesName]}">${this.chartData.info.rollup_name} Received on L2</div>`:`<div class="name" style="color: ${A[t.seriesName]}">${this.chartData.info.rollup_name} Spent on L1</div>`}                           \n                            <div class="value" style="color: ${A[t.seriesName]}">${r()(t.value).format("0,0.00")} ETH</div>\n                            </div>\n                            `:`\n                        <div class="dapp-detail-chart-popover-data-item">\n                        <div class="dot" style="background:${A[t.seriesName]}"></div>\n                        ${"Transactions"==t.seriesName?`<div class="name" style="color: ${A[t.seriesName]}">${t.seriesName}</div>`:`<div class="name">${t.seriesName}</div>`}\n                        ${"Transactions"==t.seriesName?`<div class="value" style="color: ${A[t.seriesName]}">${r()(t.value).format("0,0")}</div>`:`<div class="value">${r()(t.value).format("0,0")}\n                        ${["All Users","Transactions"].includes(t.seriesName)?"":`<span>(${(t.value/a*100).toFixed(2)}%)</span>`}\n                            </div>\n                        </div>`}\n                        `).join("")}\n                </div>\n              </div>`},_getDataByTime(t){return this.detailData.chart_data_user.find(e=>1e3*e.timestamp===parseInt(t))},_getDepositOrWithdrawDataByTime(t,e="Deposit"){return("Deposit"==e?this.detailData.chart_data_deposit:this.detailData.chart_data_withdraw).find(e=>1e3*e.timestamp===parseInt(t))}},components:{DappLogo:_.a,TwitterLink:y.a,IconLink:v.a,Selector:n.a,TimeDiff:i.a}},x=(a("971b"),Object(c.a)(k,(function(){var t=this,e=t._self._c;return t.isShow?e("el-dialog",{attrs:{"custom-class":"rollup-detail-dialog",visible:t.isShow,"append-to-body":"","margin-top":t.isMobile?"5%":"15vh","show-close":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.isShow=e}}},[e("div",{staticClass:"rollup-detail-dialog-title",attrs:{slot:"title"},slot:"title"},[e("dapp-logo",{staticClass:"logo",attrs:{chains:!0,name:t.rollupData.rollup_name}}),e("div",{staticClass:"name"},[t._v(t._s(t.rollupData.rollup_name))]),e("span",{staticClass:"close",on:{click:function(e){t.isShow=!1}}})],1),e("div",{staticClass:"rollup-detail-dialog-content"},[t.detailData.info?e("div",{staticClass:"info"},[e("div",{staticClass:"links"},[e("icon-link",{attrs:{href:t.detailData.info.rollup_url}}),e("twitter-link",{attrs:{href:t.detailData.info.rollup_twitter}})],1),t.detailData.info&&t.detailData.info.rollup_category?e("div",{staticClass:"category"},[t._v(" "+t._s(t.detailData.info.rollup_category)+" ")]):t._e()]):t._e(),e("div",{staticClass:"selectors"},[t.detailData.info?e("div",{staticClass:"rollup_gas"},[e("span",{staticClass:"text"},[t._v("Average Transaction Fee")]),e("span",{staticClass:"text"},[t._v(t._s(t.detailData.info.rollup_name))]),e("span",{staticClass:"fee"},[t._v("$"+t._s(0==t.detailData.info.rollup_avg_fee?0:Number(t.detailData.info.rollup_avg_fee).toFixed(2))+" ")]),e("span",{staticClass:"text"},[t._v(" Ethereum ")]),e("span",{staticClass:"fee"},[t._v("$"+t._s(0==t.detailData.info.l1_avg_fee?0:Number(t.detailData.info.l1_avg_fee).toFixed(2))+" ")])]):e("div",{staticClass:"data_soon"},[e("span",[t._v("No detailed data at the moment,coming soon.")])]),e("div",{staticClass:"time_box"},[!t.isMobile&&t.detailData&&t.detailData.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.detailData.update_time}}):t._e(),t.detailData.info?e("selector",{staticClass:"selector",attrs:{data:t.times,value:t.currentTime},on:{change:e=>t.currentTime=e.value}}):t._e()],1)]),t.detailData.info?e("div",{staticClass:"rollup_charts"},[e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(" User Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Active Users & Corresponding percentage of total users. "),e("br"),t._v(" New Users & Corresponding percentage of total users. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{ref:"rollup_user_chart",attrs:{id:"rollup_user_chart"}}),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0)]),e("div",{staticClass:"row_content"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" Transaction Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Statistics on the transaction data of the current network. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_tx_chart"}})])]),e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" L2 Revenue and L1 Gas Fee Consumption "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" StarkNet Received on L2: Total gas received of every successful transaction on StarkNet StarkNet Spent on L1: Total gas used by StarkNet's L1 contracts to settle L2 proof on Ethereum ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_fees_chart"}})])])],1)],1),e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.rollupData.rollup_name)+" Bridge Deposit Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Transaction data using the official bridge and shows the amount of gas consumed by deposits in different currencies. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_deposit_chart"}})]),e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.rollupData.rollup_name)+" Bridge Withdraw Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Transaction data using the official bridge and shows the amount of gas consumed by withdraws in different currencies. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_withdraw_chart"}})])]):t._e()])]):t._e()}),[],!1,null,null,null).exports),T=a("cb81");const E=[{label:"1d",value:"1d"},{label:"3d",value:"3d"},{label:"7d",value:"7d"},{label:"14d",value:"14d"},{label:"30d",value:"30d"}],D=t=>""===t;var I={data:()=>({rollups:{},defaultSort:{prop:"total_tx",order:"descending"},selectors:E,currentSort:void 0,currentFilter:E[0].value,tableData:[]}),computed:{isMobile:()=>m.f.value,indexTableData(){return this.tableData.map((t,e)=>({index:e+1,...t}))}},watch:{currentFilter(){this.currentSort&&this.onSortChange(this.currentSort)}},components:{TimeDiff:i.a,Selector:n.a,Percent:l,ChainsLogo:d.a,Help:u,RollupDetail:x,SvgIconThemed:T.a},async mounted(){this.$loader.show();const t=await Object(h.a)();this.$loader.hide(),this.rollups=t,this.tableData=this._getDefaultTableData()},methods:{numeral:r.a,dateFormat:p.a,isEmpty:D,onSortChange({prop:t,order:e}){this.currentSort={prop:t,order:e};const a=this.rollups,s=a&&a.table_data?Object.keys(a.table_data).map(t=>({rollup_name:t,...a.table_data[t]})):[];if(null===!e)return void(this.tableData=this._getDefaultTableData());const r="ascending"===e;if(["total_tx","total_accounts"].includes(t))this.tableData=s.sort((e,a)=>{const s=D(e[t])?0:e[t],i=D(a[t])?0:a[t];return r?s-i:i-s});else if(["active_accounts","new_accounts","txs"].includes(t))this.tableData=s.sort((e,a)=>{const s=Number(e[t][this.currentFilter]),i=Number(a[t][this.currentFilter]);return r?s-i:i-s});else switch(t){case"launch_time":this.tableData=s.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),s=new Date(e.launch_time).getTime();return r?a-s:s-a});break;case"TVL.all":this.tableData=s.sort((t,e)=>{const a=Number(t.TVL.all),s=Number(e.TVL.all);return r?a-s:s-a});break;default:this.tableData=this._getDefaultTableData()}},_getDefaultTableData(){const t=this.rollups;return(t&&t.table_data?Object.keys(t.table_data).map(e=>({rollup_name:e,...t.table_data[e]})):[]).sort((t,e)=>{const a=D(t.total_tx)?0:t.total_tx;return(D(e.total_tx)?0:e.total_tx)-a})},formatUSD:t=>t<1e6?`$ ${r()(t).divide(1e6).format("0.00")} M`:r()(t).format("$ 0.00 a").toUpperCase(),onRowClick(t){this.$refs.rolluoDetail.show(t,!0)}}},S=(a("aff3"),Object(c.a)(I,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"rollups-wrapper"},[e("div",{staticClass:"head"},[!t.isMobile&&t.rollups&&t.rollups.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.rollups.update_time}}):t._e(),e("selector",{attrs:{data:t.selectors,value:t.currentFilter},on:{change:e=>t.currentFilter=e.value}})],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.indexTableData,"empty-text":"No Items","default-sort":t.defaultSort},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",label:"NO. Name",width:"140"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.row.index)+" ")]),e("chains-logo",{attrs:{name:a.row.rollup_name}}),e("div",{staticClass:"name_box",on:{click:function(e){return t.onRowClick(a.row)}}},[e("div",{staticClass:"name",attrs:{title:a.row.rollup_name}},[t._v(" "+t._s(a.row.rollup_name)+" ")]),a.row.details?e("div",{staticClass:"icon"},[e("svg-icon-themed",{attrs:{icon:"searchChartIcon",size:"lg"}})],1):t._e()])],1)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"110",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"total_tx",label:"Total Transactions",width:"145",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.isEmpty(a.row.total_tx)?"-":t.numeral(a.row.total_tx).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"total_accounts",label:"Total Accounts",width:"125",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.isEmpty(a.row.total_accounts)?"-":t.numeral(a.row.total_accounts).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{width:"175",prop:"TVL.all",label:"TVL",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"TVL"},[e("div",{staticClass:"all"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.all))+" ")]),e("el-popover",{attrs:{"popper-class":"TVL-popover",placement:t.isMobile?"top":"right",width:"300",trigger:"hover"}},[e("div",{staticClass:"TVL-detail"},[e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("Stable Coins")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.Stable))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral(a.row.TVL.Stable/a.row.TVL.all).format("0.00%"))+" ")])]),e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("ETH/BTC")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.BTC+a.row.TVL.ETH))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral((a.row.TVL.BTC+a.row.TVL.ETH)/a.row.TVL.all).format("0.00%"))+" ")])]),e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("Others")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.Others))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral(a.row.TVL.Others/a.row.TVL.all).format("0.00%"))+" ")])])]),e("percent",{staticClass:"reference",attrs:{slot:"reference",data:[a.row.TVL.BTC+a.row.TVL.ETH,a.row.TVL.Others,a.row.TVL.Stable]},slot:"reference"})],1)],1)]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"TVL-header"},[t._v("TVL")]),e("el-popover",{attrs:{"popper-class":"TVL-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"TVL-desc"},[t._v(" Total Value Locked in Rollups & Types of cryptocurrencies. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"TVL-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"txs",label:"Transactions",width:"115",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.txs[t.currentFilter])?"-":t.numeral(a.row.txs[t.currentFilter]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{label:"Active Accounts",prop:"active_accounts",width:"135",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.active_accounts[t.currentFilter])?"-":t.numeral(a.row.active_accounts[t.currentFilter]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_accounts",label:"New Accounts",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.new_accounts[t.currentFilter])?"-":t.numeral(a.row.new_accounts[t.currentFilter]).format("0,0"))+" ")])]}}])})],1)],1),e("rollup-detail",{ref:"rolluoDetail"})],1)}),[],!1,null,null,null).exports),U=a("f690"),O={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22}},computed:{src(){if(this.isError)return a("b591");if(!this.name)return"#";return`https://l2api.orbiter.finance/img/rollups/${this.name.replace(/\s+/g,"").toLowerCase()}.png`}},watch:{name(){this.isError=!1}},methods:{onError(){this.isError=!0}}},V=Object(c.a)(O,(function(){return(0,this._self._c)("img",{attrs:{width:this.width,height:this.width,src:this.src},on:{error:this.onError}})}),[],!1,null,null,null).exports;async function N(t,e){let a=void 0;try{if(a=await g.a.get(`/dapp/details/${t}/${e.replace(" ","").toLowerCase()}`),"success"!==a.data.status)throw Error()}catch(t){console.error("Failed to get dapp detail",t)}return a?a.data.data:void 0}const L=["All Users","Active Users","New Users"],M=["rgba(51, 51, 51, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],R={"All Users":"rgba(51, 51, 51, 0.8)","Active Users":"rgba(239, 47, 45, 1)","New Users":"rgba(17, 112, 255, 1)"},B=[{label:"1m",value:1},{label:"3m",value:3},{label:"6m",value:6},{label:"1y",value:12},{value:"Max",label:"Max"}];var F={data:()=>({dialogVisible:!1,times:B,currentTime:B[0].value,dappData:{},detailData:{},rollups:[],rollup:"",allSeries:L,color:M,checkData:["New Users","Active Users"]}),computed:{isMobile:()=>m.f.value,chartData(){if(!this.detailData||!this.detailData.chart_data)return;const t=this.detailData.chart_data,e=this.currentTime,a=(new Date).getTime()/1e3;if("Max"===e)return t.sort((t,e)=>t.timestamp-e.timestamp);const s=2592e3*e;return t.filter(t=>t.timestamp>a-s).sort((t,e)=>t.timestamp-e.timestamp)},isLightMode(){return"light"===this.$store.state.themeMode}},watch:{chartData(){this._chart&&this._chart.setOption(this._getChartOptions())}},components:{DappLogo:_.a,RollupLogo:V,Selector:n.a,IconLink:v.a,TwitterLink:y.a,Rollups:U.a},mounted(){window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{show(t,e){this.dialogVisible=!0,this.rollup=t,this.rollups=[t],this.$nextTick(async()=>{this.checkData=["New Users","Active Users"],this.currentTime=B[0].value,this._chart&&this._chart.clear(),this.detailData={},this._initChart(),this.dappData=e,this.$loader.show();const a=await N(t,e.dapp_name);this.$loader.hide(),a&&a.info&&a.info.dapp_supported_l2&&(this.rollups=a.info.dapp_supported_l2),this.detailData=a,this._chart.hideLoading()})},async onRollupChange(t){this.rollup!==t&&(this.rollup=t,this.detailData={},this.$loader.show(),this.detailData=await N(t,this.dappData.dapp_name),this.$loader.hide())},onCheckerClick(t){if((1!==this.checkData.length||!this.checkData.includes(t))&&(this.checkData.includes(t)?this.checkData=this.checkData.filter(e=>e!==t):this.checkData=this.checkData.concat([t]),this._chart)){this._chart.clear();const t=this._getChartOptions();this._chart.setOption(t)}},_onResize(){this._chart&&this._chart.resize()},_initChart(){const t=document.getElementById("dapp-detail-chart"),e=f.init(t);this._chart=e},_getChartOptions(){const{times:t,allUser:e,activeUser:a,newUser:s}=this._getData(),r={height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.length/(this.isMobile?3:6))==0,formatter:t=>Object(p.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,r){const i={top:"10%"};return i[["left","right"][+(t[0]<r.viewSize[0]/2)]]=5,i}:void 0},series:[]};return this.checkData.includes("New Users")&&r.series.push({name:"New Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(17, 112, 255, 1)"},showSymbol:!1,emphasis:{focus:"series"},data:s}),this.checkData.includes("Active Users")&&r.series.push({name:"Active Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(239, 47, 45, 1)"},showSymbol:!1,emphasis:{focus:"series"},data:a}),this.checkData.includes("All Users")&&r.series.push({name:"All Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(51, 51, 51, 0.8)"},showSymbol:!1,emphasis:{focus:"series"},data:e}),r},_getData(){if(!this.chartData)return{times:[],allUser:[],activeUser:[],newUser:[]};const t=this.chartData;return{times:t.map(t=>1e3*t.timestamp),allUser:t.map(t=>t.all_users),activeUser:t.map(t=>t.active_users),newUser:t.map(t=>t.new_users)}},_onFormatter(t){const e=t[0].axisValue,a=this._getDataByTime(e).all_users;return`<div class="dapp-detail-chart-popover-content">\n                <div class="dapp-detail-chart-popover-title">${Object(p.a)(parseInt(e),"yyyy-MM-dd")}</div>\n                <div class="dapp-detail-chart-popover-data">\n                   ${t.reverse().map(t=>`\n                    <div class="dapp-detail-chart-popover-data-item">\n                      <div class="dot" style="background:${R[t.seriesName]}"></div>\n                      <div class="name">${t.seriesName}</div>\n                      <div class="value">${r()(t.value).format("0,0")}\n                      ${"All Users"!==t.seriesName?`<span>(${(t.value/a*100).toFixed(2)}%)</span>`:""}\n                        </div>\n                      </div>\n                    `).join("")}\n                </div>\n              </div>`},_getDataByTime(t){return this.chartData.find(e=>1e3*e.timestamp===parseInt(t))}}},H=(a("0da88"),a("e408"),a("b3bc"),Object(c.a)(F,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"custom-class":"dapp-detail-dialog",visible:t.dialogVisible,"append-to-body":"","margin-top":t.isMobile?"5%":"15vh","show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"dapp-detail-dialog-title",attrs:{slot:"title"},slot:"title"},[e("dapp-logo",{staticClass:"logo",attrs:{name:t.dappData.dapp_name}}),e("div",{staticClass:"name"},[t._v(t._s(t.dappData.dapp_name))]),e("span",{staticClass:"close",on:{click:function(e){t.dialogVisible=!1}}})],1),e("div",{staticClass:"dapp-detail-dialog-content"},[e("div",{staticClass:"info"},[e("div",{staticClass:"links"},[e("icon-link",{attrs:{href:t.dappData.dapp_url}}),e("twitter-link",{attrs:{href:t.dappData.dapp_twitter}})],1),t.detailData.info&&t.detailData.info.dapp_category?e("div",{staticClass:"category"},[t._v(" "+t._s(t.detailData.info.dapp_category)+" ")]):t._e(),t.isMobile?t._e():e("div",{staticClass:"supported"},[t._v("Supported L2")]),t.isMobile?t._e():e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Only the chains supported by Orbier-L2 Data are listed. ")]),e("span",{staticClass:"supported-l2-help",attrs:{slot:"reference"},slot:"reference"})]),t.detailData.info?e("div",{staticClass:"rollups"},t._l(t.detailData.info.dapp_supported_l2,(function(t,a){return e("rollup-logo",{key:a,attrs:{name:t}})})),1):t._e()],1),e("div",{staticClass:"selectors"},[e("rollups",{attrs:{customRollups:t.rollups.map(t=>({value:t.replace(/\s+/g,"").toLowerCase(),label:t})),onlySelect:!0,value:t.rollup},on:{"rollup-change":t.onRollupChange}}),e("selector",{staticClass:"selector",attrs:{data:t.times,value:t.currentTime},on:{change:e=>t.currentTime=e.value}})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(" User Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Active Users & Corresponding percentage of total users. "),e("br"),t._v(" New Users & Corresponding percentage of total users. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"dapp-detail-chart"}}),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0)])])])}),[],!1,null,null,null).exports);const K=[{label:"1d",value:"1d"},{label:"3d",value:"3d"},{label:"7d",value:"7d"},{label:"14d",value:"14d"},{label:"30d",value:"30d"}];var j={data:()=>({selectors:K,PAGE_SIZE:30,dapps:{},defaultSort:{prop:"active_users",order:"descending"},currentSort:{prop:"active_users",order:"descending"},currentRollup:void 0,rollups:[],currentFilter:K[0].value,tableData:[],page:1}),components:{Selector:n.a,DappLogo:_.a,TimeDiff:i.a,Rollups:U.a,DappDetail:H,IconLink:v.a,TwitterLink:y.a,Help:u},watch:{async currentRollup(){this.dapps={},this.tableData=[],this.page=1,await this._getDapps(),this.currentSort&&this.onSortChange(this.currentSort)},currentFilter(){this.currentSort&&this.onSortChange(this.currentSort)}},computed:{total(){return this.dapps&&this.dapps.table_data?this.dapps.table_data.length:0},isMobile:()=>m.f.value,currentTableData(){if(!this.tableData.length)return[];const t=30*(this.page-1);return this.tableData.map((t,e)=>({...t,index:e+1})).slice(t<1?0:t,30*this.page)}},async mounted(){this.rollups=await Object(h.b)("dapps"),this.currentRollup=this.rollups[0].value},methods:{dateFormat:p.a,numeral:r.a,async _getDapps(){this.$loader.show();const t=await async function(t){let e=void 0;try{if(e=await g.a.get("/dapp_data/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapps",t)}return e?e.data.data:void 0}(this.currentRollup);this.$loader.hide(),this.dapps=t,this.tableData=this._getTableData()},onSortChange({prop:t,order:e}){const a=this.tableData,s="ascending"===e;this.currentSort={prop:t,order:e},null!==!e?"all_users"!==t?["active_users","new_users","interactions","new_users_age"].includes(t)?this.tableData=a.sort((e,a)=>{const r=e[this.currentFilter][t],i=a[this.currentFilter][t];return s?r-i:i-r}):"launch_time"===t&&(this.tableData=a.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),r=new Date(e.launch_time).getTime();return s?a-r:r-a})):this.tableData=a.sort((t,e)=>{const a=t.all_users,r=e.all_users;return s?a-r:r-a}):this.tableData=a},onRowClick(t){this.$refs.dappDetail.show(this.currentRollup,t)},_getTableData(){const t=this.dapps,e=t&&t.table_data?t.table_data:[];return e.length?e.sort((t,e)=>{const a=Number(t[this.currentFilter].active_users);return Number(e[this.currentFilter].active_users)-a}):[]}}},Y=(a("171f"),Object(c.a)(j,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dapps-wrapper"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{value:t.currentRollup,customRollups:t.rollups},on:{"rollup-change":e=>t.currentRollup=e}}),e("div",{staticClass:"right"},[!t.isMobile&&t.dapps&&t.dapps.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.dapps.update_time}}):t._e(),e("selector",{attrs:{data:t.selectors,value:t.currentFilter},on:{change:e=>t.currentFilter=e.value}})],1)],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.currentTableData,"empty-text":"No Items","default-sort":t.defaultSort},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",label:"NO. Dapp Name",width:t.isMobile?210:280},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("div",{staticClass:"rank"},[t._v(" "+t._s(a.row.index)+" ")]),e("dapp-logo",{attrs:{name:a.row.dapp_name}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name},on:{click:function(e){return t.onRowClick(a.row)}}},[t._v(" "+t._s(a.row.dapp_name)+" ")]),e("icon-link",{attrs:{href:a.row.dapp_url}}),e("twitter-link",{attrs:{href:a.row.dapp_twitter}})],1)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"130",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time_str,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"130",align:"center","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{label:"Active Accounts",prop:"active_users","sort-orders":["descending","ascending",null],width:"150",align:"right",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].active_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_users",label:"New Users",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].new_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_users_age",width:"140",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].new_users_age).format("0,0"))+" ")])]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"new-user-age-header"},[t._v("New Users Age")]),e("el-popover",{attrs:{"popper-class":"new-user-age-header-popover",placement:"bottom",width:"300",trigger:"hover"}},[e("div",{staticClass:"new-user-age-desc"},[t._v(" Statistics of all users. Users Age refers to the cumulative days since users started the first transaction on the mainnet. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"new-user-age-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"interactions",label:"Interactions",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].interactions).format("0,0"))+" ")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.PAGE_SIZE,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)],1),e("dapp-detail",{ref:"dappDetail"})],1)}),[],!1,null,null,null).exports),G=a("1812");var z={data:()=>({PAGE_SIZE:30,defaultSort:{prop:"launch_time",order:"descending"},currentSort:void 0,customRollups:[],currentRollup:void 0,contracts:{},tableData:[],page:1}),components:{Rollups:U.a,TimeDiff:i.a,DappLogo:_.a,IconLink:v.a,TwitterLink:y.a,ScanLink:G.a,Help:u},watch:{async currentRollup(){this.contracts={},this.tableData=[],this.page=1,await this._getContracts(),this.currentSort&&this.onSortChange(this.currentSort)}},computed:{isMobile:()=>m.f.value,total(){return this.contracts&&this.contracts.table_data?this.contracts.table_data.length:0},currentTableData(){if(!this.tableData.length)return[];const t=30*(this.page-1);return this.tableData.map((t,e)=>({...t,index:e+1})).slice(t<1?0:t,30*this.page)}},async mounted(){this.customRollups=await Object(h.b)("contracts"),this.currentRollup=this.customRollups[0].value},methods:{numeral:r.a,shortenAddress:function(t,e=4){return`${t.substring(0,e+2)}...${t.substring(t.length-e)}`},dateFormat:p.a,async _getContracts(){this.$loader.show();const t=await async function(t){let e=void 0;try{if(e=await g.a.get("/new_contracts/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get contracts",t)}return e?e.data.data:void 0}(this.currentRollup);this.$loader.hide(),this.contracts=t,this.tableData=this._getTableData()},_getTableData(){const t=this.contracts,e=t&&t.table_data?t.table_data:[];return e.length?e.sort((t,e)=>{const a=new Date(t.launch_time).getTime();return new Date(e.launch_time).getTime()-a}):[]},onSortChange({prop:t,order:e}){const a=this.tableData,s="ascending"===e;this.currentSort={prop:t,order:e},null!==!e?("launch_time"===t&&(this.tableData=a.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),r=new Date(e.launch_time).getTime();return s?a-r:r-a})),this.tableData=a.sort((e,a)=>{const r=Number(e[t]),i=Number(a[t]);return s?r-i:i-r})):this.tableData=a}}},$=(a("6fa4"),Object(c.a)(z,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"contracts-wrapper"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{customRollups:t.customRollups,value:t.currentRollup},on:{"rollup-change":e=>t.currentRollup=e}}),!t.isMobile&&t.contracts&&t.contracts.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.contracts.update_time}}):t._e()],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.currentTableData,"default-sort":t.defaultSort,"empty-text":"No Items"},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",prop:"contract_address",label:"New Contract",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-contract"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.row.index)+" ")]),e("div",{staticClass:"address",attrs:{title:a.row.contract_address}},[t._v(" "+t._s(t.shortenAddress(a.row.contract_address,2))+" ")]),e("scan-link",{attrs:{href:a.row.scan_url}})],1)]}}])}),e("el-table-column",{attrs:{label:"Name",width:"165"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("dapp-logo",{attrs:{name:a.row.dapp_name}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name}},[t._v(" "+t._s(a.row.dapp_name)+" ")]),a.row.dapp_url?e("icon-link",{attrs:{href:a.row.dapp_url}}):t._e(),a.row.twitter_url?e("twitter-link",{attrs:{href:a.row.twitter_url}}):t._e()],1)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"125","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time_str,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"90",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"users_age",label:"Users Age",width:"95",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.users_age).format("0,0"))+" ")])]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"user-age-header"},[t._v("Users Age")]),e("el-popover",{attrs:{"popper-class":"user-age-header-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"user-age-desc"},[t._v(' Statistics for all users. " Users Age " refers to the cumulative days since users started the first transaction on the mainnet. '),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"user-age-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"24h_active_users",label:"24h Active Users",width:"155",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_active_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_new_users",label:"24h New Users",width:"140",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_new_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_interactions",label:"24h Interactions",width:"150",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_interactions"]).format("0,0"))+" ")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.PAGE_SIZE,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)],1)])}),[],!1,null,null,null).exports);const W=[{name:"Rollups Data",value:"Rollups"},{name:"L2 Dapps Data",value:"Dapps"},{name:"New Contracts",value:"Contracts"}];var Z={data:()=>({tabs:W,currentTab:W[0].value}),components:{Rollups:S,Dapps:Y,Contracts:$},computed:{isMobile:()=>m.f.value},mounted(){const t=this.$route.query.nav;this.currentTab=t||W[0].value},methods:{onTabChnage(t){this.currentTab=t,this.$router.replace({path:this.$route.path,query:{nav:t}})}}},Q=(a("68ce"),Object(c.a)(Z,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"transactions-detail"},[e("div",{staticClass:"nav"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile,expression:"!isMobile"}],staticClass:"back",on:{click:function(e){return t.$router.back()}}}),e("div",{staticClass:"tabs"},t._l(t.tabs,(function(a,s){return e("div",{key:s,staticClass:"tab",class:{active:t.currentTab===a.value},on:{click:function(e){return t.onTabChnage(a.value)}}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e(t.currentTab,{tag:"component"})],1)}),[],!1,null,null,null));e.default=Q.exports},ca50:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAUCAYAAAC58NwRAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBlZPtDQIhDIb7MoEbqAPcreQ5ghvcCG4grnQm/lU3YAHF9r5iAAs0ARr6PBASilfbHj7kz0TkDKHfDsOVlDAM97xueOw4t3KAKszwGjnJkKdTuKlJkOnRNB1nl/g0dOGbsCSlEn6LJRLCYk6KhJyUFBTJmX+CAXxi2yVvmL+LjQr+fUQNvL/dLWpgSVEDr0IpPAo1sMTSD0XwKFDQDxo8CVM/PHm4HCzxBXiAfGSW50PVAAAAAElFTkSuQmCC"},ceb7:function(t,e,a){"use strict";var s={props:{data:{type:Array,require:!0},value:{require:!0}}},r=(a("ab49"),a("2877")),i=Object(r.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"selector"},t._l(t.data,(function(a,s){return e("div",{key:s,staticClass:"selector-item",class:{active:a.value===t.value},on:{click:function(e){return t.$emit("change",a)}}},[t._v(" "+t._s(a.label)+" ")])})),0)}),[],!1,null,null,null);e.a=i.exports},d147:function(t,e,a){"use strict";var s={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22}},computed:{src(){if(this.isError)return a("6bc0");if(!this.name)return"#";return`https://l2api.orbiter.finance/img/chains/${this.name.replace(/\s+/g,"").toLowerCase()}.png`}},watch:{name(){this.isError=!1}}},r=a("2877"),i=Object(r.a)(s,(function(){var t=this;return(0,t._self._c)("img",{attrs:{width:t.width,height:t.width,src:t.src},on:{error:function(e){t.isError=!0}}})}),[],!1,null,null,null);e.a=i.exports},d224:function(t,e,a){"use strict";a("773f")},d48f:function(t,e,a){"use strict";function s(t,e="yyyy-MM-dd hh:mm:ss"){const a=new Date("string"==typeof t?t.replace(/-/g,"/"):t),s={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};return/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(""+a.getFullYear()).substring(4-RegExp.$1.length))),Object.keys(s).forEach(t=>{const a=s[t];new RegExp(`(${t})`).test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a.toString():("00"+a).substring((""+a).length)))}),e}a.d(e,"a",(function(){return s}))},d920:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));a("d9e2");var s=a("116b");let r={};async function i(){let t=void 0;try{if(t=await s.a.get("/rollups_data"),"success"!==t.data.status)throw Error()}catch(t){console.error("Failed to get rollups",t)}return t?t.data.data:void 0}async function n(t){let e=void 0;if(r[t])return r[t];try{if(e=await s.a.get("/rollup_tab/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get rollups",t)}return e?r[t]=e.data.data.map(t=>({label:Object.keys(t)[0],value:t[Object.keys(t)[0]]})):void 0}},d99b:function(t,e,a){t.exports=a.p+"static/img/usdclogo.bb66f3e8.png"},ddfe:function(t,e,a){},e408:function(t,e,a){"use strict";a("4188")},e4bb:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("2af9"),r=a("d186"),i={name:"History",components:{NoData:s.f},computed:{currentPage(){return this.transactionListInfo.current},historyData(){const{transactionList:t}=r.e;if(!t)return t;const e=[];for(const a of t)11!=a.fromChainID&&511!=a.fromChainID&&11!=a.toChainID&&511!=a.toChainID&&e.push(a);return e},isShowDydxLimit(){const{transactionList:t}=r.e;return!(!this.historyData||!t)&&this.historyData.length<t.length},isApiLoading:()=>r.e.isLoading,transactionListInfo:()=>r.e.transactionListInfo},beforeRouteEnter(t,e,a){a(()=>{Object(r.d)()})},methods:{curChange(t){Object(r.d)({current:t})},closeDialog(){const t=JSON.parse(localStorage.getItem("last_page_before_history")||"{}");try{t.path?(t.path!==this.$route.path&&this.$router.push(t),Object(r.l)()):this.$router.push({path:"/"})}catch(t){console.error(t)}},getHistoryInfo(t){Object(r.o)(t),this.closeDialog()},stopPenetrate(t){t.stopPropagation()},iconName:t=>0===t.state?"history_success":1===t.state?"history_waiting":"history_fail",logoName:t=>"2"==t||"22"==t?"arblogo":"3"==t||"33"==t?"zklogo":"4"==t||"44"==t?"sknlogo":"6"==t||"66"==t?"pglogo":"7"==t||"77"==t?"oplogo":"8"==t||"88"==t?"imxlogo":"9"==t||"99"==t?"loopringlogo":"10"==t||"510"==t?"metislogo":"11"==t||"511"==t?"dydxlogo":"12"==t||"512"==t?"zkspacelogo":"13"==t||"513"==t?"bobalogo":"15"==t||"515"==t?"bsclogo":"16"==t||"516"==t?"arnavologo":"ethlogo"}},n=(a("e79f"),a("095f"),a("2877")),o=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"history-page"},[e("div",{staticClass:"history-content"},[e("div",{staticClass:"title"},[t._v("History")]),e("div",{staticClass:"table historyContent"},[t._m(0),t.isShowDydxLimit?e("div",{staticClass:"dydx-limit"},[t._v(" Limited by the dydx mechanism, the history of dYdX cannot be queried temporarily ")]):t._e(),t.isApiLoading?e("CommLoading",{staticStyle:{margin:"auto","margin-top":"5rem"},attrs:{width:"4rem",height:"4rem"}}):t.historyData&&0!==t.historyData.length?t._l(t.historyData,(function(a,s){return e("div",{key:s,staticClass:"contentItem",on:{click:function(e){return t.getHistoryInfo(a)}}},[e("svg-icon",{staticClass:"logo col-val col-1",attrs:{color:"#df2e2d",iconName:t.iconName(a)}}),e("span",{staticClass:"col-val col-2"},[t._v(t._s(a.fromTimeStampShow))]),e("span",{staticClass:"col-val col-3"},[t._v(t._s(a.userAmount+a.tokenName))]),e("div",{staticClass:"col-val col-4",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("svg-icon",{staticStyle:{width:"1.6rem",height:"1.6rem"},attrs:{iconName:t.logoName(a.fromChainID)}})],1),e("div",{staticClass:"col-val col-5",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("svg-icon",{staticStyle:{width:"1.6rem",height:"1.6rem"},attrs:{iconName:t.logoName(a.toChainID)}})],1)],1)})):t._e()],2),!t.isApiLoading&&t.historyData&&0===t.historyData.length?e("NoData",{staticStyle:{"padding-top":"200px"}},[t._v("No history")]):t._e(),!t.isApiLoading&&t.historyData&&0!==t.historyData.length?e("el-pagination",{staticClass:"pagination",attrs:{layout:"prev, pager, next","current-page":t.currentPage,total:t.transactionListInfo.total},on:{"current-change":t.curChange}}):t._e(),e("svg-icon",{staticClass:"close",attrs:{iconName:"close"},nativeOn:{click:function(e){return t.closeDialog.apply(null,arguments)}}})],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"table-header"},[t("span",{staticClass:"col col-1"},[this._v("")]),t("span",{staticClass:"col col-2"},[this._v("Time")]),t("span",{staticClass:"col col-3"},[this._v("Value")]),t("span",{staticClass:"col col-4",staticStyle:{"text-align":"center"}},[this._v("From")]),t("span",{staticClass:"col col-5",staticStyle:{"text-align":"center"}},[this._v("To")])])}],!1,null,"c194bb88",null);e.default=o.exports},e558:function(t,e,a){const s=a("901e"),r={eth:256,arbitrum:256,zksync:35,zksync2:256,starknet:256,polygon:256,optimistic:256,immutablex:28,loopring:256,metis:256,dydx:28,zkspace:35,boba:256,bsc:256,arbitrum_nova:256},i={1:"eth",2:"arbitrum",22:"arbitrum",3:"zksync",33:"zksync",4:"starknet",44:"starknet",5:"eth",6:"polygon",66:"polygon",7:"optimistic",77:"optimistic",8:"immutablex",88:"immutablex",9:"loopring",99:"loopring",10:"metis",510:"metis",11:"dydx",511:"dydx",12:"zkspace",512:"zkspace",13:"boba",513:"boba",14:"zksync2",514:"zksync2",515:"bsc",15:"bsc",16:"arbitrum_nova",516:"arbitrum_nova"},n=4;function o(t){if(9===t||99===t||"loopring"===t)return!0}function c(t){return 3===t||33===t||"zksync"===t||(8===t||88===t||"immutablex"===t||(11===t||511===t||"dydx"===t||(12===t||512===t||"zkspace"===t)))}function l(t,e){if(!d(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let a=h(t,e);var s=e.toString().length;if(s<n)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(c(t)&&s>a){return{state:!0,pText:e.toString().slice(0,a).slice(-n)}}return{state:!0,pText:e.toString().slice(-n)}}function d(t){if("number"==typeof t){if(i[t]&&r[i[t]])return!0}else if("string"==typeof t&&r[t.toLowerCase()])return!0;return!1}function u(t){if(!d(t))return{error:"The chain did not support"};if("number"==typeof t){let e=s(2**r[i[t]]-1);return{min:s(0),max:e}}if("string"==typeof t){let e=s(2**r[t.toLowerCase()]-1);return{min:s(0),max:e}}}function h(t,e){let a=function(t){let e=u(t);return e.error?e:e.max.toFixed().length}(t);if(a.error)return a.error;let s=u(t),r=m(e.toString());return r.length>a?"amount is inValid":r>s.max.toFixed()?a-1:a}function m(t){return"string"!=typeof t?"param must be string":t.replace(/^0+(\d)|(\d)0+$/gm,"$1$2")}t.exports={getPTextFromTAmount:l,getToChainIDFromAmount:function(t,e){let a,s=l(t,e);return s.state?(a=s.pText,a>9e3?a-9e3:null):null},isAmountValid:function(t,e){if(!d(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let a=h(t,e);var r=e.toString().length;if(r<n)return{state:!1,error:"Amount size must be greater than pNumberSize"};let i=e;if(c(t)&&(i=m(e.toString())),!function(t,e){if(!d(e))return{state:!1,error:"The chain did not support"};let a=u(e);return!a.error&&!(!s(t).gte(a.min)||!s(t).lte(a.max))}(i,t))return{state:!1,error:"Amount exceeds the spending range"};if(c(t)&&r>a){let t=e.toString().slice(0,a).slice(-n);return 0===Number(t)?{state:!0}:{state:!1,error:"Insufficient number of flag bits"}}{let t=e.toString().slice(-n);return 0===Number(t)?{state:!0}:{state:!1,error:"Insufficient number of flag bits"}}},getTAmountFromRAmount:function(t,e,a){if(!d(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};if(a.length>n)return{state:!1,error:"the pText size invalid"};let s=h(t,e);var r=e.toString().length;if(r<n)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(c(t)&&r>s){return{state:!0,tAmount:e.toString().slice(0,s-a.length)+a+e.toString().slice(s)}}return o(t)?{state:!0,tAmount:e}:{state:!0,tAmount:e.toString().slice(0,r-a.length)+a}},getRAmountFromTAmount:function(t,e){let a="";for(let t=0;t<n;t++)a+="0";if(!d(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let s=h(t,e);var r=e.toString().length;if(r<n)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(c(t)&&r>s){return{state:!0,rAmount:e.toString().slice(0,s-n)+a+e.toString().slice(s)}}return{state:!0,rAmount:e.toString().slice(0,r-n)+a}},pTextFormatZero:function(t){return String(t).length>n?t:(Array(n).join(0)+t).slice(-n)},isZKChain:function(t){return 3===t||33===t||"zksync"===t||12==t||512==t||"zkspace"==t},isLPChain:o,isLimitNumber:c,getToAmountFromUserAmount:function(t,e,a){let r=new s(t).minus(new s(e.tradingFee)),i=r.multipliedBy(new s(e.gasFee)).dividedBy(new s(1e3)),n=18===e.precision?5:2,o=i.decimalPlaces(n,s.ROUND_UP),c=r.minus(o);return!c||isNaN(c)?0:a?c.multipliedBy(new s(10**e.precision)):c},getDigitByPrecision:function(t){return 18===t?6:2}}},e79f:function(t,e,a){"use strict";a("5a7e")},edac:function(t,e,a){},edac2:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("2af9"),r=a("2470"),i=function(t,e){return new Promise((a,s)=>{Object(r.a)(t,e).then(t=>{a(t)}).catch(t=>{s(t)})})},n=a("0e0b"),o=a("15f6"),c=(a("d9e2"),a("00de")),l=a("bc3a"),d=a.n(l),u=a("901e"),h=a.n(u),m=a("c030"),p=a("47e3"),f=a("5cff"),g=(a("3c65"),a("8641")),_=a("6779"),y=a("edf5"),v=a("c4cb"),w=a("e558"),b=a.n(w),A=a("129b"),C=a("d186");const P=a("901e");g.a.axios();var k={getZKspaceBalance:async function(t){if(12!==t.localChainID&&512!==t.localChainID)throw new Error("getZKSpaceBalance Error: wrongChainID");const e=`${512===t.localChainID?v.a.ZKSpace.Rinkeby:v.a.ZKSpace.Mainnet}/account/${t.account}/balances`;try{const t=await d.a.get(e);if(200===t.status&&t.data.success)return t.data.data.balances.tokens;throw new Error("getZKSpaceBalance error: response.status not 200")}catch(t){throw new Error("getZKSpaceBalance error: "+t.message)}},getZKSpaceTransferGasFee:async function(t,e){if(!e)return 0;let a=C.x.ethPrice?C.x.ethPrice:2e3;if(12!==t&&512!==t)throw new Error("getZKSpaceTransferGasFeewrongChainID");const s=`${512===t?v.a.ZKSpace.Rinkeby:v.a.ZKSpace.Mainnet}/account/${e}/fee`;try{const t=await d.a.get(s);if(200===t.status){var r=t.data;if(1==r.success){let t=new P(r.data.transfer).dividedBy(new P(a)).decimalPlaces(6,P.ROUND_UP);return Number(t)}throw new Error("getZKSpaceGasFee->respData.success no true")}throw new Error("getZKSpaceGasFee->response.status not 200")}catch(t){throw new Error("getZKSpaceGasFee->network error")}},getZKSpaceWithDrawGasFee:async function(t,e){if(!e)return;let a=C.x.ethPrice?C.x.ethPrice:2e3;if(12!==t&&512!==t)throw new Error("getZKSpaceGasFeeErrorwrongChainID");const s=`${512===t?v.a.ZKSpace.Rinkeby:v.a.ZKSpace.Mainnet}/account/${e}/fee`;try{const t=await d.a.get(s);if(200===t.status&&t.data.success){var r=t.data;let e=new P(r.data.withdraw).dividedBy(new P(a)).decimalPlaces(6,P.ROUND_UP);return Number(e)}throw new Error("getZKSpaceWithDrawGasFee response.status not 200")}catch(t){throw new Error("getZKSpaceWithDrawGasFee error"+t.message)}},getZKAccountInfo:function(t,e){return new Promise((a,s)=>{12!==t&&512!==t&&s({errorCode:1,errMsg:"getZKSpaceAccountInfoError_wrongChainID"});const r=(512===t?v.a.ZKSpace.Rinkeby:v.a.ZKSpace.Mainnet)+"/account/"+e+"/info";d.a.get(r).then((function(t){if(200===t.status){var e=t.data;1==e.success?a(e.data):s(e.data)}else s({errorCode:1,errMsg:"NetWorkError"})})).catch((function(t){s({errorCode:2,errMsg:t})}))})},sendTransfer:async function(t,e){if(12!==t&&512!==t)return{code:"1",error:"sendZKSpaceTransferError_wrongChainID"};return await d.a.post((512===t?v.a.ZKSpace.Rinkeby:v.a.ZKSpace.Mainnet)+"/tx",{signature:e.signature,fastProcessing:e.fastProcessing,tx:e.tx})},getZKSpaceTransactionData:async function(t,e){if(12!==t&&512!==t)throw new Error("getZKTransactionDataError_wrongChainID");const a=(512===t?v.a.ZKSpace.Rinkeby:v.a.ZKSpace.Mainnet)+"/tx/"+e,s=await d.a.get(a);if(200===s.status){var r=s.data;if(!0===r.success)return r;throw new Error(r)}throw new Error("getZKSpaceTransactionData NetWorkError")},getZKSapceTxList:async(t,e,a,s,r)=>{if(12!==e&&512!==e)throw{errorCode:1,errMsg:"getZKSTransactinListError_wrongChainID"};const i=`${512===e?v.a.ZKSpace.Rinkeby:v.a.ZKSpace.Mainnet}/txs?types=Transfer&address=${t}&token=${s}&start=${a}&limit=${r}`;try{const t=await d.a.get(i);if(200===t.status){var n=t.data;if(!0===n.success)return n;throw n}throw{errorCode:1,errMsg:"NetWorkError"}}catch(t){throw{errorCode:2,errMsg:t.message}}},async getL2SigTwoAndPK(t,e,a,s,r,i,n){try{const o={accountId:e.id,to:a.makerAddress,tokenSymbol:n?n.symbol:"ETH",tokenAmount:_.utils.formatUnits(s,n.decimals),feeSymbol:"ETH",fee:r.toString(),zksChainID:i,nonce:e.nonce},c=`Transfer ${o.tokenAmount} ${o.tokenSymbol}\nTo: ${o.to.toLowerCase()}\nChain Id: ${o.zksChainID}\nNonce: ${o.nonce}\nFee: ${o.fee} ${o.feeSymbol}\nAccount Id: `+o.accountId;return await t.signMessage(c)}catch(t){throw new Error("getL2SigTwoAndPK error "+t.message)}},getL2SigOneAndPK(t,e,a,s,r,i,n,o,c){const l=_.utils.concat(["0x05",y.utils.numberToBytesBE(e.id,4),a,s.makerAddress,y.utils.numberToBytesBE(r,2),y.utils.packAmountChecked(i),y.utils.numberToBytesBE(n,1),y.utils.packFeeChecked(o),y.utils.numberToBytesBE(c,1),y.utils.numberToBytesBE(e.nonce,4)]),d=Object(A.sign_musig)(t,l);return{pubKey:_.utils.hexlify(d.slice(0,32)).substr(2),l2SignatureOne:_.utils.hexlify(d.slice(32)).substr(2)}},async getAccountInfo(t,e,a,s){try{const r=await this.getZKAccountInfo(t,s);if("sync:0000000000000000000000000000000000000000"==r.pub_key_hash){const i=await this.registerAccount(r,e,t,a,s);r.pub_key_hash=i,r.nonce=r.nonce+1}return r}catch(t){throw new Error("getAccountInfo error "+t.message)}},async getTransferValue(t,e,a){try{var s=new P(C.x.transferValue).plus(new P(t.tradingFee)).multipliedBy(new P(10**t.precision)).toFixed(),r=9e3+Number(a)+"",i=b.a.getTAmountFromRAmount(e,s,r);if(!i.state)return this.$notify.error({title:i.error,duration:3e3}),this.transferLoading=!1,null;return{transferValue:y.utils.closestPackableTransactionAmount(i.tAmount),tValue:i}}catch(t){throw new Error("getTransferValue error "+t.message)}},async getL1SigAndPriVateKey(t){try{const e="Access ZKSwap account.\n\nOnly sign this message for a trusted client!",a=await t.signMessage(e),s=_.utils.arrayify(a);return await y.crypto.privateKeyFromSeed(s)}catch(t){throw new Error("getL1SigAndPriVateKey error "+t.message)}},async registerAccount(t,e,a,s,r){try{const i=_.utils.hexlify(Object(A.private_key_to_pubkey_hash)(e)).substr(2),n=this.toHex(t.id,4);let o=`Register ZKSwap pubkey:\n\n${i}\nnonce: ${this.toHex(t.nonce,4)}\naccount id: ${n}\n\nOnly sign this message for a trusted client!`;const c=await s.signMessage(o),l=(512==a?v.a.ZKSpace.Rinkeby:v.a.ZKSpace.Mainnet)+"/tx";let u=await d.a.post(l,{signature:null,fastProcessing:null,extraParams:null,tx:{account:r,accountId:t.id,ethSignature:c,newPkHash:"sync:"+i,nonce:0,type:"ChangePubKey"}},{headers:{"zk-account":r}});if(200==u.status&&u.data.success)return u.data;throw new Error("registerAccount fail")}catch(t){throw new Error("registerAccount error "+t.message)}},toHex(t,e){var a=["a","b","c","d","e","f"];let s=Array(2*e).fill("0");for(var r=2*e-1;t>15;){var i=t%16;if(i>=10){let t=i%10;s[r--]=a[t]}else s[r--]=i.toString();t=Math.floor(t/16)}if(0!=t)if(t>=10){let e=t%10;s[r--]=a[e]}else s[r--]=t.toString();return s.unshift("0x"),s.join("")}},x=a("4360"),T=a("31e2"),E=a("3035"),D=a.n(E);const I=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],S=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"maker",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"SwapEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"tradeId",type:"bytes32"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SwapFailEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"tradeId",type:"bytes32"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SwapOKEvent",type:"event"},{inputs:[{internalType:"address payable",name:"maker",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"tradeId",type:"bytes32"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"swapFail",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"tradeId",type:"bytes32"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"swapOK",outputs:[],stateMutability:"payable",type:"function"}];var U=a("b04c"),O=a("39f9");async function V(t,e,a,s,r,i=null){if(C.O.isInstallMeta||i){const o=new D.a(i||window.ethereum);let c=null;c=e.c1ID===t?e.t1Address:e.t2Address;let l=55e3;try{if(n.a.isEthTokenAddress(c))return l=await o.eth.estimateGas({from:a,to:e.makerAddress,value:r}),l;{const t=I,e=new o.eth.Contract(t,c);return e?(l=await e.methods.transfer(s,r).estimateGas({from:a}),l):l}}catch(t){console.warn("getTransferGasLimit error: ",t)}return l}}var N=a("f2da"),L=a("8e2f");async function M(t){if(33===t)return await y.Provider.newHttpProvider("https://goerli-api.zksync.io/jsrpc");if(3===t)return await y.getDefaultProvider("mainnet");throw new Error(`chainId ${this.chainId} not supported yet!`)}var R=a("1b23"),B=v.a.loopring.Mainnet,F={getUserAPI:function(t){let e=9==t?1:5;return new R.f({chainId:e})},getExchangeAPI:function(t){let e=9==t?1:5;return new R.c({chainId:e})},getLpTokenInfoOnce:(t,e)=>(9===t?x.a.state.lpTokenList.mainnet:x.a.state.lpTokenList.rinkeby).find(t=>t.address==e),async getLpTokenInfo(t,e,a=10){const s=this.getLpTokenInfoOnce(t,e);return s||(await Object(R.h)(100),--a>0?void await this.getLpTokenInfo(t,e,a):0)},getLoopringBalance:async function(t,e,a,s){try{let r;if(a){const a=this.getExchangeAPI(e);let s={owner:t},i=await a.getAccount(s);if(console.warn("Maker_loopringResponse =",i),!i.accInfo||!i.raw_data)return i.code,0;r=i.accInfo,console.warn("Maker_loopringAccountInfo =",r)}else{const a=await this.accountInfo(t,e);if(!a||a.code)return 0;r=a.accountInfo}99==e&&(B=v.a.loopring.Rinkeby);const i=await d.a.get(`${B}/api/v3/user/balances?accountId=${r.accountId}&tokens=${s?s.tokenId:0}`);if(200==i.status){if(!Array.isArray(i.data))return 0;if(0==i.data.length)return 0;let t=i.data[0];return(t.total?Number(t.total):0)-(t.locked?Number(t.locked):0)-(t.pending.withdraw?Number(t.pending.withdraw):0)}}catch(t){console.error("Get loopring balance failed: "+t.message)}},accountInfo:async function(t,e){let a=C.i.value;if(a)return{accountInfo:a,code:0};if(!t||!e)return null;try{const a=this.getExchangeAPI(e);let s=await a.getAccount({owner:t});if(s.accInfo&&s.raw_data){let t={accountInfo:s.accInfo,code:0};return Object(C.M)(s.accInfo),t}return{code:s.code,errorMessage:101002==s.code?"noAccount":s.message}}catch(t){return console.warn("get lp accountInfo error:"+t.message),null}},sendTransfer:async function(t,e,a,s,r,i,n){const o=this.getExchangeAPI(e),c=this.getUserAPI(e),l=await this.accountInfo(t,e);if(!l)throw Error("get account error");let d;if(l.code)throw Error("Get account error");if(d=null==l?void 0:l.accountInfo,0==d.nonce&&0==d.keyNonce&&""==d.publicKey.x&&""==d.publicKey.y&&""==d.keySeed)throw Error("account is not activated");if(d.frozen)throw Error("User account is frozen");const{exchangeInfo:u}=await o.getExchangeInfo(),h=new D.a(O.a.value.walletPayload.provider);let m={web3:h,address:d.owner,keySeed:d.keySeed&&""!==d.keySeed?d.keySeed:R.d.KEY_MESSAGE.replace("${exchangeAddress}",u.exchangeAddress).replace("${nonce}",(d.nonce-1).toString()),walletType:R.b.MetaMask,chainId:99==e?R.a.GOERLI:R.a.MAINNET};const p=await Object(R.g)(m);let f={accountId:d.accountId};const{apiKey:g}=await c.getUserApiKey(f,p.sk);if(!g)throw Error("Get Loopring ApiKey Error");Object(C.N)(g);const _=await this.getLpTokenInfo(e,r),y={accountId:d.accountId,sellTokenId:_.tokenId},v=await c.getNextStorageId(y,g),w=Math.round((new Date).getTime()/1e3)+2592e3,b={exchange:u.exchangeAddress,payerAddr:t,payerId:d.accountId,payeeAddr:a,payeeId:s,storageId:v.offchainId,token:{tokenId:_.tokenId,volume:i+""},maxFee:{tokenId:0,volume:"94000000000000000"},validUntil:w,memo:n};return await c.submitInternalTransfer({request:b,web3:h,chainId:99==e?R.a.GOERLI:R.a.MAINNET,walletType:R.b.MetaMask,eddsaKey:p.sk,apiKey:g,isHWAddr:!1})},getWithDrawFee:async function(t,e,a){var s,r;const i=await this.accountInfo(t,e);if(!i)return 0;let n;if(i.code)return 0;n=i.accountInfo;let o=C.x.transferValue;const c={accountId:n.accountId,requestType:R.e.OFFCHAIN_WITHDRAWAL,tokenSymbol:a,amount:o};let l=this.getUserAPI(e);const d=await l.getOffchainFeeAmt(c,"");return null!=d&&null!==(s=d.fees)&&void 0!==s&&null!==(r=s.ETH)&&void 0!==r&&r.fee?d.fees.ETH.fee:0},getTransferFee:async function(t,e,a){const s=await this.accountInfo(t,e);if(!s)return 0;let r;if(s.code)return 0;r=s.accountInfo;let i=C.x.transferValue;const n={accountId:r.accountId,requestType:R.e.TRANSFER,tokenSymbol:a?a.symbol:"ETH",amount:i};let o=this.getUserAPI(e);const c=await o.getOffchainFeeAmt(n,"");return c&&a&&c.fees[a.symbol]?c.fees[a.symbol].fee:0},getLoopringTxList:async function(t,e,a,s,r,i,n){let o,c=this.getUserAPI(a),l=await this.accountInfo(t,a);if(!l||l.code)return;o=l.accountInfo;const d={accountId:o.accountId,start:s,end:r,status:"processed,processing,received",limit:i,offset:n,tokenSymbol:e,transferTypes:"transfer"};return await c.getUserTransferList(d,9==a?Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_PO_G:"https://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_WP_PO_G:"wss://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",BASE_URL:""}).VUE_APP_LP_MK_KEY:Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_PO_G:"https://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_WP_PO_G:"wss://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",BASE_URL:""}).VUE_APP_LP_MKTEST_KEY)},getAccountStorageID:async function(t,e,a){try{const s=await this.accountInfo(t,e);if(!s)return 0;let r;if(s.code)return 0;r=s.accountInfo;let i=this.getUserAPI(e);const n={accountId:r.accountId,sellTokenId:a};return await i.getNextStorageId(n,9==e?Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_PO_G:"https://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_WP_PO_G:"wss://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",BASE_URL:""}).VUE_APP_LP_MK_KEY:Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_PO_G:"https://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_WP_PO_G:"wss://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",BASE_URL:""}).VUE_APP_LP_MKTEST_KEY)}catch(t){return console.warn("getLoopringNonceError =",t),0}}},H=a("2a2b");const K=p.a.supportLocalNetWorksIDs;var j={async getTransferGasLimit(t,e,a){const s=(6==t||66==t)&&"0x0000000000000000000000000000000000001010"==a,r=(10==t||510==t)&&"0xDeadDeAddeAddEAddeadDEaDDEAdDeaDDeAD0000"==a;if(3===t||33===t){const a=await M(t);let s=C.k.value;if(!e)return null;let r=3===t?x.a.state.zktokenList.mainnet:x.a.state.zktokenList.rinkeby,n=t===s.c1ID?s.t1Address:s.t2Address;var i=r.filter(t=>t.address===n);let c=i.length>0?i[0]:null;if(!c)return null;let l=(await a.getTransactionFee("Transfer",e,c.id)).totalFee;try{var o;const t=await a.getState(C.O.coinbase);if(!t.committed||0==(null===(o=t.committed)||void 0===o?void 0:o.nonce)){const t=await a.getTransactionFee({ChangePubKey:{onchainPubkeyAuth:!1}},C.O.coinbase,c.id);l=l.add(t.totalFee)}}catch(t){console.error("Get ChangePubKey fee failed: ",t.message)}return l/10**c.decimals}if(12===t||512===t){let e=0;try{e=await k.getZKSpaceTransferGasFee(t,C.O.coinbase)}catch(t){console.warn("getZKSpaceTransferGasFeeError =",t)}return e}if(4==t||44==t){let s=this.realTransferAmount().toString();return await Object(N.h)(C.O.coinbase,a,e,s,t)/10**18}if(9==t||99==t)try{const e=await F.getLpTokenInfo(t,a);let s=await F.getTransferFee(C.O.coinbase,t,e);const r=18;return Number(s)/10**r}catch(t){console.warn("lp getTransferFeeerror:")}else if(n.a.isEthTokenAddress(a)||s||r||(14==t||514==t)&&a.toUpperCase()=="0X"+"E".repeat(40)){if(12===t||512===t){let e=0;try{e=await k.getZKSpaceTransferGasFee(t,C.O.coinbase)}catch(t){console.warn("getZKSpaceTransferGasFeeError =",t)}return e}if(9==t||99==t)try{const e=await F.getLpTokenInfo(t,a);let s=await F.getTransferFee(C.O.coinbase,t,e);const r=e?e.decimals:18;return Number(s)/10**r}catch(t){console.warn("lp getTransferFeeerror:")}const s=Object(U.b)(t);if(s){const a=await s.eth.estimateGas({from:C.O.coinbase,to:e}),r=await s.eth.getGasPrice();let i=new h.a(r).multipliedBy(a);if(7===t||77===t){let e=await this.getOPFee(t);i=i.plus(e)}return i.dividedBy(10**18).toString()}}return 0},async transferSpentGas(t){const e={1:100,2:1.9,3:100,4:100,5:1,6:60,7:.001,8:1.7,9:100,10:1,11:1,15:1,16:1,22:.02,33:100,44:50,66:60,77:.001,88:1.7,99:1,510:1,511:1,13:1,513:1,514:28572e-9,515:1,516:1},a={1:35e3,2:81e4,3:100,4:35e3,5:35e3,6:1500,7:21e3,8:51e3,9:75e3,10:28e3,11:1e5,13:646496,15:15e4,16:15e4,22:81e4,33:100,44:35e3,66:1500,77:21e3,88:51e3,99:75e3,510:16e3,511:1e5,513:646496,514:10560,515:15e4,516:15e4};if(3===t||33===t){const e=await M(t);let a=C.k.value,r=a.makerAddress?a.makerAddress:null;if(!r)return null;let i=3===t?x.a.state.zktokenList.mainnet:x.a.state.zktokenList.rinkeby,n=t===a.c1ID?a.t1Address:a.t2Address;var s=i.filter(t=>t.address===n);let o=s.length>0?s[0]:null;if(!o)return null;return((await e.getTransactionFee("Transfer",r,o.id)).totalFee/10**o.decimals).toFixed(6)}if(9==t||99==t){let e=C.k.value,a=t===e.c1ID?e.t1Address:e.t2Address;const s=await F.getLpTokenInfo(t,a);let r=await F.getTransferFee(C.O.coinbase,t,s);return(Number(r)/10**18).toFixed(6)}if(12===t||512===t){let e=C.k.value,a=0;try{a=await k.getZKSpaceTransferGasFee(t,C.O.coinbase?C.O.coinbase:e.makerAddress)}catch(t){return console.warn("getZKSpaceTransferGasFeeError =",t.message),0}return a.toFixed(6)}if(4==t||44==t){let e=this.realTransferAmount().toString(),a=C.k.value,s=a.makerAddress?a.makerAddress:null,r=t===a.c1ID?a.t1Address:a.t2Address;return(await Object(N.h)(C.O.coinbase,r,s,e,t)/10**18).toFixed(6)}if(e[t.toString()]&&a[t.toString()]&&{1:"ETH",2:"AETH",3:"ETH",4:"ETH",5:"ETH",6:"MATIC",7:"ETH",8:"ETH",11:"ETH",9:"ETH",10:"METIS",15:"BNB",16:"ETH",22:"AETH",33:"ETH",44:"ETH",66:"MATIC",77:"ETH",88:"ETH",99:"ETH",510:"METIS",511:"ETH",13:"ETH",513:"ETH",14:"ETH",514:"ETH",515:"BNB",516:"ETH"}[t.toString()]){let s=await this.getGasPrice(t.toString());if(s){let e=s*a[t.toString()];if(7===t||77===t){e+=await this.getOPFee(t)}return e/=10**18,e.toFixed(6).toString()}return(e[t.toString()]*a[t.toString()]/10**9).toFixed(6).toString()}return null},transferSpentTime(t,e){let a=0;return 1!==t&&4!==t&&5!==t||(a=30),2!==t&&22!==t||(a=15),10!==t&&510!==t||(a=15),3!==t&&33!==t&&12!==t&&512!==t||(a=5),6!==t&&66!==t||(a=15),7!==t&&77!==t||(a=15),8!==t&&88!==t||(a=5),9!==t&&99!==t||(a=15),13!==t&&513!==t||(a=20),16!==t&&516!==t||(a=30),4!==t&&44!==t||(a=180),4!==e&&44!==e||(a=180),1!==e&&5!==e||(a+=30),16!==e&&516!==e||(a+=30),2!==e&&22!==e||(a+=15),3!==e&&33!==e&&12!==e&&512!==e||(a+=5),6!==e&&66!==e||(a+=15),7!==e&&77!==e||(a+=15),8!==e&&88!==e||(a+=5),9!==e&&99!==e||(a+=15),10!==e&&510!==e||(a+=15),11!==e&&511!==e||(a+=5),13!==e&&513!==e||(a+=20),14!==e&&514!==e||(a+=15),a+"s"},transferOrginTime(t,e){if(2===t||22===t)return"~7 days";if(4===t||44===t)return"~24 hours";if(16===t||516===t)return"~7 days";if(3===t||33===t||12===t||512===t||14===t||514===t)return"~4 hours";if(6===t||66===t)return"~3 hours";if(7===t||77===t)return"~7 days";if(8===t||88===t)return"~5 hours";if(9===t||99===t)return"~4 hours";if(10===t||510===t)return"~7 days";if(13===t||513===t)return"~7 days";if(15===t||515===t)return"~15min";if(1===t||5===t){if(2===e||22===e)return"~10min";if(4===e||44===e)return"~10min";if(3===e||33===e||12===e||512===e||14===e||514===e)return"~10min";if(6===e||66===e)return"~5min";if(7===e||77===e)return"~5min";if(8===e||88===e)return"~20min";if(9===e||99===e)return"~10min";if(10===e||510===e)return"~5min";if(11===e||511===e)return"~20min";if(13===e||513===e)return"~10min";if(15===e||515===e)return"~15min";if(16===e||516===e)return"~10min"}},transferSavingTime(t,e){if(2===t||22===t)return" 7 days";if(3===t||33===t||12===t||512===t)return" 4 hours";if(6===t||66===t)return" 3 hours";if(7===t||77===t)return" 7 days";if(8===t||88===t)return" 4 hours";if(9===t||99===t)return" 4 hours";if(10===t||510===t)return" 7 days";if(4===t||44===t)return" 24 hours";if(16===t||516===t)return" 7 days";if(1===t||5===t){if(2===e||22===e)return" 9.25min";if(3===e||33===e||12===e||512===e)return" 9.5min";if(6===e||66===e)return" 4.25min";if(7===e||77===e)return" 9.25min";if(8===e||88===e)return" 19.95min";if(9===e||99===e)return" 9.25min";if(10===e||510===e)return" 4.25min";if(11===e||511===e)return" 19.95min";if(13===e||513===e)return" 10 min";if(4===e||44===e)return" 7 min"}return 13===t||513===t?" 7 days":15===t||515===t?" 35 minute":void 0},async transferOrginGas(t,e,a=!0){let s=0,r=C.k.value;if(2===t||22===t){let e=2===t?1:5;s=await this.getGasPrice(t)*(a?801420:666721)+await this.getGasPrice(e)*(a?234552:161063)}if(3===t||33===t){const e=await M(t);let a=r.makerAddress?r.makerAddress:null;if(a){const t=await e.getTransactionFee("Withdraw",a,0);s+=Number(t.totalFee)}}if(2===e||22===e){s+=await this.getGasPrice(2===e?1:5)*(a?218291:92e3)}if(3===e||33===e){s+=await this.getGasPrice(3===e?1:5)*(a?149072:62599)}return s/10**18},async transferOrginGasUsd(t,e,a=!0){let s=0,r=0,i=0,n=0;const o=C.k.value;if(2===t||22===t)try{let e=await this.getGasPrice(t),r=2===t?1:5;s=e*(a?801420:666721)+await this.getGasPrice(r)*(a?234552:161063)}catch(t){throw new Error("ar withdraw error")}if(3===t||33===t)try{const e=await M(t);let a=o.makerAddress;if(a){const t=await e.getTransactionFee("Withdraw",a,0);s+=Number(t.totalFee)}}catch(t){throw new Error("zksync withdraw error")}if(4===t||44===t){s=2e14;const e=4==t?1:5;s+=6e4*await this.getGasPrice(e)}if(6===t||66===t)try{const e=await this.getGasPrice(t);r+=32e3*e;const a=6===t?1:5,i=await this.getGasPrice(a);s+=48e4*i}catch(t){throw new Error("po withdraw error")}if(7===t||77===t)try{let e=await this.getGasPrice(t)*(a?115340:137e3),r=7===t?1:5,i=82e4*await this.getGasPrice(r),n=await this.getOPFee(t);s=e+i+Number(n)}catch(t){throw new Error("op withdraw error")}if(8===t||88===t)try{const e=8===t?1:5,r=await this.getGasPrice(e);s+=r*(a?91304:51e4)}catch(t){throw new Error("imx withdraw error")}if(9===t||99===t)try{let e=await F.getWithDrawFee(C.O.coinbase,t,o.tName);s+=Number(e)}catch(t){throw new Error("loopring withdraw error")}if(10===t||510===t)try{let e=await this.getGasPrice(t);i+=685768*e;const a=10===t?1:5,r=await this.getGasPrice(a);s+=21e3*r}catch(t){throw new Error("metis withdraw error")}if(12===t||512===t)try{let e=await k.getZKSpaceWithDrawGasFee(t,C.O.coinbase?C.O.coinbase:o.makerAddress);s+=Number(e*10**o.precision)}catch(t){throw new Error("zkspace withdraw error")}if(13===t||513===t){s=10123935*await this.getGasPrice(t)}if(15===t||515===t)try{const e=await this.getGasPrice(t);n+=15e4*e}catch(t){throw new Error("bsc withdraw error")}if(14===t||514===t){s=10560*await this.getGasPrice(t)}if(16===t||516===t)try{let e=await this.getGasPrice(t),r=16===t?1:5;s=e*(a?3e5:65e3)+await this.getGasPrice(r)*(a?16e4:115e3)}catch(t){throw new Error("ar withdraw error")}if(2===e||22===e)try{const t=await this.getGasPrice(2===e?1:5);s+=t*(a?218291:92e3)}catch(t){throw new Error("ar deposit error")}if(3===e||33===e)try{const t=await this.getGasPrice(3===e?1:5);s+=t*(a?149072:62599)}catch(t){throw new Error("zksync deposit error")}if(4===e||44===e){const t=4==e?1:5;s+=11e4*await this.getGasPrice(t)}if(6===e||66===e)try{const t=await this.getGasPrice(6===e?1:5);s+=77257*t}catch(t){throw new Error("po deposit error")}if(7===e||77===e)try{s+=await this.getGasPrice(7===e?1:5)*(a?77921:151e3)}catch(t){throw new Error("op deposit error")}if(8===e||88===e)try{const t=await this.getGasPrice(8===e?1:5);s+=t*(a?116893:126e3)}catch(t){throw new Error("imx deposit error")}if(9===e||99===e)try{s+=await this.getGasPrice(9===e?1:5)*(a?91795:75e3)}catch(t){throw new Error("loopring deposit error")}if(10===e||510===e)try{let t=await this.getGasPrice(10===e?1:5);s+=170617*t}catch(t){throw new Error("metis deposit error")}if(11===e||511===e)try{const t=await this.getGasPrice(11===e?1:5);s+=26e4*t}catch(t){throw new Error("metis deposit error")}if(12===e||512===e)try{s+=await this.getGasPrice(12===e?1:5)*(a?100325:16e4)}catch(t){throw new Error("zkspace deposit error")}if(13===e||513===e){s+=1787707*await this.getGasPrice(e)}if(15===e||515===e)try{let t=await this.getGasPrice(e);n+=15e4*t}catch(t){throw new Error("bsc deposit error")}if(14===e||514===e){s=await this.getGasPrice(14===e?1:5)*(a?117858:170617)}let c=new h.a(0);return s>0&&(c=c.plus(await Object(T.c)(new h.a(s).dividedBy(10**18)))),r>0&&(c=c.plus(await Object(T.c)(new h.a(r).dividedBy(10**18),"MATIC"))),n>0&&(c=c.plus(await Object(T.c)(new h.a(n).dividedBy(10**18),"BNB"))),i>0&&(c=c.plus(await Object(T.c)(new h.a(i).dividedBy(10**18),"METIS"))),c.toNumber()},async getTransferBalance(t,e,a,s,r=!1){if(3===t||33===t){var i={account:s,localChainID:t,stateType:"committed"};try{let t=await f.a.getZKAccountInfo(i);if(!t||!t.result||!t.result.balances)return 0;const e=t.result.balances;return e[a]?e[a]:0}catch(t){throw console.warn("error =",t),"getZKBalanceError"}}else{if(4===t||44===t){const a=Object(N.c)(t);let i=C.O.starkNet.starkNetAddress;if(r)i=Object(N.e)(s,t);else if(!i)return 0;return await Object(N.b)(i,e,a)}if(8===t||88===t){const e=new L.a(t),r=await e.getBalanceBySymbol(s,a);return Number(r+"")}if(9===t||99===t){const a=await F.getLpTokenInfo(t,e);return await F.getLoopringBalance(s,t,r,a)}if(11===t||511===t){const e=new H.a(t,new D.a(O.a.value.walletPayload.provider),"MetaMask");return await e.getBalanceUsdc(s,!1)}if(12!==t&&512!==t){let a=0;if(n.a.isEthTokenAddress(e)){const e=Object(U.b)(t);a=Number(await e.eth.getBalance(s))||0}else{var o=function(t,e,a){const s=a?Object(U.a)(t):Object(U.b)(t);if(s){const t=new s.eth.Contract(I,e);return t||(console.warn("getLocalCoinContract_ecourseContractInstance"),null)}return console.warn("getLocalCoinContract_noWeb3"),null}(t,e,0);if(!o)throw"getBalance_tokenContractError";a=await o.methods.balanceOf(s).call()}return a}var c={account:s,localChainID:t};try{let a=C.k.value,s=await k.getZKspaceBalance(c);if(!s)return 0;const r=(12===t?x.a.state.zksTokenList.mainnet:x.a.state.zksTokenList.rinkeby).find(t=>t.address==e),i=s.find(t=>t.id==r.id);return i?i.amount*10**a.precision:0}catch(t){throw new Error("getZKSBalanceError,"+t.message)}}},async getGasPrice(t){if(33===t||3===t)return null;if(K.indexOf(t.toString())>-1){if(!p.a.localProvider[t])return null;let e=await d.a.post(p.a.localProvider[t],{jsonrpc:"2.0",method:"eth_gasPrice",params:[],id:0});return 200===e.status?parseInt(e.data.result):null}return null},async getOPFee(t){const e=new m.ethers.providers.JsonRpcProvider(p.a.localProvider[t]),a=Object(c.getContractFactory)("OVM_GasPriceOracle").attach(c.predeploys.OVM_GasPriceOracle).connect(e),s=Object(c.getContractFactory)("WETH9").attach(c.predeploys.WETH9).connect(e),r=C.x.selectMakerInfo.makerAddress,i=m.ethers.utils.parseUnits("5",18),n=await a.getL1Fee(m.ethers.utils.serializeTransaction({...await s.populateTransaction.transfer(r,i),gasPrice:await e.getGasPrice(),gasLimit:21e3}));return Number(n)},async getTokenConvertUsd(t){try{return(await Object(T.c)(1,t)).toNumber()}catch(t){throw t.message}},realTransferOPID(){let t=C.x.toChainID;return 9e3+Number(t)+""},realTransferAmount(){let t=C.x.fromChainID,e=C.x.toChainID,a=C.k.value,s=new h.a(C.x.transferValue).plus(new h.a(a.tradingFee));if(!t||!s)return 0;let r=new h.a(s).multipliedBy(new h.a(10**a.precision)).toFixed();const i=9e3+Number(e)+"",n=b.a.getTAmountFromRAmount(t,r,i);return n.state?new h.a(n.tAmount).dividedBy(new h.a(10**a.precision)):s},async getTokenList(t,e=10){let a=14===t?x.a.state.zk2tokenList.mainnet:x.a.state.zk2tokenList.rinkeby;return 0==a.length&&(await n.a.sleep(300),--e>=0)?await this.getTokenList(t,e):a},getMakerInfo:async function(t,e=10){let a=x.a.getters.realSelectMakerInfo;return!a&&(await n.a.sleep(300),--e>=0)?await this.getMakerInfo(t,e):a}},Y=a("fc9c");const G={ETH:a("87a2"),USDC:a("d99b"),USDT:a("65ce"),TUSD:a("f33f"),MCO:a("3e28"),METIS:a("520b"),ZKS:a("ad47"),LRC:a("3536"),BNB:a("54f8"),DAI:a("2007")};var z=t=>t?(t=t.toUpperCase(),G[t]||""):"",$=async function(t,e,a,s){if(3==t||33==t){var r={account:s,localChainID:t,stateType:"committed"};try{let t=await f.a.getZKAccountInfo(r);if(!t||!t.result)return 0;return t.result.nonce}catch(t){return console.warn("error =",t),0}}else if(4===t||44===t)try{return Number(await Object(N.g)())}catch(t){return 0}else{if(8===t||88===t)return 0;if(9===t||99===t){const e=await F.getAccountStorageID(s,t,0);return e&&e.offchainId>0?(e.offchainId-1)/2:0}if(11===t||511===t)return 0;if(12===t||512===t){const e=await k.getZKAccountInfo(t,s);return e?e.nonce:0}{let e=0;const a=Object(U.b)(t);try{return e=await a.eth.getTransactionCount(s,"pending"),e}catch(t){return console.warn("getWeb3NonceError =",t),0}}}};async function W(t){const e=C.k.value;try{const a=await async function(t,e,a,s,r){try{if(!t)return 0;return(await j.getTransferBalance(e,a,s,t,!0)/10**r).toFixed(6)}catch(t){return 0}}(e.makerAddress,e.c2ID,e.t2Address,e.tName,e.precision);if(a>0){return!new h.a(.95*a).lt(t)||(n.a.showMessage("The liquidity is not enough, please try it later.","error"),!1)}return!0}catch(t){return!0}}var Z=a("6f1f"),Q=a("4260"),X=a("c370"),q=a("888e");const J=a("eec4"),tt=Z.b,{walletDispatchersOnSwitchChain:et}=X.b;var at={name:"Transfer",components:{ObSelect:s.g,CommBtn:s.b,ObSelectChain:s.h,SvgIconThemed:s.j,CommDialog:s.c,RaiseUpSelect:s.i,HelpIcon:s.e},data:()=>({isCrossAddress:!1,selectedXVMToken:"ETH",isRaiseUpXVMSelectVisible:!1,crossAddressReceipt:"",isRaiseUpSelectVisible:!1,selectedToken:"ETH",timeSpenLoading:!1,gasCostLoading:!1,originGasLoading:!1,saveTimeLoading:!1,c1Balance:Number(0).toFixed(6),c2Balance:Number(0).toFixed(6),originGasCost:0,makerInfoList:"",fromChainArray:[],toChainArray:[],tokenInfoArray:[],XVMTokenInfoArray:[],transferValue:"",exchangeToUsdPrice:0,makerMaxBalance:0,formWith:0,bottomItemWith:0}),asyncComputed:{async userMaxPrice(){if(!O.b.value)return C.k.value.maxPrice;let t=C.k.value;if(void 0===t.precision)return"0";if(!this.fromBalance)return"0";let e=await j.getTransferGasLimit(C.x.fromChainID,t.makerAddress,t.t1Address)||0,a=b.a.getDigitByPrecision(t.precision),s=10**-a,r=.001;[3,33].includes(C.x.fromChainID)||(r=0);let i=new h.a(this.fromBalance).minus(new h.a(t.tradingFee)).minus(new h.a(s)).minus(new h.a(e)).minus(new h.a(r)),n=i.decimalPlaces(a,h.a.ROUND_DOWN)>0?i.decimalPlaces(a,h.a.ROUND_DOWN):new h.a(0),o=n.comparedTo(new h.a(t.maxPrice))>0?new h.a(t.maxPrice):n;return 9!=t.c1ID&&99!=t.c1ID&&9!=t.c2ID&&99!=t.c2ID||18!=t.precision||(o=o.decimalPlaces(5,h.a.ROUND_DOWN)),o.toString()}},computed:{isErrorAddress(){if(!this.crossAddressReceipt||!this.isSupportXVM)return!1;if(4===C.x.toChainID||44===C.x.toChainID)return!1;return!new RegExp(/^0x[a-fA-F0-9]{40}$/).test(this.crossAddressReceipt)},isSupportXVM:()=>n.a.isSupportEVMContract(),XVMTokens(){return this.XVMTokenInfoArray.map(t=>({...t,icon:t.icon||"tokenLogo",label:t.token,value:t.token,iconType:"img"}))},transferDataState:()=>C.x,web3State:()=>C.O,isLogin:()=>O.b.value,isShowExchangeIcon(){return!this.queryParams.fixed&&11!=C.x.toChainID&&511!=C.x.toChainID&&!this.starkMid},isStarknet(){return"STARKNET"===this.refererUpper},refererUpper(){const{href:t}=window.location,e=t.match(/referer=(\w*)/i);return null!=e&&e[1]?e[1].toUpperCase():""},tokens(){return this.tokenInfoArray.map(t=>({...t,icon:t.icon||"tokenLogo",label:t.token,value:t.token,iconType:"img"}))},starkAddress(){var t=C.O.starkNet.starkNetAddress;return t||""},shortStarkAddress(){var t=C.O.starkNet.starkNetAddress;return t&&t.length>5?t.substr(0,4)+"..."+t.substr(t.length-4,4):"not connected"},starkMid(){const t=C.x.fromChainID,e=C.x.toChainID;return(4==t||44==t)&&1!=e&&5!=e&&2!=e&&22!=e&&6!=e&&66!=e&&7!=e&&77!=e},queryParams(){const{query:t}=this.$route,{referer:e}=t;let{token:a,tokens:s,amount:r,fixed:i}=t;r=new h.a(r),s=s?s.split(","):[];const o=t=>{if(!t)return 0;for(const e in tt)if(n.a.equalsIgnoreCase(e,t))return tt[e];return 0};let c=o(t.source),l=o(t.dest);const d=t=>{const e=[];if(!t)return e;for(const a of t.split(",")){const t=o(a);t&&e.push(t)}return e};let u=d(t.sources),m=d(t.dests);const p=t=>{const e=[],a=[];if(this.makerInfoList){for(const t of this.makerInfoList)-1==a.indexOf(t.c1ID)&&a.push(t.c1ID),-1==a.indexOf(t.c2ID)&&a.push(t.c2ID);for(const s of t)a.indexOf(s)>-1&&-1==e.indexOf(s)&&e.push(s)}return 0==e.length?a:e};if(u=p(u),m=p(m),1==u.length&&1==m.length&&u[0]==m[0]&&(u=[],m=[]),c>0&&u.length>0&&-1==u.indexOf(c)&&(c=0),l>0&&m.length>0&&-1==m.indexOf(l)&&(l=0),c<=0&&u.length>0&&(c=u[0]),l<=0&&m.length>0&&(l=m[0]),1==m.length&&u.length>1){const t=u.indexOf(m[0]);t>-1&&(u.splice(t,1),c==m[0]&&(c=u[0]))}m.length>0&&m[0]==c&&(c=0),c==l&&(l=0);const f=[];if(this.makerInfoList)for(const t of s)this.makerInfoList.findIndex(e=>n.a.equalsIgnoreCase(e.tName,t))>-1&&f.push(t);var g;a||(a=(null===(g=s)||void 0===g?void 0:g[0])||"");return r=1==r.comparedTo(0)?r.toFixed():"",i=1==i,{referer:e,source:c,dest:l,token:a,tokens:f,amount:r,fixed:i,sources:u,dests:m}},sendBtnInfo(){let t=C.k.value,e=b.a.getDigitByPrecision(t.precision),a=10**-e,s=new h.a(this.fromBalance).minus(new h.a(t.tradingFee)).minus(new h.a(a)),r=s.decimalPlaces(e,h.a.ROUND_DOWN)>0?s.decimalPlaces(e,h.a.ROUND_DOWN):new h.a(0),i=new h.a(this.maxPrice),o=new h.a(this.userMinPrice),c=new h.a(this.transferValue);const l={text:"CONNECT A WALLET",disabled:null};return O.b.value&&(l.text="SEND",(c.comparedTo(0)<0||c.comparedTo(this.userMaxPrice)>0)&&(l.disabled="disabled"),c.comparedTo(r)>0?l.text="INSUFFICIENT FUNDS":c.comparedTo(i)>0?(l.text="INSUFFICIENT LIQUIDITY",l.disabled="disabled"):c.comparedTo(o)<0||c.comparedTo(0)>0&&this.toValue<=0?(l.text="INSUFFICIENT FUNDS",l.disabled="disabled"):this.toValue>0&&this.toValue>this.makerMaxBalance&&(l.text="INSUFFICIENT LIQUIDITY",l.disabled="disabled"),(this.isShowUnreachMinInfo||this.isShowMax)&&(l.text="SEND",l.disabled="disabled"),n.a.isSupportEVMContract()&&this.isCrossAddress&&(!this.crossAddressReceipt||this.isErrorAddress)&&(l.text="SEND",l.disabled="disabled")),l},isShowMax(){return new h.a(this.transferValue).comparedTo(new h.a(C.k.value.maxPrice))>0},isShowUnreachMinInfo(){if(O.b.value&&this.transferValue){let t=new h.a(this.userMinPrice),e=new h.a(this.transferValue);const a=new h.a(this.fromBalance);return e.comparedTo(t)<0&&e.comparedTo(a)<0}return!1},maxPrice:()=>C.k.value.maxPrice,userMinPrice:()=>C.k.value.minPrice,realTransferValue:()=>j.realTransferOPID(),realPtext(){let t=b.a.getPTextFromTAmount(C.x.fromChainID,this.realTransferValue);return t.state?t.pText:"0"},toValueToolTip(){var t;let e=(null===(t=C.k.value)||void 0===t?void 0:t.gasFee)||0;return e=parseFloat((e/10).toFixed(2)),`Sender pays a ${e}% trading fee for each transfer.`},securityToolTip:()=>"In Orbiter, each transaction will have a security code. The code is attached to the end of the transfer amount in the form of a four-digit number to specify the necessary information when you transfer. If a Maker is dishonest, the security code will become the necessary evidence for you to claim money from margin contracts.",timeSpenToolTip(){return`It takes about ${this.originTimeSpent?this.originTimeSpent.replace("~",""):this.originTimeSpent} moving funds using the native bridge, and it only takes about ${this.timeSpent?this.timeSpent.replace("~",""):this.timeSpent} using Orbiter.`},gasFeeToolTip(){return`<b>Fees using the native bridge costs around:</b><br />Gas Fee: $${this.originGasCost.toFixed(2)}<br />`+(" <br /><b>Fees using Orbiter costs:</b><br />Trading Fee: $"+(this.orbiterTradingFee*this.exchangeToUsdPrice).toFixed(2))+("<br />Withholding Fee: $"+(C.k.value?(C.k.value.tradingFee*this.exchangeToUsdPrice).toFixed(2):0))+`<br /><br /><b>Total: $${(this.gasTradingTotal*this.exchangeToUsdPrice).toFixed(2)}</b>`},toValue(){return""===this.transferValue||""===C.k.value?"0":b.a.getToAmountFromUserAmount(new h.a(this.transferValue).plus(new h.a(C.k.value.tradingFee)),C.k.value,!1)},fromBalanceLoading(){return null===this.fromBalance},toBalanceLoading(){return null===this.toBalance},fromBalance(){return C.x.selectMakerInfo.c1ID===C.x.fromChainID?this.c1Balance:this.c2Balance},toBalance(){return C.x.selectMakerInfo.c1ID===C.x.fromChainID?this.c2Balance:this.c1Balance},timeSpent:()=>j.transferSpentTime(C.x.fromChainID,C.x.toChainID),originTimeSpent:()=>j.transferOrginTime(C.x.fromChainID,C.x.toChainID),orbiterTradingFee(){let t=C.k.value,e=new h.a(this.transferValue?this.transferValue:0).multipliedBy(new h.a(t.gasFee)).dividedBy(new h.a(1e3)),a=b.a.getDigitByPrecision(t.precision);return e.decimalPlaces(a,h.a.ROUND_UP)},gasTradingTotal(){let t=C.k.value;return new h.a(t.tradingFee).plus(this.orbiterTradingFee).toFixed(6)},gasSavingMax(){let t=this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice;t<0&&(t=0);return"$"+t.toFixed(2).toString()},gasSavingMin(){const t=this.gasCost();let e=this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice-t;e<0&&(e=0);return"$"+e.toFixed(2).toString()},showSaveGas(){return this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice>0},saveGasLoading(){return this.originGasLoading},transferSavingTime(){var t;return null===(t=this.originTimeSpent)||void 0===t?void 0:t.replace("~","")}},watch:{queryParams:function(t){this.transferValue<=0&&(this.transferValue=t.amount),this.initChainArray()},makerInfoList:function(t,e){""===e&&""!==t&&this.initChainArray()},crossAddressReceipt:function(t){Object(C.z)(t)},selectedToken:function(t){this.selectedXVMToken=t,Object(C.F)(t)},selectedXVMToken:function(t){Object(C.J)(t)},isCrossAddress:function(t){Object(C.B)(t)},"web3State.starkNet.starkNetAddress":function(t){if(t){let t=C.x.selectMakerInfo,e=t.c1ID,a=t.c2ID;4!=e&&44!=e&&4!=a&&44!=a||(this.c1Balance=null,this.c2Balance=null,j.getTransferBalance(t.c1ID,t.t1Address,t.tName,C.O.coinbase).then(e=>{this.c1Balance=(e/10**t.precision).toFixed(6)}).catch(t=>{this.c1Balance=Number(0).toFixed(6),console.warn(t)}),j.getTransferBalance(t.c2ID,t.t2Address,t.tName,C.O.coinbase).then(e=>{this.c2Balance=(e/10**t.precision).toFixed(6)}).catch(t=>{this.c2Balance=Number(0).toFixed(6),console.warn(t)}))}},compatibleGlobalWalletConf:function(t,e){if(t&&"0x"!==t||(this.c1Balance=Number(0).toFixed(6),this.c2Balance=Number(0).toFixed(6)),e!==t&&"0x"!==t){this.c1Balance=null,this.c2Balance=null;let t=C.x.selectMakerInfo;j.getTransferBalance(t.c1ID,t.t1Address,t.tName,O.a.value.walletPayload.walletAddress).then(e=>{this.c1Balance=(e/10**t.precision).toFixed(6)}).catch(t=>{console.warn(t)}),j.getTransferBalance(t.c2ID,t.t2Address,t.tName,O.a.value.walletPayload.walletAddress).then(e=>{this.c2Balance=(e/10**t.precision).toFixed(6)}).catch(t=>{console.warn(t)})}else this.c1Balance=Number(0).toFixed(6),this.c2Balance=Number(0).toFixed(6)},"transferDataState.selectMakerInfo":async function(t,e){if(this.updateExchangeToUsdPrice(),this.getMakerMaxBalance(),4==t.c1ID||44==t.c1ID||4==t.c2ID||44==t.c2ID){const{starkNetIsConnect:t,starkNetAddress:e}=C.O.starkNet;if(!(t&&e||(await Object(N.a)(),C.O.starkNet.starkIsConnected||C.O.starkNet.starkNetAddress))){const t=this.makerInfoList[0];Object(C.E)(t.c1ID);const{path:e,query:a}=this.$route;for(const s in tt)if(tt[s]==t.c1ID&&!n.a.equalsIgnoreCase(a.source,s)){this.$router.replace({path:e,query:{...a,source:s}});break}}}O.b.value&&e!==t&&(this.c1Balance=null,this.c2Balance=null,9!=t.c1ID&&99!=t.c1ID&&9!=t.c2ID&&99!=t.c2ID||this.checkTransferValue(),j.getTransferBalance(t.c1ID,t.t1Address,t.tName,O.a.value.walletPayload.walletAddress).then(e=>{this.c1Balance=(e/10**t.precision).toFixed(6)}).catch(t=>{console.warn(t)}),j.getTransferBalance(t.c2ID,t.t2Address,t.tName,O.a.value.walletPayload.walletAddress).then(e=>{this.c2Balance=(e/10**t.precision).toFixed(6)}).catch(t=>{this.c2Balance=0,console.warn(t)}))},"transferDataState.fromChainID":function(t){if(this.toChainArray=[],this.makerInfoList.filter(e=>{e.c1ID===t&&-1===this.toChainArray.indexOf(e.c2ID)&&(this.queryParams.dests.length<=0||this.queryParams.dests.indexOf(e.c2ID)>-1)&&this.toChainArray.push(e.c2ID),e.c2ID===t&&-1===this.toChainArray.indexOf(e.c1ID)&&(this.queryParams.dests.length<=0||this.queryParams.dests.indexOf(e.c1ID)>-1)&&this.toChainArray.push(e.c1ID)}),1!=t&&5!=t&&2!=t&&22!=t&&6!=t&&66!=t&&7!=t&&77!=t){if(-1!=this.toChainArray.indexOf(4)){let t=this.toChainArray.indexOf(4);this.toChainArray.splice(t,1)}if(-1!=this.toChainArray.indexOf(44)){let t=this.toChainArray.indexOf(44);this.toChainArray.splice(t,1)}}if(-1===this.toChainArray.indexOf(C.x.toChainID)){let t=this.toChainArray[0];this.queryParams.dest>0&&this.toChainArray.indexOf(this.queryParams.dest)>-1&&(t=this.queryParams.dest),Object(C.I)(t)}else{if(this.tokenInfoArray=[],this.makerInfoList.filter(t=>{const{fromChainID:e,toChainID:a}=C.x,s=(s,r)=>{if(s!==e||r!==a)return;const{tokens:i}=this.queryParams;i.length>0&&-1==i.findIndex(e=>n.a.equalsIgnoreCase(e,t.tName))||-1==this.tokenInfoArray.findIndex(e=>e.token===t.tName)&&this.tokenInfoArray.push({icon:z(t.tName),token:t.tName,amount:0})};s(t.c1ID,t.c2ID),s(t.c2ID,t.c1ID)}),-1===this.tokenInfoArray.findIndex(t=>t.token==C.x.selectTokenInfo.token)){let t=this.tokenInfoArray.findIndex(t=>n.a.equalsIgnoreCase(t.token,this.queryParams.token));t<0&&(t=0),Object(C.K)(this.tokenInfoArray[t])}else this.makerInfoList.filter(t=>{(t.c1ID===C.x.fromChainID&&t.c2ID===C.x.toChainID&&t.tName===C.x.selectTokenInfo.token||t.c2ID===C.x.fromChainID&&t.c1ID===C.x.toChainID&&t.tName===C.x.selectTokenInfo.token)&&Object(C.H)(t)});t&&this.updateOriginGasCost()}if(t){let t=this;this.gasCostLoading=!0,j.transferSpentGas(C.x.fromChainID).then(e=>{Object(C.G)(e),t.gasCostLoading=!1}).catch(e=>{t.gasCostLoading=!1,console.warn("GetGasFeeError =",e)})}this.setDefaultTokenWhenNotSupport(),this.updateXVMTokenInfoArray(t,C.x.toChainID)},"transferDataState.toChainID":function(t){if(this.tokenInfoArray=[],this.makerInfoList.filter(t=>{const{fromChainID:e,toChainID:a}=C.x,s=(s,r)=>{if(s!==e||r!==a)return;const{tokens:i}=this.queryParams;i.length>0&&-1==i.findIndex(e=>n.a.equalsIgnoreCase(e,t.tName))||-1==this.tokenInfoArray.findIndex(e=>e.token===t.tName)&&this.tokenInfoArray.push({icon:z(t.tName),token:t.tName,amount:0})};s(t.c1ID,t.c2ID),s(t.c2ID,t.c1ID)}),-1===this.tokenInfoArray.findIndex(t=>t.token==C.x.selectTokenInfo.token)){let t=this.tokenInfoArray.findIndex(t=>n.a.equalsIgnoreCase(t.token,this.queryParams.token));t<0&&(t=0),Object(C.K)(this.tokenInfoArray[t])}else this.makerInfoList.filter(t=>{(t.c1ID===C.x.fromChainID&&t.c2ID===C.x.toChainID&&t.tName===C.x.selectTokenInfo.token||t.c2ID===C.x.fromChainID&&t.c1ID===C.x.toChainID&&t.tName===C.x.selectTokenInfo.token)&&Object(C.H)(t)});t&&this.updateOriginGasCost(),this.setDefaultTokenWhenNotSupport(),this.updateXVMTokenInfoArray(C.x.fromChainID,t)},"transferDataState.selectTokenInfo":function(t){if(this.makerInfoList.filter(e=>{(e.c1ID===C.x.fromChainID&&e.c2ID===C.x.toChainID&&e.tName===t.token||e.c2ID===C.x.fromChainID&&e.c1ID===C.x.toChainID&&e.tName===t.token)&&Object(C.H)(e)}),this.updateOriginGasCost(),t){let t=this;this.gasCostLoading=!0,j.transferSpentGas(C.x.fromChainID).then(e=>{Object(C.G)(e),t.gasCostLoading=!1}).catch(e=>{t.gasCostLoading=!1,console.warn("GetGasFeeError =",e)})}},transferValue:function(t){C.x.transferValue!==t&&Object(C.L)(t)}},async mounted(){const t=async()=>{j.getTokenConvertUsd("ETH").then(t=>Object(C.A)(t)).catch(t=>console.warn("GetETHPriceError =",t))},e=(t=1)=>{const e=C.x.selectMakerInfo,a=e[`c${t}ID`],s=e[`t${t}Address`],r=e.tName;this[`c${t}Balance`]=null,j.getTransferBalance(a,s,r,C.O.coinbase||O.a.value.walletPayload.walletAddress).then(a=>this[`c${t}Balance`]=(a/10**e.precision).toFixed(6)).catch(()=>this[`c${t}Balance`]=Number(0).toFixed(6))};Object(q.e)(()=>{C.x.selectMakerInfo&&O.b.value&&(e(),e(2))}),await t(),await this.getMakerMaxBalance(),setInterval(()=>{t(),this.getMakerMaxBalance(),this.updateExchangeToUsdPrice()},1e4),setInterval(()=>{this.refreshUserBalance(!1)},6e4),this.transferValue=this.queryParams.amount;const a=await i({maker:"0"},!0);0===a.code&&(this.makerInfoList=a.data),console.log(this.supportXVM,"==this.supportXVM"),this.supportXVM&&console.log("support evm"),Object(C.B)(this.isCrossAddress),Object(C.z)(this.crossAddressReceipt),Object(C.F)(this.selectedToken),Object(C.J)(this.selectedXVMToken);const s=this;J().listenTo(document.getElementsByClassName("bottomItem"),(function(t){const e=t.offsetWidth;s.bottomItemWith=e}))},created(){this.replaceStarknetWrongHref()},activated(){this.refreshUserBalance()},methods:{updateXVMTokenInfoArray(t,e){this.XVMTokenInfoArray=[];const a=r.b.find(e=>e.chainId===t);if(a){const t=a.target.find(t=>t.symbol===this.selectedToken);if(t){const a=t.toChains.filter(t=>t.chainId===e);a.length&&(this.selectedXVMToken=a[0].symbol);for(const t of a)this.XVMTokenInfoArray.push({icon:z(t.symbol),token:t.symbol,amount:0})}}},selectedXVMTokenChange(t){this.selectedXVMToken=t},replaceStarknetWrongHref(){let t=!1;const{href:e}=window.location;if(e.match(/refer=starknet/i)&&(t=!0),t){const{path:t,query:e}=this.$route;delete e.dests,delete e.refer;try{window.location.href=t+"?referer=starknet&dest=starknet&fixed=1"}catch(t){}}},naNString:t=>"string"==typeof t&&"NaN"===t?0:t,showChainName(t=!0){const e=C.x[(t?"from":"to")+"ChainID"],a=this.$env.localChainID_netChainID[e],s=n.a.chainName(e,a);return this.bottomItemWith<280&&s.length>5?n.a.shortChainName(s):s},showChainIcon(t=!0){const e=C.x[(t?"from":"to")+"ChainID"];return Object(Q.a)(e)},selectedTokenChange(t){const e=this.tokens.find(e=>e.value==t);this.selectedToken=t||"ETH",Object(C.K)(e||{}),this.updateXVMTokenInfoArray(C.x.fromChainID,C.x.toChainID)},setDefaultTokenWhenNotSupport(){this.$nextTick(()=>{if(!this.tokenInfoArray.some(t=>t.token==this.selectedToken))if(this.tokenInfoArray.length>0){const t=this.tokenInfoArray[0];this.selectedTokenChange(t.token||"ETH")}else this.selectedTokenChange("ETH")})},initChainArray(){this.fromChainArray=[],this.makerInfoList.filter(t=>{11!=t.c1ID&&511!=t.c1ID&&11!=t.c2ID&&511!=t.c2ID&&(-1===this.fromChainArray.indexOf(t.c1ID)&&(this.queryParams.sources.length<=0||this.queryParams.sources.indexOf(t.c1ID)>-1)&&this.fromChainArray.push(t.c1ID),-1===this.fromChainArray.indexOf(t.c2ID)&&(this.queryParams.sources.length<=0||this.queryParams.sources.indexOf(t.c2ID)>-1)&&this.fromChainArray.push(t.c2ID))});let t=this.fromChainArray[0];if(this.queryParams.source)for(const e of this.fromChainArray)if(e==this.queryParams.source){t=e;break}Object(C.E)(t)},fromMax(){if(!O.b.value)return void(this.transferValue="0");let t=C.k.value,e=b.a.getDigitByPrecision(t.precision),a=10**-e,s=new h.a(this.fromBalance).minus(new h.a(t.tradingFee)).minus(new h.a(a)),r=s.decimalPlaces(e,h.a.ROUND_DOWN)>0?s.decimalPlaces(e,h.a.ROUND_DOWN):new h.a(0),i=r.comparedTo(new h.a(this.userMaxPrice))>0?new h.a(this.userMaxPrice):r;9!=t.c1ID&&99!=t.c1ID&&9!=t.c2ID&&99!=t.c2ID||18!=t.precision||(i=i.decimalPlaces(5,h.a.ROUND_DOWN)),this.transferValue=i.toString()},transfer_mid(){const{fromChainID:t,toChainID:e,selectTokenInfo:a}=C.x;Object(C.E)(e),Object(C.K)(a),this.$nextTick(()=>{let e=t;-1==this.toChainArray.indexOf(e)&&(e=this.toChainArray[0]),Object(C.I)(e)});const{path:s,query:r}=this.$route;let{source:i,dest:n,sources:o,dests:c}=r;if(i||n||o||c){const t={...r,source:n||"",dest:i||"",sources:c||"",dests:o||""},e=(t,e)=>!(""!=t&&null!=t||""!=e&&null!=e)||t==e;e(t.source,r.source)&&e(t.dest,r.dest)&&e(t.sources,r.sources)&&e(t.dests,r.dests)||this.$router.replace({path:s,query:t})}},selectToken(){this.tokenInfoArray.length<=1||this.showCustomPopupClick()},getTokenInfo(t){Object(C.K)(t)},showCustomPopupClick(){this.$refs.SelectTokenPopupRef.showCustom()},closeSelectPopupClick(){this.$refs.SelectTokenPopupRef.maskClick()},changeFromChain(){this.queryParams.sources.length<=1||this.showFromChainPopupClick()},getFromChainInfo(t){Object(C.E)(t.localID);const{path:e,query:a}=this.$route;for(const s in tt)if(tt[s]==t.localID&&!n.a.equalsIgnoreCase(a.source,s)){this.$router.replace({path:e,query:{...a,source:s}});break}this.setDefaultTokenWhenNotSupport()},showFromChainPopupClick(){this.$refs.SelectFromChainPopupRef.showCustom()},closeFromChainPopupClick(){this.$refs.SelectFromChainPopupRef.maskClick()},changeToChain(){this.queryParams.dests.length<=1||this.showToChainPopupClick()},getToChainInfo(t){Object(C.I)(t.localID);const{path:e,query:a}=this.$route;for(const s in tt)if(tt[s]==t.localID&&!n.a.equalsIgnoreCase(a.dest,s)){this.$router.replace({path:e,query:{...a,dest:s}});break}this.setDefaultTokenWhenNotSupport()},showToChainPopupClick(){this.$refs.SelectToChainPopupRef.showCustom()},closeToChainPopupClick(){this.$refs.SelectToChainPopupRef.maskClick()},checkTransferValue(){let t=C.k.value.c1ID,e=C.k.value.c2ID;this.transferValue=9==t||99==t||9==e||99==e?18===C.k.value.precision?this.transferValue.replace(/^\D*(\d*(?:\.\d{0,5})?).*$/g,"$1"):this.transferValue.replace(/^\D*(\d*(?:\.\d{0,2})?).*$/g,"$1"):18===C.k.value.precision?this.transferValue.replace(/^\D*(\d*(?:\.\d{0,6})?).*$/g,"$1"):this.transferValue.replace(/^\D*(\d*(?:\.\d{0,2})?).*$/g,"$1")},async sendTransfer(){if(o.a.checkIsBitKeep())this.$notify.error({title:"Bitkeep is not supported and please try another wallet.",duration:3e3});else if(!this.sendBtnInfo||"disabled"!==this.sendBtnInfo.disabled)if(O.b.value){if(!o.a.checkPrice(this.transferValue))return void this.$notify.error({title:"The format of input amount is incorrect",duration:3e3});if(null===this.fromBalance)return void this.$notify.error({title:"Waiting for account balance to be obtained",duration:3e3});const{fromChainID:t,toChainID:e}=C.x;let a=C.k.value,s=await $(C.x.fromChainID,C.k.value.t1Address,C.k.value.tName,O.a.value.walletPayload.walletAddress);if(!await async function(t){let e;try{if(e=await d.a.get(p.b+"/chains"),200==e.status){let a=e.data,s=Object.values(a);if(s&&s.length){let e=s.find(e=>e.chainID==t);if(null!=e)return!e.net_state}}return!0}catch(t){return!0}}(C.x.fromChainID))return void this.$notify.error({title:`Affected by the ${a.c1Name} interface issue, the transfer from ${a.c1Name} is suspended.`,duration:3e3});if(s>8999)return void this.$notify.error({title:"Address with the nonce over 9000 are not supported by Orbiter",duration:3e3});if(!this.transferValue||new h.a(this.transferValue).comparedTo(new h.a(this.userMaxPrice))>0||new h.a(this.transferValue).comparedTo(new h.a(this.userMinPrice))<0)return void this.$notify.error({title:`Orbiter can only support minimum of ${this.userMinPrice} and maximum of ${this.maxPrice} ${C.x.selectTokenInfo.token} on transfers.`,duration:3e3});if(8==e||88==e){const t=new L.a(e),a=O.a.value.walletPayload.walletAddress;a&&await t.ensureUser(a)}if(11==e||511==e){const t=new H.a(e,new D.a(O.a.value.walletPayload.provider),"MetaMask"),a=await t.getAccount(O.a.value.walletPayload.walletAddress);Object(C.D)({type:"0x02",value:t.conactStarkKeyPositionId("0x"+a.starkKey,a.positionId)})}else if(4==e||44==e){const{starkIsConnected:t,starkNetAddress:a,starkChain:s}=C.O.starkNet;if(!s||"unlogin"==s)return void n.a.showMessage("please connect StarkNet Wallet","error");if(4==e&&(44==s||"localhost"==s))return void n.a.showMessage("please switch StarkNet Wallet to mainnet","error");if(44==e&&(4==s||"localhost"==s))return void n.a.showMessage("please switch StarkNet Wallet to testNet","error");if(!a||!t)return void n.a.showMessage("please connect StarkNet Wallet","error");Object(C.D)({type:"0x03",value:a})}else Object(C.D)(null);if(4==t||44==t){const{starkChain:e}=C.O.starkNet;if(!e||"unlogin"==e)return void n.a.showMessage("please connect StarkNet Wallet","error");if(4==t&&(44==e||"localhost"==e))return void n.a.showMessage("please switch StarkNet Wallet to mainnet","error");if(44==t&&(4==e||"localhost"==e))return void n.a.showMessage("please switch StarkNet Wallet to testNet","error")}else if(O.a.value.walletPayload.networkId.toString()!==this.$env.localChainID_netChainID[C.x.fromChainID])if(O.a.value.walletType===X.a)try{await n.a.ensureWalletNetwork(C.x.fromChainID)}catch(t){return void n.a.showMessage(t.message,"error")}else{const t=et[O.a.value.walletType];if(t){const e=()=>this.$emit("stateChanged","2");return void t(O.a.value.walletPayload.provider,()=>e.bind(this))}}const i=(n.a.isExecuteXVMContract()?r.b.find(e=>e.chainId===t).contractAddress:a.makerAddress).toLowerCase();let c=n.a.shortAddress(i);4!=t&&44!=t||(c=n.a.shortAddress(Object(N.e)(a.makerAddress,t)));const{isCrossAddress:l,crossAddressReceipt:u}=C.x,m=(l?u:O.a.value.walletPayload.walletAddress).toLowerCase();this.$store.commit("updateConfirmRouteDescInfo",[{no:1,from:new h.a(this.transferValue).plus(new h.a(a.tradingFee))+C.x.selectTokenInfo.token,to:c,fromTip:"",toTip:i,icon:n.a.isExecuteXVMContract()?"contract":"wallet"},{no:2,from:c,to:n.a.shortAddress(m),fromTip:i,toTip:m,icon:"wallet"}]),this.$emit("stateChanged","2")}else Y.a.$emit("connectWallet",!0)},async updateOriginGasCost(){this.originGasLoading=!0;const{fromChainID:t,toChainID:e}=C.x;if(t&&e){try{const t=await j.transferOrginGasUsd(C.x.fromChainID,C.x.toChainID,"ETH"!==C.x.selectTokenInfo.token);this.originGasCost=t}catch(t){console.warn("updateOriginGasCost error =",t.message),this.$notify.error({title:"GetOrginGasFeeError",desc:t,duration:3e3})}this.originGasLoading=!1}},async updateExchangeToUsdPrice(){const t=C.k.value,e=(await Object(T.c)(1,t.tName)).toNumber();e>0&&(this.exchangeToUsdPrice=e)},async getBalance(t,e,a,s,r){try{if(!t)return"";return(await j.getTransferBalance(e,a,s,t,!0)/10**r).toFixed(6)}catch(t){return console.warn(t),0}},async getMakerMaxBalance(){const t=C.k.value;if(t)if(11!=t.c2ID&&511!=t.c2ID)try{const e=await this.getBalance(t.makerAddress,t.c2ID,t.t2Address,t.tName,t.precision);e>0&&(this.makerMaxBalance=.95*e)}catch(t){alert(t.message)}else this.makerMaxBalance=Number.MAX_SAFE_INTEGER},gasCost(){if(3===C.x.fromChainID||33===C.x.fromChainID||9===C.x.fromChainID||99===C.x.fromChainID){const t=C.x.selectMakerInfo;let e=C.x.gasFee;const a=Object(T.a)(t.tName);return a>0&&(e/=a),Math.ceil(Number(10*e))/10}return Math.ceil(C.x.gasFee*C.x.ethPrice*10)/10},refreshUserBalance(t=!0){let e=C.x.selectMakerInfo;j.getTransferBalance(e.c1ID,e.t1Address,e.tName,O.a.value.walletPayload.walletAddress).then(t=>{this.c1Balance=(t/10**e.precision).toFixed(6)}).catch(t=>{console.warn(t)}),t&&j.getTransferBalance(e.c2ID,e.t2Address,e.tName,O.a.value.walletPayload.walletAddress).then(t=>{this.c2Balance=(t/10**e.precision).toFixed(6)}).catch(t=>{console.warn(t)})}}},st=(a("3334"),a("2877")),rt=Object(st.a)(at,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"transfer-box"},[t._m(0),e("div",{staticClass:"from-area"},[e("div",{staticClass:"topItem"},[4==t.transferDataState.fromChainID||44==t.transferDataState.fromChainID?e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.starkAddress)}})]},proxy:!0}],null,!1,3485496982)},[e("div",{staticClass:"left"},[t._v("From")])]):e("div",{staticClass:"left"},[t._v("From")]),t.isLogin?e("div",{staticClass:"right"},[t._v(" Balance: "),t.fromBalanceLoading?e("CommLoading",{staticStyle:{left:"0.3rem",top:"0.2rem"},attrs:{width:"1.2rem",height:"1.2rem"}}):e("span",[t._v(t._s(t.fromBalance))])],1):t._e()],1),e("div",{staticClass:"bottomItem"},[e("div",{staticClass:"left",on:{click:t.changeFromChain}},[e("svg-icon",{staticStyle:{width:"24px",height:"24px","margin-right":"4px"},attrs:{iconName:t.showChainIcon()}}),e("span",[t._v(t._s(t.showChainName()))]),t.queryParams.sources.length>1?e("SvgIconThemed"):t._e()],1),e("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.transferValue,expression:"transferValue"}],staticClass:"right",staticStyle:{"min-width":"50px"},attrs:{type:"text",maxlength:18,placeholder:this.userMinPrice>t.fromBalance?"at least "+this.userMinPrice:`${this.userMinPrice}~${this.userMaxPrice}`},domProps:{value:t.transferValue},on:{input:[function(e){e.target.composing||(t.transferValue=e.target.value)},function(e){return t.checkTransferValue()}]}}),e("el-button",{staticClass:"maxBtn",on:{click:t.fromMax}},[t._v("Max")]),e("div",{staticStyle:{"margin-left":"4px"}},[e("ObSelect",{attrs:{datas:t.tokens},on:{input:t.selectedTokenChange,show:()=>t.isRaiseUpSelectVisible=!0},model:{value:t.selectedToken,callback:function(e){t.selectedToken=e},expression:"selectedToken"}})],1)],1)])]),t.isShowExchangeIcon?e("svg-icon",{staticClass:"exchange-icon",attrs:{iconName:"exchange"},nativeOn:{click:function(e){return t.transfer_mid.apply(null,arguments)}}}):t._e(),e("div",{staticClass:"to-area",style:{marginTop:t.isShowExchangeIcon?"4px":"-2px"}},[e("div",{staticClass:"topItem"},[4==t.transferDataState.toChainID||44==t.transferDataState.toChainID?e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.starkAddress)}})]},proxy:!0}],null,!1,3485496982)},[e("div",{staticClass:"left"},[t._v("To")])]):e("div",{staticClass:"left"},[t._v("To")]),t.isLogin?e("div",{staticClass:"right"},[t._v(" Balance: "),t.toBalanceLoading?e("CommLoading",{staticStyle:{left:"0.3rem",top:"0.2rem"},attrs:{width:"1.2rem",height:"1.2rem"}}):e("span",[t._v(t._s(t.toBalance))])],1):t._e()],1),e("div",{staticClass:"bottomItem"},[e("div",{staticClass:"left",on:{click:t.changeToChain}},[e("svg-icon",{staticStyle:{width:"24px",height:"24px","margin-right":"4px"},attrs:{iconName:t.showChainIcon(!1)}}),e("span",[t._v(t._s(t.showChainName(!1)))]),t.queryParams.dests.length>1?e("SvgIconThemed"):t._e()],1),e("div",{staticClass:"right",staticStyle:{display:"flex","align-items":"center",height:"40px"}},[t.XVMTokenInfoArray.length?e("div",{staticStyle:{"margin-left":"4px"}},[e("ObSelect",{attrs:{datas:t.XVMTokens},on:{input:t.selectedXVMTokenChange,show:()=>t.isRaiseUpSelectVisible=!0},model:{value:t.selectedXVMToken,callback:function(e){t.selectedXVMToken=e},expression:"selectedXVMToken"}})],1):t._e(),e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.toValueToolTip)}})]},proxy:!0}])},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1),e("div",{staticClass:"right-value"},[t._v(t._s(t.toValue))])],1)])]),t.isStarknet?e("div",{staticStyle:{"font-size":"1.2rem",color:"#78797d","margin-top":"1rem","text-align":"left"}},[e("svg-icon",{staticStyle:{width:"1rem",height:"1rem","margin-right":"0.2rem"},attrs:{iconName:"tips"}}),t._v(" Centralized transfer is provided currently and trustless transfer will be launched soon. "),e("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://docs.orbiter.finance/",target:"__blank"}},[t._v("More")])],1):t._e(),t.isSupportXVM?e("div",[e("div",{staticStyle:{"text-align":"left","margin-top":"20px","padding-left":"20px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isCrossAddress,expression:"isCrossAddress"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.isCrossAddress)?t._i(t.isCrossAddress,null)>-1:t.isCrossAddress},on:{change:function(e){var a=t.isCrossAddress,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=t._i(a,null);s.checked?i<0&&(t.isCrossAddress=a.concat([null])):i>-1&&(t.isCrossAddress=a.slice(0,i).concat(a.slice(i+1)))}else t.isCrossAddress=r}}}),e("label",{attrs:{for:"checkbox"}},[t._v(" cross address ")])]),t.isCrossAddress?e("div",{staticClass:"cross-addr-box to-area"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.crossAddressReceipt,expression:"crossAddressReceipt"}],attrs:{type:"text",placeholder:"You receive cross chain addresses"},domProps:{value:t.crossAddressReceipt},on:{input:function(e){e.target.composing||(t.crossAddressReceipt=e.target.value)}}})]):t._e()]):t._e(),e("CommBtn",{staticClass:"btn select-wallet-dialog",staticStyle:{"border-radius":"40px"},attrs:{disabled:!t.sendBtnInfo||t.sendBtnInfo.disabled},on:{click:t.sendTransfer}},[e("span",{staticClass:"w700 s16",staticStyle:{"letter-spacing":"0.15rem"}},[t._v(" "+t._s(t.sendBtnInfo&&t.sendBtnInfo.text)+" ")])]),e("div",{staticClass:"info-box"},[t.isErrorAddress?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Address format error. ")])],1):t._e(),t.isShowUnreachMinInfo?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Less than the minimum transfer amount. ")])],1):t._e(),t.isShowMax?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Makers provide "+t._s(t.maxPrice)+" "+t._s(t.transferDataState.selectTokenInfo.token)+" for liquidity. ")])],1):t._e(),t.showSaveGas?e("div",{staticClass:"gas-save info-item"},[e("SvgIconThemed",{staticStyle:{"margin-right":"6px"},attrs:{icon:"orbiter",size:"sm"}}),e("span",{staticClass:"border"},[t._v("Gas Fee Saved ")]),e("span",{staticClass:"red"},[t._v(" Save "),t.saveGasLoading?e("CommLoading",{staticStyle:{margin:"0 1rem"},attrs:{width:"1rem",height:"1rem"}}):e("span",{staticStyle:{"margin-left":"0.4rem"}},[t._v(t._s(t.gasSavingMin)+" ~ "+t._s(t.gasSavingMax))])],1),e("o-tooltip",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.gasFeeToolTip)}})]},proxy:!0}],null,!1,682907961)},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1)],1):t._e(),e("div",{staticClass:"time-save info-item"},[e("SvgIconThemed",{staticStyle:{"margin-right":"6px"},attrs:{icon:"clock",size:"sm"}}),e("span",{staticClass:"border"},[t._v(" Time Spend "),t.timeSpenLoading?e("CommLoading",{attrs:{width:"1.2rem",height:"1.2rem"}}):e("span",[t._v(t._s(t.timeSpent))])],1),e("span",{staticClass:"red"},[t._v(" Save "),t.saveTimeLoading?e("CommLoading",{staticStyle:{margin:"0 1rem"},attrs:{width:"1rem",height:"1rem"}}):e("span",{staticStyle:{"margin-left":"0.4rem"}},[t._v(" "+t._s(t.transferSavingTime)+" ")])],1),e("o-tooltip",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.timeSpenToolTip)}})]},proxy:!0}])},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1)],1)]),e("CommDialog",{ref:"SelectFromChainPopupRef"},[e("div",{staticStyle:{width:"100%"},attrs:{slot:"PoperContent"},slot:"PoperContent"},[e("ObSelectChain",{attrs:{ChainData:t.fromChainArray},on:{getChainInfo:t.getFromChainInfo,closeSelect:function(e){return t.closeFromChainPopupClick()}}})],1)]),e("CommDialog",{ref:"SelectToChainPopupRef"},[e("div",{staticStyle:{width:"100%"},attrs:{slot:"PoperContent"},slot:"PoperContent"},[e("ObSelectChain",{attrs:{ChainData:t.toChainArray},on:{getChainInfo:t.getToChainInfo,closeSelect:function(e){return t.closeToChainPopupClick()}}})],1)]),e("RaiseUpSelect",{attrs:{iconType:"img",visible:t.isRaiseUpSelectVisible,datas:t.tokenInfoArray,value:t.selectedToken,keyMaps:{value:"token",label:"token"}},on:{hiden:()=>t.isRaiseUpSelectVisible=!1,input:t.selectedTokenChange}}),e("RaiseUpSelect",{attrs:{iconType:"img",visible:t.isRaiseUpXVMSelectVisible,datas:t.XVMTokenInfoArray,value:t.selectedXVMToken,keyMaps:{value:"token",label:"token"}},on:{hiden:()=>t.isRaiseUpXVMSelectVisible=!1,input:t.selectedXVMTokenChange}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"top-area"},[t("span",{staticClass:"title"},[this._v("Token")])])},function(){var t=this._self._c;return t("div",{staticClass:"topItem",attrs:{"data-v-59545920":""}},[t("div",{staticClass:"left"},[this._v("Cross Address")])])}],!1,null,"73336b10",null).exports,it=a("ade3");class nt{constructor(t,e,a=!0){Object(it.a)(this,"chainId",0),Object(it.a)(this,"receiver",void 0),Object(it.a)(this,"isFirstTicker",!0),Object(it.a)(this,"transferReceivedHashs",{}),Object(it.a)(this,"transferConfirmationedHashs",{}),Object(it.a)(this,"listens",[]),Object(it.a)(this,"tickerTimer",null),this.chainId=t,this.receiver=e,this.isFirstTicker=a,this.start()}start(){const t=async()=>{const t=new L.a(this.chainId),e=await t.getImmutableXClient(),a=await e.getTransfers({page_size:200,direction:"desc",receiver:this.receiver});if(a.result){for(const t of a.result){const e=t.transaction_id;void 0===this.transferReceivedHashs[e]&&(this.transferReceivedHashs[e]=!1,this.isFirstTicker||this.doTransfer(t))}this.isFirstTicker=!1}};t(),this.tickerTimer=setInterval(t,5e3)}async doTransfer(t,e=0){const{transaction_id:a}=t;if(!a)return;const s=new L.a(this.chainId);if(e>0){try{const e=await s.getImmutableXClient();t=await e.getTransfer({id:t.transaction_id})}catch(s){if(console.error(`Get imx transaction [${a}] failed: ${s.message}, retryCount: ${e}`),e>=10)return;return await n.a.sleep(1e4),this.doTransfer(t,e+=1)}if(!t)return}const r=s.toTransaction(t),{hash:i,from:o,to:c,txreceipt_status:l}=r,d=n.a.equalsIgnoreCase(l,"confirmed")||n.a.equalsIgnoreCase(l,"success"),u=n.a.equalsIgnoreCase(l,"rejected");for(const t of this.listens){const{filter:e,callbacks:a}=t;if(e){if(e.from&&e.from.toUpperCase()!=o.toUpperCase())continue;if(e.to&&e.to.toUpperCase()!=c.toUpperCase())continue}!0!==this.transferReceivedHashs[i]&&a&&a.onReceived&&a.onReceived(r),void 0===this.transferConfirmationedHashs[r.hash]&&d&&a&&a.onConfirmation&&a.onConfirmation(r)}this.transferReceivedHashs[i]=!0,d?this.transferConfirmationedHashs[r.hash]=!0:u||(await n.a.sleep(2e3),this.doTransfer(t))}transfer(t,e){this.listens.push({filter:t,callbacks:e})}clearListens(){this.listens=[]}destroy(){this.tickerTimer&&clearInterval(this.tickerTimer)}}class ot{constructor(t,e,a){this.api=t,this.address=e,this.blockProvider=a,this.transferReceivedHashs={},this.transferConfirmationedHashs={}}setTransferBreaker(t){return this.transferBreaker=t,this}transfer(t,e,a=3){let s=!0;const r=setInterval(()=>i(),5e3),i=async()=>{try{if(this.transferBreaker&&!1===this.transferBreaker())return void clearInterval(r);let o="";this.blockProvider&&(o=await this.blockProvider(s),s=!1);const c=await d.a.get(this.api.endPoint,{params:{apiKey:this.api.key,module:"account",action:"txlist",address:this.address,page:1,offset:100,startblock:o,endblock:"latest",sort:"asc"},timeout:16e3}),{data:l}=c;if("1"!=l.status||!l.result||l.result.length<=0)return;for(const s of l.result)i=s.from,n=s.to,t&&(t.from&&t.from.toUpperCase()!=i.toUpperCase()||t.to&&t.to.toUpperCase()!=n.toUpperCase())||(void 0===this.transferReceivedHashs[s.hash]&&(this.transferReceivedHashs[s.hash]=!0,e&&e.onReceived&&e.onReceived(s)),a>0&&void 0===this.transferConfirmationedHashs[s.hash]&&s.confirmations>=a&&(this.transferConfirmationedHashs[s.hash]=!0,e&&e.onConfirmation&&e.onConfirmation(s)))}catch(t){console.error(t)}var i,n};i()}}var ct=a("a004"),lt=a("4c05");class dt{constructor(t,e="",a){this.api=t,this.apiParamsTo=e,this.selectorDec=Object(lt.getSelectorFromName)("transfer"),this.isFirstTicker=!0,this.transferReceivedHashs={},this.transferConfirmationedHashs={},this.listens=[],this.provider=Object(N.d)(a),this.localChainID=a}start(){let t;const e=async()=>{const e=await this.provider.getBlock("pending");if(e){const a=e.transactions;for(const s of a.filter(t=>"INVOKE_FUNCTION"===t.type&&Object(N.f)(t.contract_address)==Object(N.f)(this.apiParamsTo))){let a=s.calldata;if(!a||a.length<7)break;if(a[2]!=this.selectorDec)break;const r=ct.number.toHex(ct.number.toBN(ct.number.hexToDecimalString(s.contract_address))),i=ct.number.toHex(ct.number.toBN(a[6])),o=ct.number.toHex(ct.number.toBN(a[1])),c={timeStamp:Number(e.timestamp),hash:s.transaction_hash,nonce:a[9],blockHash:"",transactionIndex:"",from:r,to:i,value:Number(a[7]),txreceipt_status:e.status,contractAddress:o,confirmations:0},l=n.a.equalsIgnoreCase(c.txreceipt_status,"ACCEPTED_ON_L2")||n.a.equalsIgnoreCase(c.txreceipt_status,"ACCEPTED_ON_L2")||n.a.equalsIgnoreCase(c.txreceipt_status,"PENDING");for(const e of this.listens){const{filter:a,callbacks:n}=e;if(a){if(Object(N.f)(a.from)&&Object(N.f)(a.from).toUpperCase()!=Object(N.f)(r).toUpperCase())continue;if(Object(N.f)(a.to)&&Object(N.f)(a.to).toUpperCase()!=Object(N.f)(i).toUpperCase())continue;if(a.amount!=c.value)continue}!0!==this.transferReceivedHashs[s.transaction_hash]&&(this.transferReceivedHashs[s.transaction_hash]=!0,n&&n.onReceived&&n.onReceived(c)),void 0===this.transferConfirmationedHashs[c.hash]&&l&&(l&&(this.transferConfirmationedHashs[c.hash]=!0),console.warn(`Transaction [${c.hash}] was confirmed.`),t&&clearInterval(t),n&&n.onConfirmation&&n.onConfirmation(c))}}}};e(),t=setInterval(e,5e3)}async getTransaction(t,e=0){if(!t)return;let a,s;try{var r,i;const e=await d.a.get(`${this.api.endPoint}/txn/${t}`);a=null===(r=e.data)||void 0===r?void 0:r.header,s=null===(i=e.data)||void 0===i?void 0:i.calldata}catch(a){if(console.error(`Get starknet transaction [${t}] failed: ${a.message}, retryCount: ${e}`),e>=10)return;return await n.a.sleep(1e4),this.getTransaction(t,e+=1)}if(!a||!s||s.length<7)return;if(s[2]!=this.selectorDec)return;const o=ct.number.toHex(ct.number.toBN(ct.number.hexToDecimalString(a.to))),c=ct.number.toHex(ct.number.toBN(s[6])),l=ct.number.toHex(ct.number.toBN(s[1])),u={timeStamp:a.timestamp,hash:a.hash,nonce:s[9],blockHash:a.blockId,transactionIndex:a.index,from:o,to:c,value:Number(s[7]),txreceipt_status:a.status,contractAddress:l,confirmations:0},h=n.a.equalsIgnoreCase(u.txreceipt_status,"Accepted on L2")||n.a.equalsIgnoreCase(u.txreceipt_status,"Accepted on L1");for(const e of this.listens){const{filter:a,callbacks:s}=e;if(a){if(a.from&&a.from.toUpperCase()!=o.toUpperCase())continue;if(a.to&&a.to.toUpperCase()!=c.toUpperCase())continue}!0!==this.transferReceivedHashs[t]&&s&&s.onReceived&&s.onReceived(u),void 0===this.transferConfirmationedHashs[u.hash]&&h&&(console.warn(`Transaction [${u.hash}] was confirmed.`),s&&s.onConfirmation&&s.onConfirmation(u))}this.transferReceivedHashs[t]=!0,h?this.transferConfirmationedHashs[u.hash]=!0:(await n.a.sleep(2e3),this.getTransaction(t))}transfer(t,e){this.listens.push({filter:t,callbacks:e})}}const ut={};a("46a1"),a("450d");var ht=a("e5f2"),mt=a.n(ht);const pt=[{inputs:[{internalType:"address payable",name:"_to",type:"address"},{internalType:"bytes",name:"_ext",type:"bytes"}],name:"transfer",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_ext",type:"bytes"}],name:"transferERC20",outputs:[],stateMutability:"nonpayable",type:"function"}],ft={"0x01":"Cross Ethereum Address","0x02":"Cross Dydx Address","0x03":"Cross Stark Address"};class gt{constructor(t,e=5,a){if(this.contractAddress=p.a.crossAddressContracts[e],!this.contractAddress)throw new Error("Sorry, miss param [contractAddress]");this.provider=t,this.orbiterChainId=e,this.signer=a||t.getSigner(),this.networkId=p.a.localChainID_netChainID[e]}async checkNetworkId(){if(this.providerNetworkId||(this.providerNetworkId=(await this.provider.getNetwork()).chainId),this.providerNetworkId!=this.networkId)throw new Error(`Sorry, currentNetworkId: ${this.providerNetworkId} no equal networkId: ${this.networkId}`)}async getAllowance(t){const e=await this.signer.getAddress();return await t.allowance(e,this.contractAddress)}async approveERC20(t,e=m.ethers.constants.MaxUint256){await this.checkNetworkId();const a=new m.ethers.Contract(t,I,this.signer);await a.approve(this.contractAddress,e);const s=mt()({duration:0,title:"Approving...",type:"warning"});try{for(let t=0;t<5e3;t++){const t=await this.getAllowance(a);if(e.lte(t))break;await n.a.sleep(2e3)}s.close()}catch(t){throw s.close(),t}}async transfer(t,e,a){if(await this.checkNetworkId(),a&&!ft[a.type])throw new Error("Invalid crossAddressType : "+a.type);const s=new m.ethers.Contract(this.contractAddress,pt,this.signer),r=gt.encodeExt(a),i={value:e.toHexString()};return await s.transfer(t,r,i)}async wallConnTransfer(t,e,a){if(a&&!ft[a.type])throw new Error("Invalid crossAddressType : "+a.type);const s=new m.ethers.utils.Interface(pt),r=gt.encodeExt(a),i=s.encodeFunctionData("transfer",[t,r]),n=await this.signer.getAddress();return await X.b.walletConnectSendTransaction(this.orbiterChainId,n,this.contractAddress,e,i)}async transferERC20(t,e,a,s){if(await this.checkNetworkId(),s&&!ft[s.type])throw new Error("Invalid crossAddressType : "+s.type);const r=new m.ethers.Contract(t,I,this.provider),i=await this.getAllowance(r);a.gt(i)&&await this.approveERC20(t);const n=new m.ethers.Contract(this.contractAddress,pt,this.signer),o=gt.encodeExt(s);return await n.transferERC20(t,e,a.toHexString(),o)}async walletConnApproveERC20(t,e=m.ethers.constants.MaxUint256){await this.checkNetworkId();const a=new m.ethers.Contract(t,I,this.signer),s=new m.ethers.utils.Interface(I).encodeFunctionData("approve",[this.contractAddress,e]),r=await this.signer.getAddress(),i=await X.b.walletConnectSendTransaction(this.orbiterChainId,r,t,0,s);console.log(i,"walletConnApproveERC20 transferHash---");const o=mt()({duration:0,title:"Approving...",type:"warning"});try{for(let t=0;t<5e3;t++){const t=await this.getAllowance(a);if(e.lte(t))break;await n.a.sleep(2e3)}o.close()}catch(t){throw o.close(),t}}async walletConnTransferERC20(t,e,a,s){if(s&&!ft[s.type])throw new Error("Invalid crossAddressType : "+s.type);const r=new m.ethers.Contract(t,I,this.provider),i=await this.getAllowance(r);a.gt(i)&&await this.walletConnApproveERC20(t);const n=gt.encodeExt(s),o=new m.ethers.utils.Interface(pt).encodeFunctionData("transferERC20",[t,e,a.toHexString(),n]),c=await this.signer.getAddress();return await X.b.walletConnectSendTransaction(this.orbiterChainId,c,this.contractAddress,0,o)}static encodeExt(t){if(!t||!_.utils.isHexString(t.type))return"0x";if(!t.value)return t.type;if("0x03"==t.type&&_.utils.isHexString(t.value)&&t.value.length%2==1){let e=t.value.substring(2);t.value="0x0"+e}return _.utils.hexConcat([t.type,t.value])}static decodeExt(t){if(!_.utils.isHexString(t))return;return{type:_.utils.hexDataSlice(t,0,1),value:_.utils.hexDataSlice(t,1)}}static parseTransferInput(t){const[e,a]=_.utils.defaultAbiCoder.decode(["address","bytes"],_.utils.hexDataSlice(t,4));return{to:e,ext:gt.decodeExt(a)}}static parseTransferERC20Input(t){const[e,a,s,r]=_.utils.defaultAbiCoder.decode(["address","address","uint256","bytes"],_.utils.hexDataSlice(t,4));return{token:e,to:a,amount:s,ext:gt.decodeExt(r)}}}class _t{constructor(t,e,a,s=!0){Object(it.a)(this,"chainId",0),Object(it.a)(this,"web3",void 0),Object(it.a)(this,"ethereumAddress",void 0),Object(it.a)(this,"isFirstTicker",!0),Object(it.a)(this,"transferReceivedHashs",{}),Object(it.a)(this,"transferConfirmationedHashs",{}),Object(it.a)(this,"listens",[]),Object(it.a)(this,"tickerTimer",null),this.chainId=t,this.web3=e,this.ethereumAddress=a,this.isFirstTicker=s,this.start()}start(){const t=async()=>{const t=new H.a(this.chainId,this.web3,"MetaMask"),e=await t.getDydxClient(this.ethereumAddress),a=await e.private.getTransfers({limit:10});if(a.transfers){for(const t of a.transfers){const e=t.id;this.transferReceivedHashs[e]=!1,this.isFirstTicker||this.doTransfer(t)}this.isFirstTicker=!1}};t(),this.tickerTimer=setInterval(t,5e3)}async doTransfer(t){const{id:e}=t;if(!e)return;const a=H.a.toTransaction(t,this.ethereumAddress),{hash:s,from:r,to:i,txreceipt_status:o}=a,c=n.a.equalsIgnoreCase(o,"CONFIRMED");for(const t of this.listens){const{filter:e,callbacks:n}=t;if(e){if(e.from&&e.from.toUpperCase()!=r.toUpperCase())continue;if(e.to&&e.to.toUpperCase()!=i.toUpperCase())continue}!0!==this.transferReceivedHashs[s]&&n&&n.onReceived&&n.onReceived(a),void 0===this.transferConfirmationedHashs[a.hash]&&c&&n&&n.onConfirmation&&n.onConfirmation(a)}this.transferReceivedHashs[s]=!0,c&&(this.transferConfirmationedHashs[a.hash]=!0)}transfer(t,e){this.listens.push({filter:t,callbacks:e})}clearListens(){this.listens=[]}destroy(){this.tickerTimer&&clearInterval(this.tickerTimer)}}async function yt(t,e,a,s=30){try{switch(t){case 3:case 33:return await async function(t,e){const a=`${33===t?v.a.zkSync.TestNet:v.a.zkSync.Mainnet}/transactions/${e} /data`,s=await d.a.get(a);if(200===s.status&&"success"==s.data.status)return s.data.result&&s.data.result.tx?Date.parse(new Date(s.data.result.tx.createdAt))/1e3:void 0;throw new Error("zkSynctimeStampInfo get error")}(t,e);case 1:case 5:return await async function(t,e){const a=`${5===t?v.a.etherscan.TestNet:v.a.etherscan.Mainnet}?module=block&action=getblockreward&blockno=${e}&apikey=HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ`,s=await d.a.get(a);var r;if(200===s.status&&1==s.data.status)return null===(r=s.data.result)||void 0===r?void 0:r.timeStamp;throw new Error("zkSynctimeStampInfo get error")}(t,a);case 2:case 22:return await async function(t,e){const a=`${22===t?v.a.arbitrum.Rinkeby:v.a.arbitrum.Mainnet}?module=block&action=getblockreward&blockno=${e}&apikey=${Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_PO_G:"https://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_WP_PO_G:"wss://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",BASE_URL:""}).VUE_APP_AR_KEY}`,s=await d.a.get(a);var r;if(200===s.status)return null===(r=s.data.result)||void 0===r?void 0:r.timeStamp;throw new Error("arbitrumTimeStampInfo get error")}(t,a);case 6:case 66:return await async function(t,e){const a=`${66===t?v.a.polygon.Rinkeby:v.a.polygon.Mainnet}?module=block&action=getblockreward&blockno=${e}&apikey=POLYSCAN_API_KEY`,s=await d.a.get(a);var r;if(200===s.status&&1==s.data.status)return null===(r=s.data.result)||void 0===r?void 0:r.timeStamp;throw new Error("polygonTimeStampInfo get nothing")}(t,a);case 10:case 510:return await async function(t,e){const a=`${510===t?v.a.metis.Rinkeby:v.a.metis.Mainnet}?module=transaction&action=gettxinfo&txhash=${e}`,s=await d.a.get(a);var r;if(200===s.status&&1==s.data.status)return null===(r=s.data.result)||void 0===r?void 0:r.timeStamp;throw new Error("metisTimeStampInfo get nothing")}(t,e)}}catch(r){return--s>=0?(await n.a.sleep(1e3),await yt(t,e,a,s)):void console.warn(`chainId${t}:get TimeStamp error`,r.message)}}var vt=a("643f"),wt=a("e852");g.a.axios();var bt={async queryAddressTrxList(t,e){const a=wt.gql`
      query ($hash: AddressHash!) {
        address(hash: $hash) {
          transactions(first: 14) {
            edges {
              node {
                nonce
                hash
              }
            }
          }
        }
      }
    `,s=await t.request(a,{hash:e});if(s.address&&s.address.transactions&&s.address.transactions.edges)return s.address.transactions.edges.map(t=>({hash:t.node.hash,nonce:t.node.nonce}))},getTxByHash:async function(t,e){const a=516==e?v.a.arbitrum_nova.Rinkeby:v.a.arbitrum_nova.Mainnet;return(await d.a.get(a,{params:{module:"transaction",action:"gettxinfo",txhash:t}}).then(t=>t.data)).result},getTxList:async function(t,e){const a=516==e?"https://goerli-rollup-explorer.arbitrum.io/graphiql":"https://nova-explorer.arbitrum.io/graphiql",s=new wt.GraphQLClient(a,{}),r=await this.queryAddressTrxList(s,t.maker),i=[];for(const t of r){const a=await this.getTxByHash(t.hash,e);a&&i.push({blockNumber:a.blockNumber,timeStamp:Number(a.timeStamp),hash:a.hash,blockHash:a.blockHash,transactionIndex:a.transactionIndex,from:a.from,to:a.to,value:a.value,gas:a.gas,gasPrice:a.gasPrice,nonce:t.nonce,isError:"0",txreceipt_status:"",input:a.input,contractAddress:"",cumulativeGasUsed:"",gasUsed:a.gasUsed,confirmations:Number(a.confirmations)})}return i},getTransationList:async function(t,e){const a=await this.getTxList(t,e,!1);for(const t of a)t.tokenSymbol="ETH",t.tokenDecimal=18;return{result:a}},getBlockNumberWithTimeStamp:function(t,e){return new Promise((a,s)=>{const r="boba.getBlockNumberWithTimeStamp__"+t.closest,i=Object(vt.cacheMemoryGet)(r);if(i)return void a(i);const n={module:"block",action:"getblocknobytime",timestamp:t.timestamp,closest:t.closest},o=516===e?v.a.arbitrum_nova.Rinkeby:v.a.arbitrum_nova.Mainnet;d.a.get(o,{params:n}).then((function(t){if(200===t.status){var e=t.data;"1"===e.status&&"OK"===e.message?(Object(vt.cacheMemorySet)(r,e,72e5),a(e)):s(e)}else s({errorCode:1,errorMsg:"NetWork Error"})})).catch((function(t){s({errorCode:2,errorMsg:t})}))})}};class At{constructor(t,e,a,s){this.api=e,this.address=a,this.blockProvider=s,this.chainId=t,this.transferReceivedHashs={},this.transferConfirmationedHashs={}}setTransferBreaker(t){return this.transferBreaker=t,this}transfer(t,e,a=3){let s=!0;const r=setInterval(()=>i(),5e3),i=async()=>{try{if(this.transferBreaker&&!1===this.transferBreaker())return void clearInterval(r);let o="";this.blockProvider&&(o=await this.blockProvider(s),s=!1);let c={maker:this.address,startblock:o,endblock:999999999};const l=await bt.getTransationList(c,this.chainId);for(const s of l.result)i=s.from,n=s.to,t&&(t.from&&t.from.toUpperCase()!=i.toUpperCase()||t.to&&t.to.toUpperCase()!=n.toUpperCase())||(void 0===this.transferReceivedHashs[s.hash]&&(this.transferReceivedHashs[s.hash]=!0,e&&e.onReceived&&e.onReceived(s)),a>0&&void 0===this.transferConfirmationedHashs[s.hash]&&s.confirmations>=a&&(this.transferConfirmationedHashs[s.hash]=!0,e&&e.onConfirmation&&e.onConfirmation(s)))}catch(t){console.error(t)}var i,n};i()}}var Ct=a("5ba3"),Pt=a("aab1"),kt=a.n(Pt);const xt=[],Tt=[],Et=new Map;function Dt(t){try{const e=new Map;for(const a of t)if(a.name){const t=Object(Ct.sha3)(`${a.name}(${a.inputs.map(It).join(",")})`);t&&e.set("event"===a.type?t.slice(2):t.slice(2,10),a)}return e}catch(t){throw new Error("Disassembly ABI failed "+t.message)}}function It(t){return t.type.includes("tuple")?`(${t.components.map(It).join(",")})`:t.type}function St(t){const e=t.substring(0,10),a=function(t,e="XVM"){var a;Et.has(e)||(e="XVM");const s=null===(a=Et.get(e))||void 0===a?void 0:a.map;if(!s)throw new Error(e+" Abi Name items Not Exists");const r=t.slice(2,10),i=s.get(r);if(!i)return null;const n={name:i.name,params:[]},o=kt.a.decodeParameters(i.inputs,t.slice(10));for(let t=0;t<o.__length__;t++){const e=o[t];let a=e;const s=i.inputs[t].type.includes("uint"),r=i.inputs[t].type.includes("int"),c=i.inputs[t].type.includes("address");(s||r)&&(a=Array.isArray(e)?e.map(t=>new h.a(t).toString()):new h.a(e).toString()),c&&(a=Array.isArray(e)?e.map(t=>t.toLowerCase()):e.toLowerCase()),n.params.push({name:i.inputs[t].name,value:a,type:i.inputs[t].type})}return n}(String(t),"XVM"),s={name:"",transferData:{},data:{}};if(!a||!a.params)return s;if(s.name=a.name,a.params.forEach(t=>{const e=t.name.replace("_","");s.transferData[e]=t.value,s.data[e]=t}),["0x471824f7","0x230f308b","0x56409ad7"].includes(e))switch(e){case"0x471824f7":if(!s.data.data.value)return s;s.transferData.to=s.transferData.maker,delete s.transferData.data,delete s.transferData.maker,s.transferData.toChainId=+s.data.data.value[0],s.transferData.toTokenAddress=s.data.data.value[1],s.transferData.toWalletAddress=s.data.data.value[2],s.transferData.toExpectValue=new h.a(s.data.data.value[3]);break;case"0x230f308b":s.transferData.toWalletAddress=s.transferData.to,s.transferData.isOk=1;break;case"0x56409ad7":s.transferData.toWalletAddress=s.transferData.to,s.transferData.isOk=0}return s}Et.set("IERC20",{json:xt,map:Dt(xt)}),Et.set("Forward",{json:Tt,map:Dt(Tt)}),Et.set("XVM",{json:S,map:Dt(S)});let Ut="";const Ot=t=>{x.a.commit("updateProceedState",t)};function Vt(t,e,a,s,r,i,o,c,l="",d=""){if(!Mt(t))return;if(3===e||33===e)return function t(e,a,s,r,i,n,o){setTimeout(async()=>{if(!Mt(e))return;let c={localChainID:a,account:r,from:"latest",limit:30,direction:"older"};try{let t,h=await f.a.getZKInfo(c);"success"===h.status&&0!==h.result.list.length&&(t=h.result.list);for(let c=0;c<t.length;c++){var l,d;const h=t[c];if(null===h.failReason&&"Transfer"==h.op.type&&(null===(l=h.op.from)||void 0===l?void 0:l.toLowerCase())==r.toLowerCase()&&(null===(d=h.op.to)||void 0===d?void 0:d.toLowerCase())==i.toLowerCase()&&h.op.amount===n){if(Number(o)>Date.parse(new Date(h.createdAt))/1e3)return;let t=3===a?x.a.state.zktokenList.mainnet:x.a.state.zktokenList.rinkeby,r=a===s.c1ID?s.t1Address:s.t2Address;var u=t.filter(t=>t.address===r);let i=u.length>0?u[0]:null;if(!i)break;if(h.op.token!==i.id)break;if(!Mt(e))return;if(x.a.commit("updateProceedingMakerTransferTxid",h.txHash),Ot(4),"committed"===h.status||"finalized"===h.status)return void Ot(5)}}}catch(t){console.warn("getZKTransactionListError =",t)}return t(e,a,s,r,i,n)},1e4)}(t,e,a,s,r,i,o);if(12===e||512===e)return function t(e,a,s,r,i,n){let o=0;setTimeout(async()=>{if(!Mt(e))return;const c=12===a?x.a.state.zksTokenList.mainnet:x.a.state.zksTokenList.rinkeby,l=a===s.c1ID?s.t1Address:s.t2Address,d=c.find(t=>t.address==l),u=d?d.id:0;try{var m,p;let t=await k.getZKSapceTxList(r,a,o,u,50);if(t.success&&0!==(null===(m=t.data)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.length)){let a=t.data.data;o=50==a.length?o+50:0;for(let t=0;t<a.length;t++){var f,g;const o=a[t];if("Transfer"==(null==o?void 0:o.tx_type)&&""==(null==o?void 0:o.fail_reason)&&((null==o||null===(f=o.from)||void 0===f?void 0:f.toLowerCase())==r.toLowerCase()||(null==o||null===(g=o.to)||void 0===g?void 0:g.toLowerCase())==i.toLowerCase())&&o.token.symbol==d.symbol&&new h.a(o.amount).multipliedBy(10**s.precision).toString()==n){if(!Mt(e))return;if(x.a.commit("updateProceedingMakerTransferTxid",o.tx_hash),"pending"===o.status||"verified"===o.status)return void Ot(5)}}}}catch(t){throw console.warn("error =",t),"getZKSTransactionListError"}return t(e,a,s,r,i,n)},1e4)}(t,e,a,s,r,i);!function(t,e,a,s,r,i,o,c,l,d,u="",h=""){const m=async()=>{if(!Mt(t))return;const p=(a,s,n,l)=>(4!=e&&44!=e||(r=Object(N.f)(r),l=Object(N.f)(r)),(!l||l.toLowerCase()===r.toLowerCase())&&(a.toLowerCase()===i.toLowerCase()&&s.toLowerCase()===o.toLowerCase()&&n==c&&!!Mt(t)));if(4!=e&&44!=e)if(8!=e&&88!=e)if(9!=e&&99!=e)if(11!=e&&511!=e)if(16!=e&&516!=e||new At(e,v.a.arbitrum_nova,o,async()=>Ut).setTransferBreaker(()=>Mt(t)).transfer({from:i,to:o},{onReceived:t=>{p(t.from,t.to,t.value,"")&&(x.a.commit("updateProceedingMakerTransferTxid",t.hash),Ot(4))},onConfirmation:t=>{p(t.from,t.to,t.value,"")&&Ot(5)}},1),h){console.log("========================== Scan XVM ==========================");const r=await s.eth.getBlockNumber(),n=new s.eth.Contract(S,h),c={filter:{from:i,to:o},fromBlock:r-80,toBlock:"latest"};n.getPastEvents("SwapOKEvent",c,(async function(s,r){if(Mt(t)){if(s)console.warn("XVMContract getPastEvents-Transfer Error =",s);else for(let s=r.length-1;s>=0;s--){var i;const n=r[s];if(console.log("txinfo",n),(null===(i=n.returnValues)||void 0===i?void 0:i.to.toLowerCase())===o.toLowerCase()){let s=await yt(e,n.transactionHash,n.blockNumber);if(!s||s&&d<s)return x.a.commit("updateProceedingMakerTransferTxid",n.transactionHash),Ot(4),void Nt(t,e,a,n.transactionHash)}}setTimeout(()=>m(),1e4)}}))}else{if(console.log("========================== Scan Maker Transfer =========================="),n.a.isEthTokenAddress(r)){let a=null;switch(e){case 1:a={endPoint:v.a.etherscan.Mainnet,key:v.a.etherscan.Mainnet.key};break;case 5:a={endPoint:v.a.etherscan.TestNet,key:v.a.etherscan.key};break;case 2:a={endPoint:v.a.arbitrum.Mainnet,key:""};break;case 22:a={endPoint:v.a.arbitrum.Rinkeby,key:""};break;case 7:a={endPoint:v.a.optimistic.Mainnet,key:v.a.optimistic.key};break;case 77:a={endPoint:v.a.optimistic.Rinkeby,key:v.a.optimistic.key};break;case 15:a={endPoint:v.a.bsc.Mainnet,key:v.a.etherscan.Mainnet.key};break;case 515:a={endPoint:v.a.bsc.Rinkeby,key:v.a.etherscan.Rinkeby.key};break;case 13:a={endPoint:v.a.boba.mainnet,key:v.a.boba.mainnet.key};break;case 513:a={endPoint:v.a.boba.Rinkeby,key:v.a.boba.Rinkeby.key}}if(!a)return;return void new ot(a,o,async()=>Ut).setTransferBreaker(()=>Mt(t)).transfer({from:i,to:o},{onReceived:t=>{p(t.from,t.to,t.value,"")&&(x.a.commit("updateProceedingMakerTransferTxid",t.hash),Ot(4))},onConfirmation:t=>{p(t.from,t.to,t.value,"")&&Ot(5)}},1)}const c=await s.eth.getBlockNumber(),l=new s.eth.Contract(I,r),u={filter:{from:i,to:o},fromBlock:c-80,toBlock:"latest"};l.getPastEvents("Transfer",u,(async function(s,r){if(Mt(t)){if(s)console.warn("tokenContract getPastEvents-Transfer Error =",s);else for(let s=r.length-1;s>=0;s--){const i=r[s];if(p(i.returnValues.from,i.returnValues.to,i.returnValues.amount,i.address)){let s=await yt(e,i.transactionHash,i.blockNumber);if(!s||s&&d<s)return x.a.commit("updateProceedingMakerTransferTxid",i.transactionHash),Ot(4),void Nt(t,e,a,i.transactionHash)}}setTimeout(()=>m(),1e4)}}))}else{const t=new D.a(O.a.value.walletPayload.provider),a=new _t(e,t,u,!1);a.transfer({to:u},{onReceived:async t=>{p(i,o,t.value,"")&&(x.a.commit("updateProceedingMakerTransferTxid",t.hash),Ot(4))},onConfirmation:async t=>{p(i,o,t.value,"")&&(Ot(5),a.destroy())}})}else{var f;const t=(9===e?x.a.state.lpTokenList.mainnet:x.a.state.lpTokenList.rinkeby).find(t=>t.address==r);let s,i=await F.accountInfo(a.makerAddress,e);if(!i||i.code)return void setTimeout(()=>m(),1e4);s=i.accountInfo;let n=new Date(x.a.state.proceeding.userTransfer.timeStamp).getTime();const o=F.getUserAPI(e),d=l,u=b.a.getRAmountFromTAmount(e,c);let h,p;if(!u.state)return;h=d.toString(),p=u.rAmount;const g={accountId:s.accountId,start:n,end:99999999999999,status:"processed,processing,received",limit:50,tokenSymbol:t?t.symbol:"ETH",transferTypes:"transfer"},_=await o.getUserTransferList(g,9==e?Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_PO_G:"https://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_WP_PO_G:"wss://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",BASE_URL:""}).VUE_APP_LP_MK_KEY:Object({NODE_ENV:"production",VUE_APP_HP_R:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_R:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_MT:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_MT:"wss://andromeda-ws.metis.io",VUE_APP_HP_MT_R:"https://stardust.metis.io/?owner=588",VUE_APP_WP_MT_R:"wss://stardust-ws.metis.io/",VUE_APP_HP_AR_R:"https://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_WP_AR_R:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_PO_G:"https://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_WP_PO_G:"wss://polygon-mumbai.g.alchemy.com/v2/KEY",VUE_APP_HP_OP_K:"https://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_WP_OP_K:"wss://opt-kovan.g.alchemy.com/v2/KEY",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_BOBA:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_BSC_R:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_BSC:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",BASE_URL:""}).VUE_APP_LP_MKTEST_KEY);if(0!==_.totalNum&&0!==(null===(f=_.userTransfers)||void 0===f?void 0:f.length)){let e=_.userTransfers;for(let s=0;s<e.length;s++){const r=e[s];if("TRANSFER"==r.txType&&r.senderAddress.toLowerCase()==a.makerAddress.toLowerCase()&&r.receiverAddress.toLowerCase()==x.a.state.proceeding.userTransfer.from.toLowerCase()&&r.symbol==t.symbol&&r.amount==p&&r.memo==h){let t=r.hash;if(x.a.commit("updateProceedingMakerTransferTxid",t),"processing"==r.status)return Ot(4),void setTimeout(()=>m(),1e4);if("processed"==r.status||"received"==r.status)return void Ot(5)}}}setTimeout(()=>m(),1e4)}else{const t=new nt(e,o,!1);t.transfer({from:i,to:o},{onReceived:async t=>{p(i,o,t.value,"")&&(x.a.commit("updateProceedingMakerTransferTxid",t.hash),Ot(4))},onConfirmation:async e=>{p(i,o,e.value,"")&&(Ot(5),t.destroy())}})}else{(async()=>{const t=C.O.starkNet.starkNetAddress;let s=Object(N.e)(a.makerAddress,e),r=v.a.starknet.Mainnet;44==e&&(r=v.a.starknet.Rinkeby);const n=function(t,e="",a){const s=`${t.endPoint}:${t.key}:${e}:${a}`;return ut[s]?ut[s]:ut[s]=new dt(t,e,a)}({endPoint:r},s,e);n.start(),n.transfer({from:s,to:t,amount:c},{onReceived:async t=>{p(i,o,t.value,t.contractAddress)&&(x.a.commit("updateProceedingMakerTransferTxid",t.hash),Ot(4))},onConfirmation:async t=>{p(i,o,t.value,t.contractAddress)&&Ot(5)}})})()}};m()}(t,e,a,Object(U.b)(e),a.c1ID===e?a.t1Address:a.t2Address,s,r,i,c,o,l,d)}async function Nt(t,e,a,s,r=1){setTimeout(async()=>{if(!Mt(t))return;const i=await Lt(e,s);return i&&i.confirmations>=r?void(Mt(t)&&Ot(5)):Nt(t,e,a,s,r)},1e4)}async function Lt(t,e){try{const s=Object(U.b)(t),r=await s.eth.getTransaction(e),i=await s.eth.getBlockNumber();if(!r)return r;if(null!==r.blockNumber){var a=await s.eth.getBlock(r.blockNumber);return{confirmations:i-r.blockNumber,trx:r,timestamp:a.timestamp}}return{confirmations:1,trx:r,timestamp:0}}catch(t){console.warn(t)}}function Mt(t){return x.a.state.proceedTXID===t}var Rt={UserTransferReady(t,e,a,s,i,o){12!=s&&512!=s||(o=o.replace("sync-tx:","0x")),x.a.commit("updateProceedTxID",o),x.a.commit("updateProceedingUserTransferFrom",t),x.a.commit("updateProceedingUserTransferTo",e);var c=b.a.getRAmountFromTAmount(s,a);if(!c.state)throw new Error("UserTransferReady error: "+c.error);c=c.rAmount,x.a.commit("updateProceedingUserTransferAmount",c),async function t(e,a,s,i=1){let o=a.t1Address,c=a.c2ID;e===a.c2ID&&(o=a.t2Address,c=a.c1ID);const l=Object(U.b)(c);l&&(Ut=await l.eth.getBlockNumber()),x.a.commit("updateProceedingUserTransferLocalChainID",e),x.a.commit("updateProceedingUserTransferTxid",s),setTimeout(async()=>{if(!Mt(s))return;if(3===e||33===e){var c={txHash:s,localChainID:e};try{let t=await f.a.getZKTransactionData(c);if("success"===t.status&&null===t.result.tx.failReason&&"Transfer"===t.result.tx.op.type&&("committed"===t.result.tx.status||"finalized"===t.result.tx.status)){let r=t.result.tx.createdAt,i=b.a.getRAmountFromTAmount(e,t.result.tx.op.amount).rAmount,n=t.result.tx.op.nonce.toString(),o=b.a.getToAmountFromUserAmount(new h.a(i).dividedBy(new h.a(10**a.precision)),a,!0),c=e===a.c1ID?a.c2ID:a.c1ID;var l=b.a.getTAmountFromRAmount(c,o,n).tAmount;if(!Mt(s))return;x.a.commit("updateProceedingUserTransferTimeStamp",r);const d=(Date.parse(new Date(r))/1e3-1800).toString();return Ot(3),void Vt(s,c,a,t.result.tx.op.to,t.result.tx.op.from,l,d,n)}}catch(t){throw console.warn("error =",t),"getZKTransactionDataError"}return t(e,a,s,i)}if(4==e||44==e){try{const t=Object(N.d)(e),r=await t.getTransaction(s);if("ACCEPTED_ON_L1"==r.status||"ACCEPTED_ON_L2"==r.status||"PENDING"==r.status){var d,u;const i=r.transaction,n=await t.getBlock(),o=b.a.getRAmountFromTAmount(e,new h.a(null===(d=i.calldata)||void 0===d?void 0:d[8])).rAmount,c=String(i.nonce||new h.a(null===(u=i.calldata)||void 0===u?void 0:u[11])||0),l=b.a.getToAmountFromUserAmount(new h.a(o).dividedBy(new h.a(10**a.precision)),a,!0),m=e===a.c1ID?a.c2ID:a.c1ID,p=b.a.getTAmountFromRAmount(m,l,c).tAmount;if(!Mt(s))return;x.a.commit("updateProceedingUserTransferTimeStamp",n.timestamp);let f=n.timestamp.toString().slice(0,10);return f=Number(f-1800).toString(),Ot(3),void Vt(s,m,a,a.makerAddress,C.O.coinbase,p,f,c)}}catch(t){throw console.warn("error =",t),"getStarknetTransactionDataError"}return t(e,a,s,i)}if(8==e||88==e){try{const t=new L.a(e),r=await t.getImmutableXClient(),i=await r.getTransfer({id:s});if("success"==i.status.toLowerCase()){const r=b.a.getRAmountFromTAmount(e,i.token.data.quantity+"").rAmount,n=t.timestampToNonce(i.timestamp.getTime()),o=b.a.getToAmountFromUserAmount(new h.a(r).dividedBy(new h.a(10**a.precision)),a,!0),c=e===a.c1ID?a.c2ID:a.c1ID,l=b.a.getTAmountFromRAmount(c,o,n).tAmount;if(!Mt(s))return;x.a.commit("updateProceedingUserTransferTimeStamp",i.timestamp);let d=Date.parse(new Date(i.timestamp))/1e3;return d=Number(d-1800).toString(),Ot(3),void Vt(s,c,a,a.makerAddress,C.O.coinbase,l,d,n)}}catch(t){throw console.warn("getImmutableXTransactionData Error =",t),new Error("getImmutableXTransactionDataError")}return t(e,a,s,i)}if(9==e||99==e){let r=C.j.value;const n={accountId:C.i.value.accountId,hashes:s},o=F.getUserAPI(e);try{var m;const t=await o.getUserTransferList(n,r);if(1===t.totalNum&&1===(null===(m=t.userTransfers)||void 0===m?void 0:m.length)){let r=t.userTransfers[0];if(("processed"==r.status||"received"==r.status)&&"TRANSFER"==r.txType){let t=r.timestamp,i=b.a.getRAmountFromTAmount(e,r.amount).rAmount,n=(r.storageInfo.storageId-1)/2+"",o=b.a.getToAmountFromUserAmount(new h.a(i).dividedBy(new h.a(10**a.precision)),a,!0),c=e===a.c1ID?a.c2ID:a.c1ID;var p=b.a.getTAmountFromRAmount(c,o,n).tAmount;if(!Mt(s))return;x.a.commit("updateProceedingUserTransferTimeStamp",t);let l=t.toString().slice(0,10);return l=Number(l-1800).toString(),Ot(3),void Vt(s,c,a,r.receiverAddress,r.senderAddress,p,l,n)}}}catch(t){throw console.warn("error =",t),"getLPTransactionDataError"}return t(e,a,s,i)}if(12===e||512===e){try{let t=await k.getZKSpaceTransactionData(e,s);if(!0===t.success&&!0===t.data.success&&"Transfer"===t.data.tx_type&&("verified"===t.data.status||"pending"===t.data.status)){let r=t.data.created_at,i=b.a.getRAmountFromTAmount(e,new h.a(t.data.amount).multipliedBy(new h.a(10**a.precision))).rAmount,n=t.data.nonce.toString(),o=b.a.getToAmountFromUserAmount(new h.a(i).dividedBy(new h.a(10**a.precision)),a,!0),c=e===a.c1ID?a.c2ID:a.c1ID;var g=b.a.getTAmountFromRAmount(c,o,n).tAmount;if(!Mt(s))return;x.a.commit("updateProceedingUserTransferTimeStamp",r);let l=r.toString().slice(0,10);return l=Number(l-1800).toString(),Ot(3),void Vt(s,c,a,t.data.to,t.data.from,g,l,n)}}catch(t){throw console.warn("error =",t),"getZKTransactionDataError"}return t(e,a,s,i)}let _=await Lt(e,s);if(console.log(_,"=="),13!=e&&513!==e||(_.confirmations=3),!_)return t(e,a,s,i);const y=_.trx;if(!Mt(s))return;if(x.a.commit("updateProceedingUserTransferTimeStamp",_.timestamp),console.warn("Transaction with hash "+s+" has "+_.confirmations+" confirmation(s)"),"0x471824f7"===y.input.substring(0,10)){if(_.confirmations>0&&_.confirmations<i){if(!Mt(s))return;Ot(2)}if(_.confirmations>=i){if(!Mt(s))return;Ot(3);const t=St(y.input);if("swap"===t.name){const{toChainId:e,toWalletAddress:i,toExpectValue:n}=t.transferData,o=r.b.find(t=>t.chainId===+e),c=null==o?void 0:o.contractAddress;if(!c)return void console.log("xvm config error toChainId "+e);let l=_.timestamp.toString().slice(0,10);l=Number(l-1800).toString();const d=y.nonce.toString();Vt(s,e,a,c,i,n,l,d,y.from,c)}return}return t(e,a,s,i)}let v="0",w="";if(y.input.length<=138)if(n.a.isEthTokenAddress(o))v=D.a.utils.hexToNumberString(D.a.utils.toHex(y.value)),w=y.to;else{const t="0x"+y.input.slice(74);v=D.a.utils.hexToNumberString(t),w="0x"+y.input.slice(34,74)}else if(14==e||514==e){const t=a.makerAddress,e=t.toLowerCase().substr(2,t.length-1);let s=0;const r=y.input.indexOf(e);if(!(r>-1))return void console.warn("from zk2 the amount is incorrect");{s=r+e.length;const a=y.input.slice(s,s+64);v=D.a.utils.hexToNumberString("0x"+a),w=t}}else{var A;let t;if(n.a.isEthTokenAddress(o)?(t=gt.parseTransferInput(y.input),t.amount=y.value):t=gt.parseTransferERC20Input(y.input),null===(A=t.ext)||void 0===A||!A.value)return;w=t.to,v="string"==typeof t.amount?Number(t.amount)+"":t.amount.toString()+""}var P=b.a.getRAmountFromTAmount(e,v).rAmount;if(_.confirmations>0&&_.confirmations<i){if(!Mt(s))return;Ot(2)}if(_.confirmations>=i){if(!Mt(s))return;Ot(3);const t=y.nonce.toString(),r=b.a.getToAmountFromUserAmount(new h.a(P).dividedBy(new h.a(10**a.precision)),a,!0),i=e===a.c1ID?a.c2ID:a.c1ID,n=b.a.getTAmountFromRAmount(i,r,t).tAmount,{transferExt:o}=C.x;let c=y.from;null!=o&&o.value&&(c=o.value);let l=_.timestamp.toString().slice(0,10);return l=Number(l-1800).toString(),void Vt(s,i,a,w,c,n,l,t,y.from)}return t(e,a,s,i)},1e4)}(s,i,o)}},Bt=a("85a0"),Ft=a("3387"),Ht=a("2b5c"),Kt=a("e36d"),jt=a("e6fe");const{walletDispatchersOnSignature:Yt,walletDispatchersOnSwitchChain:Gt,walletConnectSendTransaction:zt}=X.b;var $t={name:"Confirm",components:{SvgIconThemed:s.j,CommBoxHeader:s.a,CommBtn:s.b,HelpIcon:s.e},data:()=>({transferLoading:!1,expectValue:""}),computed:{isMobile:()=>C.f.value,isStarkNetChain(){const{fromChainID:t,toChainID:e}=C.x;return 4==t||44==t||4==e||44==e},confirmData(){let t=j.realTransferAmount().toString();t=t.replace(/(.*?0)0{4,}(0.*?)/,"$1...$2");const e=[{icon:"withholding",title:"Withholding Fee",notice:"The Maker charges the Sender a fixed fee to cover the fluctuating gas fees that incur when sending funds to the destination network.",desc:(C.k.value?C.k.value.tradingFee:0)+" "+C.k.value.tName},{icon:"security",title:"Identification Code",notice:"In Orbiter, each transaction has a four digit identification code. The identification code can be seen at the end of the total amount being transferred as a way to identify the transaction. The identification code will be the evidence in the case that the Maker does not send the assets to the target network. This will act as an evidence to claim your funds from the margin contract.",desc:j.realTransferOPID(),haveSep:!0},{icon:"send",title:"Total Send",notice:"Total amount sent by the Sender including the withholding fee.",desc:t+" "+C.k.value.tName,textBold:!0},{icon:"received",title:"Received",desc:n.a.isExecuteXVMContract()?this.xvmShowValue():b.a.getToAmountFromUserAmount(new h.a(C.x.transferValue).plus(new h.a(C.k.value.tradingFee)),C.k.value,!1)+" "+C.k.value.tName,textBold:!0},{icon:"exchange",title:"Maker Routes",notice:"After the Sender submits the transaction, the assets are transferred to the Makers address who will provide the liquidity. Orbiters contract will ensure the safety of the assets and will make sure that the Sender receives the assets to the target network.",descInfo:this.$store.state.confirmData.routeDescInfo}];return this.isStarkNetChain,[...e]}},methods:{xvmShowValue(){const{toChain:t}=n.a.getXVMContractToChainInfo(),e=18===t.precision?5:2;return console.log("value ----\x3e ",this.expectValue),new h.a(this.expectValue||"0").toFixed(e)+" "+t.symbol},async zkspaceTransfer(t,e,a){try{var s;let r=new _.providers.Web3Provider(O.a.value.walletPayload.provider);const i=O.a.value.walletPayload.walletAddress,n=r.getSigner(),o=await k.getL1SigAndPriVateKey(n),{transferValue:c,tValue:l}=await k.getTransferValue(a,t,e),d=await k.getAccountInfo(t,o,n,i),u=0,h=512===t?v.a.ZKSpace.zksrinkebyChainID:v.a.ZKSpace.zksChainID;let m=await k.getZKSpaceTransferGasFee(t,i);const p=y.utils.closestPackableTransactionFee(_.utils.parseUnits(m.toString(),18)),f=12===t?this.$store.state.zksTokenList.mainnet:this.$store.state.zksTokenList.rinkeby,g=t==a.c1ID?a.t1Address:a.t2Address,w=f.find(t=>t.address==g),{pubKey:b,l2SignatureOne:A}=k.getL2SigOneAndPK(o,d,i,a,w?w.id:0,c,u,p,h),C={signature:{type:"EthereumSignature",signature:await k.getL2SigTwoAndPK(n,d,a,c,m,h,w)},fastProcessing:!1,tx:{type:"Transfer",accountId:d.id,from:i,to:a.makerAddress,token:w?w.id:0,amount:c.toString(),feeToken:u,fee:p.toString(),chainId:h,nonce:d.nonce,signature:{pubKey:b,signature:A}}},P=null===(s=(await k.sendTransfer(t,C)).data)||void 0===s?void 0:s.data.replace("sync-tx:","0x"),x=await this.getFristResult(t,P);this.onTransferSucceed(i,a,l.tAmount.toString(),t,x.data.tx_hash),this.transferLoading=!1}catch(t){return this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3}),void console.warn("zkspaceTransfer =",t.message)}},async getFristResult(t,e){const a=await k.getZKSpaceTransactionData(t,e);if(!a.success||a.data.fail_reason||a.data.success||a.data.amount){if(a.success&&!a.data.fail_reason&&a.data.success&&a.data.amount)return a;throw new Error("zks sendResult is error")}return await n.a.sleep(300),await this.getFristResult(t,e)},async zk2Transfer(t,e,a){const s=new jt.Provider(p.a.localProvider[t]),r=t==a.c1ID?a.t1Address:a.t2Address;await s.isTokenLiquid(r);var i=new h.a(C.x.transferValue).plus(new h.a(a.tradingFee)).multipliedBy(new h.a(10**a.precision)).toFixed(),n=9e3+Number(e)+"",o=b.a.getTAmountFromRAmount(t,i,n);if(!o.state)return this.$notify.error({title:o.error,duration:3e3}),void(this.transferLoading=!1);const c=new jt.Web3Provider(O.a.value.walletPayload.provider).getSigner(),l=a.makerAddress,d=o.tAmount,u={from:O.a.value.walletPayload.walletAddress,txType:113,customData:{feeToken:""},to:"",value:Kt.a.from(0),data:"0x"};if("0x000000000000000000000000000000000000800a"===r.toLowerCase())u.value=Kt.a.from(d),u.to=l,u.customData.feeToken="0x0000000000000000000000000000000000000000";else{const t=new D.a,e=new t.eth.Contract(I,r);u.data=e.methods.transfer(l,t.utils.toHex(d)).encodeABI(),u.to=r,u.customData.feeToken=r}const m=await c.sendTransaction(u);m.hash&&(a.makerAddress=u.from,this.onTransferSucceed(C.O.coinbase,a,o.tAmount,t,m.hash)),this.transferLoading=!1},async zkTransfer(t,e,a){const s=new D.a(O.a.value.walletPayload.provider),r=O.a.value.walletPayload.walletAddress;var i=a.c1ID===t?a.t1Address:a.t2Address;const n=new _.providers.Web3Provider(s.currentProvider),o=await M(t);try{const s=await y.Wallet.fromEthSigner(n.getSigner(r),o);var c=new h.a(C.x.transferValue).plus(new h.a(a.tradingFee)).multipliedBy(new h.a(10**a.precision)).toFixed(),l=9e3+Number(e)+"",d=b.a.getTAmountFromRAmount(t,c,l);if(!d.state)return this.$notify.error({title:d.error,duration:3e3}),void(this.transferLoading=!1);const m=y.utils.closestPackableTransactionAmount(d.tAmount),p=await o.getTransactionFee("Transfer",s.address()||"",i);if(await s.isSigningKeySet())try{const e=await s.syncTransfer({to:a.makerAddress,token:i,amount:m}),n=await e.awaitReceipt();n.success&&!n.failReason&&this.onTransferSucceed(r,a,m.toString(),t,e.txHash),this.transferLoading=!1}catch(t){console.warn("inError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}else{var u;const e=await s.getNonce("committed"),n=s.batchBuilder(e);if("ERC-1271"===(null===(u=s.ethSignerType)||void 0===u?void 0:u.verificationMethod)){if(!await s.isOnchainAuthSigningKeySet()){const t=await s.onchainAuthSigningKey();await(null==t?void 0:t.wait())}}const c=await s.signer.pubKeyHash(),l=await s.getAccountId();if("number"!=typeof l)throw new TypeError("It is required to have a history of balances on the account to activate it.");const d=y.utils.getChangePubkeyLegacyMessage(c,e,l),h=(await s.getEthMessageSignature(d)).signature,f=await o.getTransactionFee({ChangePubKey:{onchainPubkeyAuth:!1}},s.address()||"",i),g=await s.signer.signSyncChangePubKey({accountId:l,account:s.address(),newPkHash:c,nonce:e,ethSignature:h,validFrom:0,validUntil:y.utils.MAX_TIMESTAMP,fee:f.totalFee,feeTokenId:s.provider.tokenSet.resolveTokenId(i)});n.addChangePubKey({tx:g,alreadySigned:!0}),n.addTransfer({to:a.makerAddress,token:i,amount:m,fee:p.totalFee});const _=await n.build(),v=await Object(Bt.submitSignedTransactionsBatch)(s.provider,_.txs,[_.signature]);let w;for(const t of v)if("ChangePubKey"!==t.txData.tx.type){w=t;break}const b=await w.awaitReceipt();b.success&&!b.failReason&&this.onTransferSucceed(r,a,m.toString(),t,w.txHash),this.transferLoading=!1}}catch(t){console.warn("outError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}},async loopringTransfer(t,e,a){var s=a.c1ID===t?a.t1Address:a.t2Address;try{var r=new h.a(C.x.transferValue).plus(new h.a(a.tradingFee)).multipliedBy(new h.a(10**a.precision)).toFixed(),i=9e3+Number(e)+"",n=b.a.getTAmountFromRAmount(t,r,i);if(!n.state)return this.$notify.error({title:n.error,duration:3e3}),void(this.transferLoading=!1);const o=n.tAmount;try{const e=await F.sendTransfer(O.a.value.walletPayload.walletAddress,C.x.fromChainID,a.makerAddress,0,s,o,i);e.hash&&"processing"==e.status&&this.onTransferSucceed(O.a.value.walletPayload.walletAddress,a,o,t,e.hash),this.transferLoading=!1}catch(t){if(this.transferLoading=!1,"account is not activated"==t.message)this.$notify({type:"error",message:'<div style="text-align:left;font-size: 1.4rem; color: black">This Loopring account is not yet activated, please activate it before transferring.</div>',dangerouslyUseHTMLString:!0,duration:8e3});else if("User account is frozen"==t.message){const t=this.$notify({type:"error",message:'<div style="text-align:left;font-size: 1.4rem; color: black">Your Loopring account is frozen, please check your Loopring account status on Loopring website. Get more details <span style="color:blue;text-decoration: underline"> here </span>.</div>',dangerouslyUseHTMLString:!0,duration:8e3});t.$el.querySelector("span").onclick=()=>{t.close(),window.open("https://docs.loopring.io/en/basics/key_mgmt.html?h=frozen","_blank")}}else this.$notify.error({title:t.message,duration:3e3})}}catch(t){console.warn("outError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}},addChainNetWork(){var t=this,e=n.a.getChainInfo(this.$env.localChainID_netChainID[C.x.fromChainID]);const a={chainId:n.a.toHex(e.chainId)};O.a.value.walletPayload.provider.request({method:"wallet_switchEthereumChain",params:[a]}).then(()=>{let e=C.x.fromChainID;const a=(n.a.isExecuteXVMContract()?r.b.find(t=>t.chainId===e).contractAddress:C.k.value.makerAddress).toLowerCase();let s=n.a.shortAddress(a);4!=e&&44!=e||(s=n.a.shortAddress(Object(N.e)(C.k.value.makerAddress,e)));const{isCrossAddress:i,crossAddressReceipt:o}=C.x,c=(i?o:O.a.value.walletPayload.walletAddress).toLowerCase();t.$store.commit("updateConfirmRouteDescInfo",[{no:1,from:new h.a(C.x.transferValue).plus(new h.a(C.k.value.tradingFee))+C.x.selectTokenInfo.token,to:s,fromTip:"",toTip:a,icon:n.a.isExecuteXVMContract()?"contract":"wallet"},{no:2,from:s,to:n.a.shortAddress(c),fromTip:a,toTip:c,icon:"wallet"}]),this.RealTransfer()}).catch(t=>{if(console.warn(t),4902===t.code){const t={chainId:n.a.toHex(e.chainId),chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,symbol:e.nativeCurrency.symbol,decimals:e.nativeCurrency.decimals},rpcUrls:e.rpc,blockExplorerUrls:[e.explorers&&e.explorers.length>0&&e.explorers[0].url?e.explorers[0].url:e.infoURL]};O.a.value.walletPayload.provider.request({method:"wallet_addEthereumChain",params:[t,O.a.value.walletPayload.walletAddress]}).then(()=>{}).catch(t=>{console.warn(t),n.a.showMessage(t.message,"error")})}else n.a.showMessage(t.message,"error")})},async ethTransfer(t,e,a,s){const r=Yt[O.a.value.walletType];if(r)r(t,e,a,s,this.onTransferSucceed);else if(O.b.value)try{const r=O.a.value.walletPayload.provider,i=new D.a(r);let n=await V(s,e,t,e.makerAddress,a,r);2==s&&n<21e3&&(n=21e3);const o=new _.providers.Web3Provider(i.currentProvider);o.getSigner().sendTransaction({from:t,to:e.makerAddress,value:a,gasLimit:n}).then(r=>{this.transferLoading=!1,this.onTransferSucceed(t,e,a,s,r.hash)}).catch(t=>{this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})})}catch(t){console.error(t)}else this.transferLoading=!1},async starknetTransfer(t,e,a,s){if(O.b.value){if(4==s||44==s){const{starkChain:t}=C.O.starkNet;if(!t||"unlogin"==t)return void n.a.showMessage("please connect StarkNet Wallet","error");if(4==s&&(44==t||"localhost"==t))return void n.a.showMessage("please switch StarkNet Wallet to mainnet","error");if(44==s&&(4==t||"localhost"==t))return void n.a.showMessage("please switch StarkNet Wallet to testNet","error")}try{let r=e.t1Address;e.c1ID!=s&&(r=e.t2Address);const i=await Object(N.i)(t,r,e.makerAddress,new h.a(a),s);i&&this.onTransferSucceed(t,e,a,s,i)}catch(t){this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}}else this.transferLoading=!1},async imxTransfer(t,e,a,s){if(O.b.value)try{let r=e.t1Address;e.c1ID!=s&&(r=e.t2Address);const i=new L.a(s),o=await i.getImmutableXClient(t,!0);let c={type:Ht.b.ETH,data:{decimals:e.precision}};n.a.isEthTokenAddress(r)||(c={type:Ht.a.ERC20,data:{symbol:e.tName,decimals:e.precision,tokenAddress:r}});const l=await o.transfer({sender:t,token:c,quantity:Kt.a.from(a),receiver:e.makerAddress});this.onTransferSucceed(t,e,a,s,l.transfer_id)}catch(t){this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}else this.transferLoading=!1},async dydxTransfer(t,e,a,s){if(O.b.value)try{const r=new H.a(s,new D.a(O.a.value.walletPayload.provider),"MetaMask"),i=r.getMakerInfo(e.makerAddress),n=await r.getDydxClient(t,!1,!0),o=await r.getAccount(t),c={clientId:r.generateClientId(t),amount:new h.a(a).dividedBy(10**6).toString(),expiration:new Date((new Date).getTime()+2592e6).toISOString(),receiverAccountId:r.getAccountId(e.makerAddress),receiverPublicKey:i.starkKey,receiverPositionId:String(i.positionId)},l=await n.private.createTransfer(c,o.positionId);this.onTransferSucceed(t,e,a,s,l.transfer.id)}catch(t){console.error(t),this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}else this.transferLoading=!1},async transferCrossAddress(t,e,a,s){if(!O.b.value)return;let r=e.t1Address;e.c1ID!=s&&(r=e.t2Address);try{const{transferExt:i}=C.x,o=Kt.a.from(a);let c="";const l=e.makerAddress;if(O.a.value.walletType==Ft.j){const d=Object(U.b)(s),u=new _.providers.Web3Provider(d.currentProvider),h=new gt(u,s,u.getSigner(t));return c=n.a.isEthTokenAddress(r)?await(await h.wallConnTransfer(l,a,i)):await h.walletConnTransferERC20(r,e.makerAddress,o,i),void(c&&this.onTransferSucceed(t,e,a,s,c))}const d=new _.providers.Web3Provider(O.a.value.walletPayload.provider),u=new gt(d,s);return c=n.a.isEthTokenAddress(r)?(await u.transfer(e.makerAddress,o,i)).hash:(await u.transferERC20(r,e.makerAddress,o,i)).hash,void(c&&this.onTransferSucceed(t,e,a,s,c))}catch(t){var i;console.log(t),this.$notify.error({title:(null==t||null===(i=t.data)||void 0===i?void 0:i.message)||t.message,duration:3e3})}finally{this.transferLoading=!1}},async handleXVMContract(){const{fromChainID:t,toChainID:e,crossAddressReceipt:a,toCurrency:s}=C.x,i=C.k.value,o=O.a.value.walletPayload.walletAddress;if(!O.b.value)return;const c=(new D.a).utils.toWei(C.x.transferValue),l=Yt[O.a.value.walletType];if(l)l(o,i,c,t,this.onTransferSucceed);else try{const s=O.a.value.walletPayload.provider;let l=await V(t,i,o,i.makerAddress,c,s);2===t&&l<21e3&&(l=21e3);const{transactionHash:d}=await async function(t,e,a,s,i,o,c,l,d,u){const h=n.a.getXVMContractToChainInfo().toChain,m=h.tokenAddress,p=await n.a.getXVMExpectValue(1);console.log("expectValue",p);const f=new D.a(t||window.web3.currentProvider),g=[l,m,u,p,h.rate].map(t=>f.utils.toHex(t));return new f.eth.Contract(S,r.b.find(t=>t.chainId===s).contractAddress).methods.swap(i,o,c,g).send({from:e,gas:a,value:n.a.isEthTokenAddress(o)?c:0})}(s,o,121e3,t,i.makerAddress,i.t1Address,c,e,0,a||o);d&&this.onTransferSucceed(o,i,c,t,d)}catch(t){console.error(t),this.$notify.error({title:t.message,duration:3e3})}},async RealTransfer(){if(!O.b.value)return void Y.a.$emit("connectWallet",!0);const{fromChainID:t,toChainID:e,transferExt:a}=C.x;if(4!=t&&44!=t&&O.a.value.walletPayload.networkId.toString()!==this.$env.localChainID_netChainID[C.x.fromChainID]){const t=Gt[O.a.value.walletType];if(t)return void t(O.a.value.walletPayload.provider)}if(this.transferLoading)return;const s=C.k.value;if(n.a.isExecuteXVMContract())return this.transferLoading=!0,await this.handleXVMContract(),void(this.transferLoading=!1);if(!a||n.a.isSupportEVM(t)){if(this.transferLoading=!0,11!=e&&511!=e){let t=b.a.getToAmountFromUserAmount(new h.a(C.x.transferValue).plus(new h.a(C.k.value.tradingFee)),C.k.value,!1);if(!await W(t))return void(this.transferLoading=!1)}if(3===t||33===t)this.zkTransfer(t,e,s);else if(14===t||514===t)this.zk2Transfer(t,e,s);else if(9===t||99===t)this.loopringTransfer(t,e,s);else if(12===t||512===t)this.zkspaceTransfer(t,e,s);else{const r=s.c1ID===t?s.t1Address:s.t2Address,i=s.makerAddress,o=new h.a(C.x.transferValue).plus(new h.a(s.tradingFee)).multipliedBy(new h.a(10**s.precision)).toFixed(),c=9e3+Number(e)+"",l=b.a.getTAmountFromRAmount(t,o,c);if(!l.state)return this.$notify.error({title:l.error,duration:3e3}),void(this.transferLoading=!1);const d=O.a.value.walletPayload.walletAddress;if(4==t||44==t)return void this.starknetTransfer(d,s,l.tAmount,t);if(8==t||88==t)return void this.imxTransfer(d,s,l.tAmount,t);if(11==t||511==t)return void this.dydxTransfer(d,s,l.tAmount,t);if(a)return void this.transferCrossAddress(d,s,l.tAmount,t);if(n.a.isEthTokenAddress(r))this.ethTransfer(d,s,l.tAmount,t);else{if(O.a.value.walletType===Ft.j){const e=new D.a,a=new e.eth.Contract(I,r),n=await a.methods.transfer(i,e.utils.toHex(l.tAmount)).encodeABI();return zt(t,d,r,0,n).then(e=>{this.onTransferSucceed(d,s,l.tAmount,t,e)})}const e=function(t,e){if(3!==t&&33!==t&&4!==t&&44!==t){if(O.b.value){const r=new D.a(O.a.value.walletPayload.provider);var a=I,s=null;s=e.c1ID===t?e.t1Address:e.t2Address;const i=new r.eth.Contract(a,s);return i||null}return null}}(t,s);if(!e)return void this.$notify.error({title:"Failed to obtain contract information, please refresh and try again",duration:3e3});let a=await V(t,s,d,i,l.tAmount);2==t&&a<21e3&&(a=21e3);const n={from:d,gas:a};e.methods.transfer(i,l.tAmount).send(n,(e,a)=>{this.transferLoading=!1,e?this.$notify.error({title:e.message,duration:3e3}):this.onTransferSucceed(d,s,l.tAmount,t,a)})}}}else this.$notify.error({title:`Sorry, this fromChainID: ${t} no support EVM!`,duration:3e3})},onTransferSucceed(t,e,a,s,r){Rt.UserTransferReady(t,e.makerAddress,a,s,e,r);let i=r;8!=s&&88!=s||(i="TransferId: "+i),this.$notify.success({title:i,duration:3e3}),this.$emit("stateChanged","3")},closerButton(){this.$emit("stateChanged","1")}},async mounted(){this.expectValue=await n.a.getXVMExpectValue()}},Wt=(a("77c2"),Object(st.a)($t,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"confirm-box"},[e("CommBoxHeader",{style:t.isMobile?"":"margin-bottom:30px;",attrs:{back:t.closerButton}},[t._v("Confirm")]),t._l(t.confirmData,(function(a){return e("div",{key:a.title,staticClass:"confirm-item",style:{marginBottom:"22px"}},[e("div",{staticClass:"item-left"},[e("SvgIconThemed",{attrs:{icon:a.icon}}),e("span",{staticClass:"left-txt"},[t._v(t._s(a.title))]),e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",[t._v(t._s(a.notice))])]},proxy:!0}],null,!0)},[a.notice?e("HelpIcon",{attrs:{size:"sm"}}):t._e()],1)],1),e("div",{staticClass:"item-right"},[a.desc?e("span",[t._v(t._s(a.desc))]):t._e()]),a.descInfo&&a.descInfo.length>0?e("div",{staticClass:"descBottom"},t._l(a.descInfo,(function(a,s){return e("div",{key:a.no,staticStyle:{"margin-bottom":"1rem"}},[e("span",{staticStyle:{width:"40px",display:"inline-block"}},[t._v(" "+t._s(0===s?"Send":"")+" ")]),a.fromTip?e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",[t._v(t._s(a.fromTip))])]},proxy:!0}],null,!0)},[e("span",{staticStyle:{"margin-left":"0.7rem","margin-right":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.from)+" ")])]):e("span",{staticStyle:{"margin-left":"0.7rem","margin-right":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.from)+" ")]),t._v(" To "),e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",[t._v(t._s(a.toTip))])]},proxy:!0}],null,!0)},[e("span",{staticStyle:{"margin-left":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.to)+" ")])]),e("span",{staticStyle:{"margin-left":"0.3rem","vertical-align":"-25%"}},[e("SvgIconThemed",{attrs:{icon:a.icon}})],1)],1)})),0):t._e(),a.haveSep?e("div",{staticStyle:{"border-bottom":"2px dashed rgba(0, 0, 0, 0.2)",height:"43px"}}):t._e()])})),t.isStarkNetChain?e("div",{staticStyle:{padding:"0 30px",display:"flex","text-align":"left","padding-top":"8px"}},[e("SvgIconThemed",{staticStyle:{"margin-right":"10px"},attrs:{icon:"info"}}),e("span",{staticStyle:{color:"#df2e2d",flex:"1"}},[t._v("StarkNet is still in alpha version, the transaction on it maybe will be done in 1~2 hours. Orbiter keeps your funds safe.")])],1):t._e(),e("div",{staticStyle:{padding:"0 30px",display:"flex","text-align":"left","padding-top":"8px"}},[e("SvgIconThemed",{staticStyle:{"margin-right":"10px"},attrs:{icon:"info"}}),e("span",{staticStyle:{color:"#df2e2d",flex:"1"}},[t._v("Please do not modify the transaction or remove the last four digits on the transfer amount in MetaMask as this will cause the transaction to fail.")])],1),e("CommBtn",{staticClass:"select-wallet-dialog",on:{click:t.RealTransfer}},[t.transferLoading?e("CommLoading",{staticStyle:{margin:"auto"},attrs:{loadingColor:"white",width:"2rem",height:"2rem"}}):e("span",{staticClass:"wbold s16",staticStyle:{"letter-spacing":"0.1rem"}},[t._v("CONFIRM AND SEND")])],1)],2)}),[],!1,null,"fda35464",null).exports),Zt={name:"Proceed",props:{detailData:{type:Object,required:!1,default:null}},components:{SvgIconThemed:s.j,CommBoxHeader:s.a},computed:{isCompleted(){return!this.detailData&&!(1===this.$store.state.proceedState||2===this.$store.state.proceedState)&&5===this.$store.state.proceedState},isFailed(){return this.detailData&&!(1===this.detailData.state||0===this.detailData.state)},isMobile:()=>C.f.value,isProcee(){return this.detailData?1==this.detailData.state:5!==this.$store.state.proceedState},isLightMode(){return"light"===this.$store.state.themeMode},FromChainName(){const t=this.getChainId();return n.a.chainName(t,this.$env.localChainID_netChainID[t])},toChainName(){const t=this.getChainId(!1);return n.a.chainName(t,this.$env.localChainID_netChainID[t])},FromTx(){if(this.detailData){const{fromTxHash:t,fromChainID:e}=this.detailData;return 8==e||88==e?"TransferId: "+t:"Tx:"+n.a.shortAddress(t)}const{proceedState:t,proceeding:e}=this.$store.state;return 1===t?"View on Explore":8==C.x.fromChainID||88==C.x.fromChainID?"TransferId: "+e.userTransfer.txid:"Tx:"+n.a.shortAddress(e.userTransfer.txid)},ToTx(){if(this.detailData){const{state:t,toTxHash:e,toChainID:a}=this.detailData;return 0!==t?"View on Explore":8==a||88==a?"TransferId: "+e:"Tx:"+n.a.shortAddress(e)}const{proceedState:t,proceeding:e}=this.$store.state;return t<4?"View on Explore":8==C.x.toChainID||88==C.x.toChainID?"TransferId: "+e.makerTransfer.txid:"Tx:"+n.a.shortAddress(e.makerTransfer.txid)},proceedData(){if(this.detailData){var t,e;return[{title:"Timestamp",desc:null===(t=new Date(this.detailData.fromTimeStamp+" UTC+0").toLocaleString())||void 0===t||null===(e=t.replace(/\..*/g,""))||void 0===e?void 0:e.replace("T"," ")},{title:"Value",desc:this.detailData.userAmount.toString()+" "+this.detailData.tokenName}]}return[{title:"Timestamp",desc:n.a.transferTimeStampToTime(this.$store.state.proceeding.userTransfer.timeStamp)},{title:"Value",desc:(this.$store.state.proceeding.userTransfer.amount/10**C.k.value.precision).toFixed(6)+" "+C.x.selectTokenInfo.token}]}},methods:{showChainIcon(t=!0){return this.detailData?Object(Q.a)(this.detailData[(t?"from":"to")+"ChainID"]):Object(Q.a)(C.x[(t?"from":"to")+"ChainID"])},getChainId(t=!0){let e;return e=this.detailData?this.detailData[(t?"from":"to")+"ChainID"]:C.x[(t?"from":"to")+"ChainID"],e},switchNetWork(t=!0){this.addChainNetWork(this.getChainId(t))},async goToExplorFrom(){let t;if(this.detailData){const{accountExploreUrl:e}=this.$env,{fromChainID:a}=this.detailData;let s=this.detailData.fromTxHash;return t=this.$env.txExploreUrl[a]+s,88==a&&(t=e[a]),9!=this.detailData.fromChainID&&99!=this.detailData.fromChainID||(t=0!=this.detailData.blockNum&&0!=this.detailData.indexInBlock&&null!=this.detailData.blockNum&&null!=this.detailData.indexInBlock?this.$env.txExploreUrl[this.detailData.fromChainID]+`${this.detailData.blockNum}-${this.detailData.indexInBlock}`:this.$env.txExploreUrl[this.detailData.fromChainID]+s+"-transfer"),void window.open(t,"_blank")}const{fromChainID:e}=C.x,{accountExploreUrl:a,txExploreUrl:s}=this.$env;if(1===this.$store.state.proceedState){let s=C.O.coinbase;4!=e&&44!=e||(s=C.O.starkNet.starkNetAddress),t=a[e]+s,8!=e&&88!=e||(t=a[e])}else{let r=this.$store.state.proceeding.userTransfer.txid;t=s[e]+r+(9==e||99==e?"-transfer":""),88==e&&(t=a[e])}window.open(t,"_blank")},async goToExplorTo(){let t={};t=this.detailData?this.detailData:C.x;const{toChainID:e,state:a}=t,{accountExploreUrl:s,txExploreUrl:r}=this.$env;let i=null;const n=()=>{let t=C.O.coinbase;4!=e&&44!=e||(t=C.O.starkNet.starkNetAddress),i=s[e]+t,8!=e&&88!=e||(i=s[e])};if(this.detailData)if(0!==a)n();else{let t=this.detailData.toTxHash;i=r[e]+t,88==e&&(i=s[e]),9!=this.detailData.toChainID&&99!=this.detailData.toChainID||(i=0!=this.detailData.blockNum&&0!=this.detailData.indexInBlock&&null!=this.detailData.blockNum&&null!=this.detailData.indexInBlock?this.$env.txExploreUrl[this.detailData.toChainID]+`${this.detailData.blockNum}-${this.detailData.indexInBlock}`:this.$env.txExploreUrl[this.detailData.toChainID]+t+"-transfer")}else if(this.$store.state.proceedState<4)n();else{let t=this.$store.state.proceeding.makerTransfer.txid;i=r[e]+t+(9==e||99==e?"-transfer":""),88==e&&(i=s[e])}window.open(i,"_blank")},closerButton(){if(this.detailData){const t=this.$route;localStorage.setItem("last_page_before_history",JSON.stringify({path:t.path,params:t.params,query:t.query})),Object(C.m)(),this.$router.push({path:"/history"}),this.$emit("stateChanged","4")}else this.$store.commit("updateProceedTxID",null),this.$emit("stateChanged","1")},reportError(){console.warn("reportError")},addChainNetWork(t){var e=n.a.getChainInfo(this.$env.localChainID_netChainID[t]);const a={chainId:n.a.toHex(e.chainId)};O.a.value.walletPayload.provider.request({method:"wallet_switchEthereumChain",params:[a]}).then(()=>{n.a.showMessage("switch success","success")}).catch(t=>{if(console.warn(t),4902===t.code){const t={chainId:n.a.toHex(e.chainId),chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,symbol:e.nativeCurrency.symbol,decimals:e.nativeCurrency.decimals},rpcUrls:e.rpc,blockExplorerUrls:[e.explorers&&e.explorers.length>0&&e.explorers[0].url?e.explorers[0].url:e.infoURL]};O.a.value.walletPayload.provider.request({method:"wallet_addEthereumChain",params:[t,C.O.coinbase]}).then(()=>{}).catch(t=>{console.warn(t),n.a.showMessage(t.message,"error")})}else n.a.showMessage(t.message,"error")})}}},Qt=(a("6408"),{name:"Bridge",components:{Transfer:rt,Confirm:Wt,Proceed:Object(st.a)(Zt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"proceed-box"},[e("CommBoxHeader",{attrs:{back:t.closerButton}},[t._v(t._s(t.detailData?t.isFailed?"Transcation Failed":"Detail":t.isCompleted?"Completed":"Processing"))]),e("div",{staticClass:"ProceedContent"},[t._l(t.proceedData,(function(a){return e("div",{key:a.title,staticClass:"contentItem"},[e("span",{staticClass:"item-title",staticStyle:{width:"100px","text-align":"left"}},[t._v(t._s(a.title))]),a.desc||a.descInfo?e("span",{staticClass:"item-value right"},[t._v(t._s(a.desc))]):e("CommLoading",{staticClass:"right",attrs:{width:"1.2rem",height:"1.2rem"}})],1)})),e("div",{staticClass:"chainDataContent"},[t.isMobile?e("div",{staticClass:"middle-icon-abs",staticStyle:{"z-index":"2"}},[t.isProcee?e("div",{class:[{"rocket-box-bg":t.isProcee}]}):e("div",{class:["rocket-box"]},[t.detailData?e("SvgIconThemed",{staticStyle:{width:"24px",height:"24px"},attrs:{iconName:"succeed"}}):e("SvgIconThemed",{attrs:{icon:"satellite",size:"xs"}})],1)]):t._e(),e("div",{staticClass:"item left",staticStyle:{"z-index":"3"}},[e("div",{staticClass:"chain-name from"},[e("span",[t._v(t._s(t.FromChainName))])]),e("div",{staticClass:"chain"},[e("svg-icon",{staticStyle:{width:"56px",height:"56px"},attrs:{iconName:t.showChainIcon()}})],1),e("div",{staticClass:"tx from-tx",on:{click:t.goToExplorFrom}},[t.detailData?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):[1===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_2"}}):2===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_3"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}})],e("span",[t._v(t._s(t.FromTx))])],2),e("div",{staticClass:"switch-btn",on:{click:()=>t.switchNetWork()}},[t._v(" Switch Network ")])]),e("div",{staticClass:"middle-icon"},[t.isMobile?t._e():e("div",{class:["rocket-box",{"rocket-box-bg":t.isProcee}]},[t.isProcee||t.detailData?t._e():e("SvgIconThemed",{attrs:{icon:"satellite",size:"xs"}})],1),t.isMobile?t._e():e("div",{staticClass:"rocket-line-box"},[e("SvgIconThemed",{staticStyle:{width:"161px",height:"14px","margin-top":"10px"},attrs:{icon:"rocket-line"}})],1)]),e("div",{staticClass:"item right",staticStyle:{"z-index":"3"}},[e("div",{staticClass:"chain-name to"},[e("span",[t._v(t._s(t.toChainName))])]),e("div",{staticClass:"chain"},[e("svg-icon",{staticStyle:{width:"56px",height:"56px"},attrs:{iconName:t.showChainIcon(!1)}})],1),e("div",{staticClass:"tx to-tx",on:{click:t.goToExplorTo}},[t.detailData?[0===t.detailData.state?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):1===t.detailData.state?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_2"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-error"}})]:[4===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_3"}}):5===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_1"}})],e("span",[t._v(t._s(t.ToTx))])],2),e("div",{staticClass:"switch-btn",on:{click:()=>t.switchNetWork(!1)}},[t._v(" Switch Network ")])])])],2)],1)}),[],!1,null,"e7a648da",null).exports,ToggleBtn:s.k},computed:{isMobile:()=>C.f.value,isSenderTab:()=>"Sender"===C.c.value,status:()=>C.b.value,showDetail:()=>C.e.isShowHistory,detailData:()=>C.e.historyInfo},methods:{toggleTab(){Object(C.a)("1"),Object(C.w)()},clickLearnMore(){window.open("https://docs.orbiter.finance/","_blank")},changeState(t){"1"!==t&&"2"!==t&&"3"!==t?C.e.isShowHistory=!1:this.status!==t&&Object(C.a)(t)}}}),Xt=(a("b7ab"),Object(st.a)(Qt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bridage-page"},[[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile&&"1"===t.status&&!t.showDetail,expression:"!isMobile && status === '1' && !showDetail"}],staticClass:"sub-tabs"},[e("ToggleBtn",{on:{input:t.toggleTab}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSenderTab&&"1"===t.status&&!t.showDetail,expression:"isSenderTab && status === '1' && !showDetail"}],staticClass:"sender-box"},[e("keep-alive",[e("Transfer",{on:{stateChanged:t.changeState}})],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isSenderTab&&"1"===t.status&&!t.showDetail,expression:"!isSenderTab && status === '1' && !showDetail"}],staticClass:"maker-box"},[e("div",{staticClass:"maker-title"},[t._v("About Maker")]),e("div",{staticClass:"maker-content"},[e("div",[t._v("Orbiter's Maker provides liquidity for Layer 2 and benefits from it.")]),e("div",{staticClass:"maker-link",on:{click:t.clickLearnMore}},[t._v("LEARN MORE")]),e("div",{staticClass:"maker-foot-btn"},[t._v("COMING SOON")])])])],e("div",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.status||t.showDetail,expression:"status !== '1' || showDetail"}],staticClass:"center",staticStyle:{width:"100%",height:"100%"}},[t.showDetail?e("Proceed",{attrs:{detailData:t.detailData},on:{stateChanged:t.changeState}}):["2"===t.status?e("Confirm",{on:{stateChanged:t.changeState}}):t._e(),"3"===t.status?e("Proceed",{on:{stateChanged:t.changeState}}):t._e()]],2)],2)}),[],!1,null,"61a02b0c",null));e.default=Xt.exports},ede9:function(t,e,a){"use strict";var s={props:{href:{type:String}}},r=(a("d224"),a("2877")),i=Object(r.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"50e45a0d",null);e.a=i.exports},ee70:function(t,e,a){},f23e:function(t,e,a){"use strict";var s={props:{timestamp:{type:Number,require:!0}},computed:{timeDiff(){return this.timestamp?function(t){if(void 0===t)return;const e=Date.parse(new Date)/1e3-t;return e<60?"just now":e>=60&&e<3600?Math.floor(e/60)+"m ago":e>=3600&&e<86400?Math.floor(e/3600)+"h ago":e>=86400&&e<2592e3?Math.floor(e/86400)+"d ago":Math.floor(e/2592e3)+"mon ago"}(this.timestamp):"-"}}},r=(a("1f91"),a("2877")),i=Object(r.a)(s,(function(){var t=this._self._c;return t("div",{staticClass:"time-diff"},[t("span",{staticClass:"icon"}),this._v(" "+this._s(this.timeDiff)+" ")])}),[],!1,null,"294b3275",null);e.a=i.exports},f33f:function(t,e,a){t.exports=a.p+"static/img/tusdlogo.6116614a.png"},f690:function(t,e,a){"use strict";var s=a("d186");const r=[{label:"Arbitrum",value:"arbitrum"},{label:"Optimism",value:"optimism"},{label:"zkSync",value:"zksync"},{label:"Arbitrum Nova",value:"arbitrumnova"}];var i={props:{customRollups:{type:Array},value:{require:!0},onlySelect:{default:!1}},computed:{isMobile:()=>s.f.value,rollups(){return Array.isArray(this.customRollups)?this.customRollups:r},current:{get(){return this.value},set(t){this.$emit("rollup-change",t)}}},methods:{onItemClick(t){this.value!==t.value&&this.$emit("rollup-change",t.value)}}},n=(a("5d38"),a("2877")),o=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"select-rollups-wrapper"},[t.isMobile||t.onlySelect?e("el-select",{attrs:{"no-data-text":"No Items"},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},t._l(t.rollups,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):e("div",{staticClass:"rollups"},t._l(t.rollups,(function(a){return e("div",{key:a.value,staticClass:"rollup",class:{active:t.value===a.value},on:{click:function(e){return t.onItemClick(a)}}},[t._v(" "+t._s(a.label)+" ")])})),0)],1)}),[],!1,null,null,null);e.a=o.exports},fa91:function(t,e,a){"use strict";var s={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22},chains:{type:Boolean,default:!1}},computed:{src(){if(this.isError)return a("31d6");if(!this.name)return"#";const t=this.name.replace(/\s+/g,"").toLowerCase();return["apex"].includes(t)?a("4fe9"):this.chains?`https://l2api.orbiter.finance/img/chains/${t}.png`:`https://l2api.orbiter.finance/img/dapps/${t}.png`}},watch:{name(){this.isError=!1}},methods:{onError(){this.isError=!0}}},r=(a("b651"),a("2877")),i=Object(r.a)(s,(function(){return(0,this._self._c)("img",{staticClass:"dapp-logo",attrs:{width:this.width,height:this.width,src:this.src},on:{error:this.onError}})}),[],!1,null,null,null);e.a=i.exports}}]);